{% macro search_icon() %}
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="search-button__svg">
  <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
  <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
</svg>
{% endmacro %}

{% macro search_button(icon=false, text="Search Bevy...", class="") %}
<button class="search-button {{ class }}" aria-label="{{ text }}" onclick="document.getElementById('search-dialog').showModal()">
  {{ search::search_icon() }}
  {% if not icon %}
  <span> {{ text }} </span>
  {% endif %}
</button>
{% endmacro %}

{% macro search_dialog() %}
<dialog id="search-dialog">
  <div style="display: flex; flex-direction: column; height: 100%;">
    <div class="search-dialog__inner">
      <form>
        <label aria-label="Search all of Bevy..." for="search-dialog__input">
          {{ search::search_icon() }}
        </label>
        <input
          id="search-dialog__input"
          placeholder="Search all of Bevy..."
          autofocus
        >
      </form>
      <div class="search-dialog__recent">
        <ul>
        </ul>
        <div class="search-dialog__recent__none">
          <!-- hidden by script if you have any recent searches, or if you type anything -->
          <em>&mdash; No recent searches &mdash;</em>
        </div>
      </div>
      <div class="search-dialog__results"></div>
    </div>
    <aside class="search-dialog__tip" aria-label="tip" style="display: flex; padding-top: 0.5em;">
      <div style="margin-inline: auto">
        <b>Tip!</b> (I'll write a script to pick a random one later)
        <ul class="display:none">
          <li>Open this dialog with <kbd>Ctrl+K</kbd></li>
          <li>some second thing</li>
          <li>some third thing</li>
        </ul>
      </div>
    </aside>
  </div>
</dialog>
{% endmacro %}
