<!doctype html><html class=light-mode lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Bevy Book: Fast Compiles" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//learn/book/development-practices/fast-compiles/ property=og:url><meta content=https://bevy.org/assets/bevy_logo_fill.png property=og:image><meta content="The previous chapters have focused on how to add and organize your code, but now we need to run it! Doing so involves running cargo run, which invokesâ€¦" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>Bevy Book: Fast Compiles</title><script src=/optional-helpers.js></script><script defer src=/highlight-intrapage-link.js></script><script defer src=/clipboard.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>The Book</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">The Book</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu><input class=tree-menu__state id=mobile-menu-learn-book-intro type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/intro/>Introduction</a><label class=tree-menu__toggle for=mobile-menu-learn-book-intro><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/what-is-bevy/>What is Bevy?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-three-letters/>The E, the C, and the S</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-next-three-letters/>Resources, Queries, and Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/apps-worlds/>Apps and Worlds</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-storing-data type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/storing-data/>Storing Data</a><label class=tree-menu__toggle for=mobile-menu-learn-book-storing-data><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/entities-components/>Entities Have Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/required-components/>Required Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/world/>The World</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/queries/>Queries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/resources/>Resources</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/relations/>Relations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/local-system-param/>System-Local Data Storage</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-control-flow type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/control-flow/>Control Flow</a><label class=tree-menu__toggle for=mobile-menu-learn-book-control-flow><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/systems/>Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/run-conditions/>Skipping systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/states/>States</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/commands/>Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/handling-errors/>Handling Errors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/change-detection/>Change Detection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/events/>Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/lifecycle-events/>Component Lifecycles</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-the-game-loop type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/the-game-loop/>The Game Loop</a><label class=tree-menu__toggle for=mobile-menu-learn-book-the-game-loop><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/app/>App</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/schedules/>Schedules</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/rendering-frames/>Rendering frames</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/input-and-windowing/>Input and windowing</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/time-and-timers/>Time and Timers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/custom-loops/>Custom Loops</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-modular-architecture type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/modular-architecture/>Modular Architecture</a><label class=tree-menu__toggle for=mobile-menu-learn-book-modular-architecture><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/plugins/>Plugins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/project-organization/>Project Organization</a></div></ul></li><input checked class=tree-menu__state id=mobile-menu-learn-book-development-practices type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/development-practices/>Development Practices</a><label class=tree-menu__toggle for=mobile-menu-learn-book-development-practices><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/fast-compiles/>Fast Compiles</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#linking-optimizations>Linking Optimizations</a> <ul><li><a href=#dynamic-linking>Dynamic Linking</a><li><a href=#alternative-linkers>Alternative Linkers</a></ul><li><a href=#nightly-rust-compiler>Nightly Rust Compiler</a><li><a href=#cranelift>Cranelift</a><li><a href=#generic-sharing>Generic Sharing</a> <ul><li><a href=#generic-sharing-setup>Generic sharing setup</a></ul></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/hot-reloading/>Hot Reloading Code and Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/debugging/>Debugging</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/testing/>Testing Bevy apps</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/linting/>Linting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/dev-tools/>Dev tools</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-releasing-projects type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/releasing-projects/>Releasing Projects</a><label class=tree-menu__toggle for=mobile-menu-learn-book-releasing-projects><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/profiling/>Profiling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-performance/>Optimizing Performance</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-binary-size/>Optimizing Binary Size</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/libraries-for-bevy/>Creating libraries for Bevy</a></div></ul></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class=main-menu__link href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><h1 class=warning>This page is hidden because an ancestor is hidden</h1><div class=page-with-menu><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu><input class=tree-menu__state id=page-menu-learn-book-intro type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/intro/>Introduction</a><label class=tree-menu__toggle for=page-menu-learn-book-intro><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/what-is-bevy/>What is Bevy?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-three-letters/>The E, the C, and the S</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-next-three-letters/>Resources, Queries, and Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/apps-worlds/>Apps and Worlds</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-storing-data type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/storing-data/>Storing Data</a><label class=tree-menu__toggle for=page-menu-learn-book-storing-data><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/entities-components/>Entities Have Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/required-components/>Required Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/world/>The World</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/queries/>Queries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/resources/>Resources</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/relations/>Relations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/local-system-param/>System-Local Data Storage</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-control-flow type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/control-flow/>Control Flow</a><label class=tree-menu__toggle for=page-menu-learn-book-control-flow><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/systems/>Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/run-conditions/>Skipping systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/states/>States</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/commands/>Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/handling-errors/>Handling Errors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/change-detection/>Change Detection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/events/>Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/lifecycle-events/>Component Lifecycles</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-the-game-loop type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/the-game-loop/>The Game Loop</a><label class=tree-menu__toggle for=page-menu-learn-book-the-game-loop><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/app/>App</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/schedules/>Schedules</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/rendering-frames/>Rendering frames</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/input-and-windowing/>Input and windowing</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/time-and-timers/>Time and Timers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/custom-loops/>Custom Loops</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-modular-architecture type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/modular-architecture/>Modular Architecture</a><label class=tree-menu__toggle for=page-menu-learn-book-modular-architecture><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/plugins/>Plugins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/project-organization/>Project Organization</a></div></ul></li><input checked class=tree-menu__state id=page-menu-learn-book-development-practices type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/development-practices/>Development Practices</a><label class=tree-menu__toggle for=page-menu-learn-book-development-practices><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/fast-compiles/>Fast Compiles</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#linking-optimizations>Linking Optimizations</a> <ul><li><a href=#dynamic-linking>Dynamic Linking</a><li><a href=#alternative-linkers>Alternative Linkers</a></ul><li><a href=#nightly-rust-compiler>Nightly Rust Compiler</a><li><a href=#cranelift>Cranelift</a><li><a href=#generic-sharing>Generic Sharing</a> <ul><li><a href=#generic-sharing-setup>Generic sharing setup</a></ul></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/hot-reloading/>Hot Reloading Code and Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/debugging/>Debugging</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/testing/>Testing Bevy apps</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/linting/>Linting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/dev-tools/>Dev tools</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-releasing-projects type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/releasing-projects/>Releasing Projects</a><label class=tree-menu__toggle for=page-menu-learn-book-releasing-projects><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/profiling/>Profiling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-performance/>Optimizing Performance</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-binary-size/>Optimizing Binary Size</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/libraries-for-bevy/>Creating libraries for Bevy</a></div></ul></ul></div></div><div class=page-with-menu__content><div class=docs-page><div class=docs-content><h1>Fast Compiles</h1><div class=media-content><p>The previous chapters have focused on how to add and organize your code, but now we need to run it! Doing so involves running <code>cargo run</code>, which invokes the <a href=https://doc.rust-lang.org/rustc/what-is-rustc.html>Rust Compiler</a> to compile and build your project. However, compile times can be quite long using the Rust Compiler's default settings. Thankfully we have several methods that can speed compile time up.<h2 id=linking-optimizations>Linking Optimizations <a class=anchor-link href=#linking-optimizations>#</a></h2><p>The Rust Compiler takes your source code turns it into binary code, either as a library to be used in other projects or as a standalone executable program. <strong>Linking</strong> is a major part of the compilation process. During this stage all program files, libraries, and external dependencies are collected and assembled for your project's code to access. By default the Rust Compiler will <strong>statically</strong> link your project, meaning that all code (including external dependency code) is placed inside your project executable.<h3 id=dynamic-linking>Dynamic Linking <a class=anchor-link href=#dynamic-linking>#</a></h3><p>In contrast to static linking, <strong>dynamic</strong> linking creates references to any shared libraries instead of repeatedly copying them. These references are loaded into memory at runtime and results in smaller binary sizes. This is the most impactful compilation time decrease!<p>You can compile <code>bevy</code> as dynamic library, preventing it from having to be statically linked each time you rebuild your project. You can enable this with the <code>dynamic_linking</code> feature flag.<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>features</span> bevy/dynamic_linking</span>
</span></code></pre><p>If you don't want to add the <code>--features bevy/dynamic_linking</code> to each run, this flag can permanently be set with this command:<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This edits your project Cargo.toml file.</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> add bevy<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>F</span> dynamic_linking</span>
</span></code></pre><aside class="callout callout--warning"><p>On Windows you must also enable the <a href=/learn/book/releasing-projects/optimizing-performance>performance optimizations</a> or you will get a <a href=https://github.com/bevyengine/bevy/issues/1110#issuecomment-1312926923>"too many exported symbols"</a> error.<p>In order to run <code>cargo test --doc</code>, you must also add the path returned by <code>rustc --print target-libdir</code> to your <code>PATH</code> environment variable.</aside><aside class="callout callout--note"><p>Shipping your game with dynamic linking enabled is not recommended because it requires you to include <code>libbevy_dylib</code> alongside your game, it prevents certain optimizations, and can increase the size of your game. If you remove the <code>dynamic_linking</code> feature, your game executable can run standalone.</aside><h3 id=alternative-linkers>Alternative Linkers <a class=anchor-link href=#alternative-linkers>#</a></h3><p>If dynamic linking isn't preferred or possible, we can use alternative linkers during compilation. However, changing away from your platform's default linker might not provide a substantial (or even noticeable) benefit. As an example, <a href=https://blog.rust-lang.org/2025/09/01/rust-lld-on-1.90.0-stable/>with Rust 1.90.0</a> the Rust Compiler began using LLVM's <code>lld</code> linker on <code>x86_64-unknown-linux-gnu</code> target platforms by default to provide a faster linker.<details><summary>Mold</summary> <p><a href=https://github.com/rui314/mold>Mold</a> is an alternative linker for Linux systems claiming to be faster than LLVM's <code>lld</code> linker. However, it also comes with drawbacks, such as limited platform support and occasional stability issues. To install Mold, use your preferred package manager.</p> <p>Examples:</p> <ul><li><strong>Ubuntu</strong>: <code>sudo apt-get install mold clang</code><li><strong>Fedora</strong>: <code>sudo dnf install mold clang</code><li><strong>Arch</strong>: <code>sudo pacman -S mold clang</code></ul> <p>You will also need to add the following to your Cargo config at <code>/path/to/project/.cargo/config.toml</code>:</p> <pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">target</span><span class="z-punctuation z-separator z-table z-toml">.</span><span class="z-entity z-name z-table z-toml">x86_64-unknown-linux-gnu</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">linker</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>clang<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">rustflags</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>-C<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>link-arg=-fuse-ld=/path/to/mold<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-definition z-array z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> Where "/path/to/mold" is the location of your mold installation.</span>
</span></code></pre> <aside class="callout callout--note"><p>Disabling <code>bevy/dynamic_linking</code> may improve Mold's performance. <sup>[citation needed]</sup></aside></details><h2 id=nightly-rust-compiler>Nightly Rust Compiler <a class=anchor-link href=#nightly-rust-compiler>#</a></h2><p>This gives access to the latest performance improvements and "unstable" optimizations, including <a href=https://bevy.org/learn/book/development-practices/fast-compiles/#generic-sharing>generic sharing</a> below.<p>Create a <code>rust-toolchain.toml</code> file in the root of your project, next to <code>Cargo.toml</code>.<pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">toolchain</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">channel</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>nightly<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span>
</span></code></pre><p>For more information, see <a href=https://rust-lang.github.io/rustup/overrides.html#the-toolchain-file>The rustup book: Overrides</a>.<h2 id=cranelift>Cranelift <a class=anchor-link href=#cranelift>#</a></h2><p>This uses a new nightly-only codegen that is about 30% faster at compiling than LLVM. It currently works best on Linux.<p>To install Cranelift, run the following.<pre class="language-sh z-code" data-lang=sh><code class=language-sh data-lang=sh><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">rustup</span></span><span class="z-meta z-function-call z-arguments z-shell"> component add rustc-codegen-cranelift-preview<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>toolchain</span> nightly</span>
</span></code></pre><p>To activate it for your project, add the following to your <code>.cargo/config.toml</code>.<pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">unstable</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">codegen-backend</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-constant z-language z-toml">true</span>
</span><span class="z-source z-toml">
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">profile</span><span class="z-punctuation z-separator z-table z-toml">.</span><span class="z-entity z-name z-table z-toml">dev</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">codegen-backend</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>cranelift<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span>
</span><span class="z-source z-toml">
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">profile</span><span class="z-punctuation z-separator z-table z-toml">.</span><span class="z-entity z-name z-table z-toml">dev</span><span class="z-punctuation z-separator z-table z-toml">.</span><span class="z-entity z-name z-table z-toml">package</span><span class="z-punctuation z-separator z-table z-toml">.</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>*<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">codegen-backend</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>llvm<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span>
</span></code></pre><p>This enables faster compiles for your binary, but builds Bevy and other dependencies with the more-optimized LLVM backend. See the <a href=https://github.com/rust-lang/rustc_codegen_cranelift#download-using-rustup>cranelift setup guide</a> for details on other ways in which Cranelift can be enabled. The installation process for Windows is a bit more involved. Consult the linked documentation for help. MacOS builds can currently crash on Bevy applications, so you should still wait a bit before using cranelift on that system.<p>While Cranelift is very fast to compile, the generated binaries are not optimized for speed. Additionally, it is generally still immature, so you may run into issues with it. Notably, Wasm builds do not work yet.<p>When shipping your game, you should still compile it with LLVM.<h2 id=generic-sharing>Generic Sharing <a class=anchor-link href=#generic-sharing>#</a></h2><p>Allows crates to share monomorphized generic code instead of duplicating it. In some cases this allows us to "precompile" generic code so it doesn't affect iterative compiles. This is currently only available on nightly Rust (<a href=https://bevy.org/learn/book/development-practices/fast-compiles/#nightly-rust-compiler>see above</a>).<h3 id=generic-sharing-setup>Generic sharing setup <a class=anchor-link href=#generic-sharing-setup>#</a></h3><p>See <a href=https://github.com/bevyengine/bevy/blob/latest/.cargo/config_fast_builds.toml>this file</a> for a more comprehensive, cross-platform example.<pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> /path/to/project/.cargo/config.toml</span>
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">target</span><span class="z-punctuation z-separator z-table z-toml">.</span><span class="z-entity z-name z-table z-toml">x86_64-unknown-linux-gnu</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">rustflags</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> (Nightly) Make the current crate share its generic instantiations</span>
</span><span class="z-source z-toml"><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>-Zshare-generics=y<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-array z-end z-toml">]</span>
</span></code></pre></div><div class="docs-footer print:hidden"><nav class=docs-footer__nav><a class="docs-footer__link docs-footer__link--next" data-docs-nav-next href=/learn/book/development-practices/hot-reloading/> <div class=docs-footer__label><div class=docs-footer__dir>Next</div> Hot Reloading Code and Assets</div> <i class="docs-footer__chevron icon icon--chevron-right"></i> </a><a class="docs-footer__link docs-footer__link--prev" data-docs-nav-previous href=/learn/book/development-practices/> <div class=docs-footer__label><div class=docs-footer__dir>Previous</div> Development Practices</div> <i class="docs-footer__chevron icon icon--chevron-left"></i> </a></nav><div class=docs-footer__edit-wrapper><a class=docs-footer__edit href=https://github.com/bevyengine/bevy-website/edit/main/content/learn/book/development-practices/fast-compiles.md> <i class="icon icon--pencil"></i> Improve this page </a><a href="https://github.com/bevyengine/bevy-website/issues/new?template=docs.md&title=Issue%20on%20page%20Fast%20Compiles" class=docs-footer__edit> <i class="icon icon--github"></i> Report issue </a></div></div></div></div></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>