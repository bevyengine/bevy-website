<!doctype html><html class=light-mode lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Bevy Book: Systems" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//learn/book/control-flow/systems/ property=og:url><meta content=https://bevy.org/assets/bevy_logo_fill.png property=og:image><meta content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>Bevy Book: Systems</title><script src=/optional-helpers.js></script><script defer src=/highlight-intrapage-link.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>The Book</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">The Book</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu><input class=tree-menu__state id=mobile-menu-learn-book-intro type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/intro/>Introduction</a><label class=tree-menu__toggle for=mobile-menu-learn-book-intro><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/what-is-bevy/>What is Bevy?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-three-letters/>The E, the C, and the S</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-next-three-letters/>Resources, Queries, and Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/apps-worlds/>Apps and Worlds</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-storing-data type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/storing-data/>Storing Data</a><label class=tree-menu__toggle for=mobile-menu-learn-book-storing-data><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/entities-components/>Entities Have Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/required-components/>Required Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/world/>The World</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/queries/>Queries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/resources/>Resources</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/relations/>Relations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/local-system-param/>System-Local Data Storage</a></div></ul></li><input checked class=tree-menu__state id=mobile-menu-learn-book-control-flow type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/control-flow/>Control Flow</a><label class=tree-menu__toggle for=mobile-menu-learn-book-control-flow><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/systems/>Systems</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#accessing-data-in-systems>Accessing data in systems</a><li><a href=#running-systems-in-schedules>Running systems in schedules</a><li><a href=#one-shot-systems>One-shot systems</a><li><a href=#exclusive-systems>Exclusive systems</a><li><a href=#system-input-and-output>System input and output</a></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/run-conditions/>Skipping systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/states/>States</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/commands/>Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/handling-errors/>Handling Errors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/change-detection/>Change Detection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/events/>Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/observers/>Observers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/hooks/>Hooks</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-the-game-loop type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/the-game-loop/>The Game Loop</a><label class=tree-menu__toggle for=mobile-menu-learn-book-the-game-loop><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/app/>App</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/schedules/>Schedules</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/rendering-frames/>Rendering frames</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/input-and-windowing/>Input and windowing</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/time-and-timers/>Time and Timers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/custom-loops/>Custom Loops</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-modular-architecture type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/modular-architecture/>Modular Architecture</a><label class=tree-menu__toggle for=mobile-menu-learn-book-modular-architecture><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/plugins/>Plugins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/project-organization/>Project Organization</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-development-practices type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/development-practices/>Development Practices</a><label class=tree-menu__toggle for=mobile-menu-learn-book-development-practices><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/fast-compiles/>Fast Compiles</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/hot-reloading/>Hot Reloading Code and Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/debugging/>Debugging</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/testing/>Testing Bevy apps</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/linting/>Linting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/dev-tools/>Dev tools</a></div></ul></li><input class=tree-menu__state id=mobile-menu-learn-book-releasing-projects type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/releasing-projects/>Releasing Projects</a><label class=tree-menu__toggle for=mobile-menu-learn-book-releasing-projects><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/profiling/>Profiling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-performance/>Optimizing Performance</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-binary-size/>Optimizing Binary Size</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/libraries-for-bevy/>Creating libraries for Bevy</a></div></ul></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class=main-menu__link href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><h1 class=warning>This page is hidden because an ancestor is hidden</h1><div class=page-with-menu><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu><input class=tree-menu__state id=page-menu-learn-book-intro type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/intro/>Introduction</a><label class=tree-menu__toggle for=page-menu-learn-book-intro><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/what-is-bevy/>What is Bevy?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-three-letters/>The E, the C, and the S</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/the-next-three-letters/>Resources, Queries, and Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/intro/apps-worlds/>Apps and Worlds</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-storing-data type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/storing-data/>Storing Data</a><label class=tree-menu__toggle for=page-menu-learn-book-storing-data><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/entities-components/>Entities Have Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/required-components/>Required Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/world/>The World</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/queries/>Queries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/resources/>Resources</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/relations/>Relations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/storing-data/local-system-param/>System-Local Data Storage</a></div></ul></li><input checked class=tree-menu__state id=page-menu-learn-book-control-flow type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/control-flow/>Control Flow</a><label class=tree-menu__toggle for=page-menu-learn-book-control-flow><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/systems/>Systems</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#accessing-data-in-systems>Accessing data in systems</a><li><a href=#running-systems-in-schedules>Running systems in schedules</a><li><a href=#one-shot-systems>One-shot systems</a><li><a href=#exclusive-systems>Exclusive systems</a><li><a href=#system-input-and-output>System input and output</a></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/run-conditions/>Skipping systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/states/>States</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/commands/>Commands</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/handling-errors/>Handling Errors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/change-detection/>Change Detection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/events/>Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/observers/>Observers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/control-flow/hooks/>Hooks</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-the-game-loop type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/the-game-loop/>The Game Loop</a><label class=tree-menu__toggle for=page-menu-learn-book-the-game-loop><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/app/>App</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/schedules/>Schedules</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/rendering-frames/>Rendering frames</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/input-and-windowing/>Input and windowing</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/time-and-timers/>Time and Timers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/the-game-loop/custom-loops/>Custom Loops</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-modular-architecture type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/modular-architecture/>Modular Architecture</a><label class=tree-menu__toggle for=page-menu-learn-book-modular-architecture><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/plugins/>Plugins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/modular-architecture/project-organization/>Project Organization</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-development-practices type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/development-practices/>Development Practices</a><label class=tree-menu__toggle for=page-menu-learn-book-development-practices><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/fast-compiles/>Fast Compiles</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/hot-reloading/>Hot Reloading Code and Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/debugging/>Debugging</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/testing/>Testing Bevy apps</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/linting/>Linting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/development-practices/dev-tools/>Dev tools</a></div></ul></li><input class=tree-menu__state id=page-menu-learn-book-releasing-projects type=checkbox><li class=tree-menu__item><div class="tree-menu__label tree-menu__label--with-chevron"><a class=tree-menu__link href=/learn/book/releasing-projects/>Releasing Projects</a><label class=tree-menu__toggle for=page-menu-learn-book-releasing-projects><img alt="A chevron, or V-shaped symbol" class=tree-menu__chevron height=24 src=/assets/icon-chevron-down.svg width=15></label></div> <ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/profiling/>Profiling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-performance/>Optimizing Performance</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/optimizing-binary-size/>Optimizing Binary Size</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/book/releasing-projects/libraries-for-bevy/>Creating libraries for Bevy</a></div></ul></ul></div></div><div class=page-with-menu__content><div class=docs-page><div class=docs-content><h1>Systems</h1><div class=media-content><p>Systems are the primary way that Bevy programs interact with the [<code>World</code>]. Systems are great for regularly scheduled logic, especially when you want to operate over a large number of similar entities in an efficient way.<p>That high-performance access pattern is why ECS was originally invented: because components of a given type are laid out beside each other in memory, we get good <a href=https://en.wikipedia.org/wiki/Locality_of_reference>cache locality</a> when operating on them in a batched fashion.<h2 id=accessing-data-in-systems>Accessing data in systems <a class=anchor-link href=#accessing-data-in-systems>#</a></h2><p>One of the major benefits of Bevy's system abstraction is that it easily and efficiently <a href=https://doc.rust-lang.org/nomicon/borrow-splitting.html>"splits the borrow"</a> of a [<code>World</code>], allowing users to access non-overlapping parts of the world at the same time within each system, and with the help of schedule executors like [<code>MultiThreadedExecutor</code>], across multiple systems in parallel at the same time.<p>Systems in Bevy are any Rust function where every argument implements the [<code>SystemParam</code>]. The full list can be seen in the API docs linked (and you can create your own!), but the most common are [<code>Query</code>], [<code>Res</code>], [<code>ResMut</code>], [<code>EventReader</code>], [<code>EventWriter</code>], [<code>Local</code>] and [<code>Commands</code>].<p>The requested data is automatically fetched from the [<code>World</code>] when the system is run, locking out access to the underlying data to avoid violating the rules of the borrow checker. When working within a system, or when running multiple systems at once, the prime directive of Rust applies: access can be mutable or multiple: but never both at once.<p>In addition to the data retrieved from the <code>World</code>, each system also has its own cached state. This system state is used for performance optimizations (e.g. for queries), but can also be used to keep track of private internal state or as scratch space. See the section on [<code>Local</code>] for more details.<h2 id=running-systems-in-schedules>Running systems in schedules <a class=anchor-link href=#running-systems-in-schedules>#</a></h2><p>Normally, systems are inserted into a [<code>Schedule</code>] via [<code>App::add_system</code>]. Each of the standard schedules are evaluated once per frame, and systems within a single schedule run in parallel unless they are explicitly ordered relative to each other.<p>There's a great deal of complexity and nuance here: please see the [Game Loop chapter] for a more complete treatment of the topic.<h2 id=one-shot-systems>One-shot systems <a class=anchor-link href=#one-shot-systems>#</a></h2><p>Systems can also be run on demand, via a "one-shot" pattern. This is an extremely flexible tool, allowing you to execute arbitrary logic on the world in an ergonomic way whenever you please. One-shot systems are particularly useful for testing, handling callbacks in UI, creating scripted events or when architecting turn-based games.<p>As discussed above, systems have their own state. When working with one-shot systems, entities are spawned to store this information. These [<code>Entity</code>] identifier for these systems are stored in a [<code>SystemId</code>], which are returned by [<code>World::register_system</code>] and can then be used to run specific systems via [<code>World::run_system</code>].<p>In many cases though, simply passing in the function via [<code>World::run_system_cached</code>] is more convenient, causing it to be automatically cached and retrieved on the basis of its [<code>TypeId</code>]. However, this approach can be harder to abstract, and limits you to one copy of each system. Any internal state (such as [locals] or [change detection] information) will be shared.<p>For convenience, [<code>Commands</code>] has a set of equivalent methods, allowing you to queue up systems from within other systems. This can recurse; use this power wisely!<p>Note that entire [<code>Schedule</code>]s can be run on demand in much the same way, which can be valuable when trying to evaluate complex blocks of logic in response to specific triggers, or at a rate other than "once per frame".<h2 id=exclusive-systems>Exclusive systems <a class=anchor-link href=#exclusive-systems>#</a></h2><p>In addition to ordinary [<code>SystemParam</code>], [<code>&mut World</code>] can be used as the first argument of a system to create an <strong>exclusive system</strong>. Exclusive systems:<ul><li>can access any data in the world<li>cannot be run in parallel with any other system<li>do not use [commands], including to spawn or despawn entities or to insert or remove components</ul><p>Exclusive systems can be useful for spawning large numbers of entities at once, as there is no additional overhead They are also extremely useful for unusually complex game logic or control flow, as any data, and can be used to immediately run one-shot systems or schedules.<p>That said, exclusive systems are harder to schedule: both because they prevent any other system from running at the same time, and because their [scheduling order is ambiguous with] any other systems in the same schedule.<h2 id=system-input-and-output>System input and output <a class=anchor-link href=#system-input-and-output>#</a></h2><p>Systems can optionally take input, and produce output, via the <code>In</code> and <code>Out</code> generics on the various system traits such as [<code>System</code>].<p>The application of this is simplest to understand in the context of one-shot systems. If we call [<code>World::run_system_once_with</code>] we can pass in an input value, and return an output value, just like any other function. The output type is always inferred, but when using system input the first parameter must be [<code>In&LTT></code>], where <code>T</code> is any type of input that you want to pass in.<p>System inputs and outputs can also be used in scheduled systems, via <strong>system piping</strong>. Calling <code>App:add_systems(Update, first_system.pipe(second_system))</code> passes the output of the first system into the input of the first system, and the combined system is treated as a single system from the perspective of the scheduler. This can be repeated indefintely, but branching is not supported.<p>System piping is mostly useful for composing fragments of logic in a modular, reusable way.<p>System output is also used when returning errors from systems, as explained in the [Handling Errors] section of this chapter.</div><div class="docs-footer print:hidden"><nav class=docs-footer__nav><a class="docs-footer__link docs-footer__link--next" data-docs-nav-next href=/learn/book/control-flow/run-conditions/> <div class=docs-footer__label><div class=docs-footer__dir>Next</div> Skipping systems</div> <i class="docs-footer__chevron icon icon--chevron-right"></i> </a><a class="docs-footer__link docs-footer__link--prev" data-docs-nav-previous href=/learn/book/control-flow/> <div class=docs-footer__label><div class=docs-footer__dir>Previous</div> Control Flow</div> <i class="docs-footer__chevron icon icon--chevron-left"></i> </a></nav><div class=docs-footer__edit-wrapper><a class=docs-footer__edit href=https://github.com/bevyengine/bevy-website/edit/main/content/learn/book/control-flow/systems.md> <i class="icon icon--pencil"></i> Improve this page </a><a href="https://github.com/bevyengine/bevy-website/issues/new?template=docs.md&title=Issue%20on%20page%20Systems" class=docs-footer__edit> <i class="icon icon--github"></i> Report issue </a></div></div></div></div></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>