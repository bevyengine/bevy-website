<!doctype html><html class=light-mode lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="0.17 to 0.18" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//learn/migration-guides/0-17-to-0-18/ property=og:url><meta content=https://bevy.org/assets/bevy_logo_fill.png property=og:image><meta content="For a full list of changes that may require migration, please see below.
We recommend keeping this page open as you migrate your code base,
and searchâ€¦" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>0.17 to 0.18</title><script src=/optional-helpers.js></script><script defer src=/highlight-intrapage-link.js></script><script defer src=/clipboard.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>Migration Guides</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">Migration Guides</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/introduction/>Introduction</a></div><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-17-to-0-18/>0.17 to 0.18</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#immutable-entity-events>Immutable Entity Events</a><li><a href=#assetsources-now-give-an-async-channel-sender-instead-of-a-crossbeam-channel-sender>AssetSources now give an async_channel::Sender instead of a crossbeam_channel::Sender</a><li><a href=#feature-cleanup>Feature cleanup</a><li><a href=#removed-dummy-white-gpu-image>Removed dummy_white_gpu_image</a><li><a href=#tick-related-refactors>Tick-related refactors</a><li><a href=#imagerendertargets-scale-factor-field-is-now-an-f32>ImageRenderTargets scale_factor field is now an f32</a><li><a href=#reflect-now-supports-only-parentheses>#[reflect(...)] now supports only parentheses</a><li><a href=#schedule-cleanup>Schedule cleanup</a><li><a href=#rendertarget-is-now-a-component>RenderTarget is now a component</a><li><a href=#winit-user-events-removed>Winit user events removed</a><li><a href=#system-combinators>System Combinators</a><li><a href=#functionsystem-generics>FunctionSystem Generics</a><li><a href=#removed-simpleexecutor>Removed SimpleExecutor</a><li><a href=#implementations-of-reader-now-must-implement-reader-seekable-and-asyncseekforward-is-deleted>Implementations of Reader now must implement Reader::seekable, and AsyncSeekForward is deleted.</a><li><a href=#remove-ron-re-export-from-bevy-scene-and-bevy-asset>Remove ron re-export from bevy_scene and bevy_asset</a><li><a href=#rename-thinsliceptr-get-to-thinsliceptr-get-unchecked>Rename ThinSlicePtr::get() to ThinSlicePtr::get_unchecked()</a><li><a href=#animationeventtrigger-animation-player-has-been-renamed-to-animationeventtrigger-target>AnimationEventTrigger::animation_player has been renamed to AnimationEventTrigger::target</a><li><a href=#dragenter-now-fires-on-drag-starts>DragEnter now fires on drag starts</a><li><a href=#remove-bevy-ptr-dangling-with-align>Remove bevy::ptr::dangling_with_align()</a><li><a href=#assetplugin-now-has-a-use-asset-processor-override-field>AssetPlugin now has a use_asset_processor_override field.</a><li><a href=#enable-prepass-and-enable-shadows-are-now-material-methods>enable_prepass and enable_shadows are now Material methods</a><li><a href=#archetypequerydata-trait>ArchetypeQueryData trait</a><li><a href=#put-input-sources-for-bevy-input-under-features>Put input sources for bevy_input under features</a><li><a href=#textlayoutinfo-s-section-rects-field-has-been-replaced-with-run-geometry>TextLayoutInfo's section_rects field has been replaced with run_geometry</a><li><a href=#change-bundle-component-ids-and-bundle-get-component-ids-to-return-an-iterator>Change Bundle::component_ids and Bundle::get_component_ids to return an iterator.</a><li><a href=#borderradius-has-been-added-to-node-and-is-no-longer-a-component>BorderRadius has been added to Node and is no longer a component</a><li><a href=#per-renderphase-draw-functions>Per-RenderPhase Draw Functions</a><li><a href=#generalized-atmospheric-scattering-media>Generalized Atmospheric Scattering Media</a><li><a href=#image-loader-array-layout>Image Loader Array Layout</a><li><a href=#renamed-bevy-reflect-feature-documentation-to-reflect-documentation>Renamed bevy_reflect feature documentation to reflect_documentation</a><li><a href=#tilemap-chunk-layout>Tilemap Chunk Layout</a><li><a href=#renamed-clear-children-and-clear-related-methods-to-detach>Renamed clear_children and clear_related methods to detach_*</a><li><a href=#loadcontext-path-now-returns-assetpath>LoadContext::path now returns AssetPath.</a><li><a href=#use-mesh-try-mesh-functions-for-assets-mesh-entries-when-there-can-be-renderassetusages-render-world-only-meshes>Use Mesh::try_* mesh functions for Assets&LTMesh> entries when there can be RenderAssetUsages::RENDER_WORLD-only meshes.</a><li><a href=#custom-asset-sources-now-require-a-reader>Custom asset sources now require a reader.</a><li><a href=#extracteduinode-s-stack-index-has-been-renamed-to-z-order-and-is-now-an-f32>ExtractedUiNode's stack_index has been renamed to z_order and is now an f32.</a><li><a href=#the-non-text-areas-of-ui-text-nodes-are-no-longer-pickable>The non-text areas of UI Text nodes are no longer pickable</a><li><a href=#cargo-feature-collections>Cargo Feature Collections</a><li><a href=#lineheight-is-now-a-separate-component>LineHeight is now a separate component</a><li><a href=#animationtarget-replaced-by-separate-components>AnimationTarget replaced by separate components</a><li><a href=#virtual-geometry>Virtual Geometry</a><li><a href=#bevymanifest-shared-is-now-a-scope-like-api>BevyManifest::shared is now a scope-like API.</a><li><a href=#entities-apis>Entities APIs</a> <ul><li><a href=#entities-rework>Entities rework</a><li><a href=#entity-ids>Entity Ids</a><li><a href=#entity-pointers>Entity Pointers</a><li><a href=#entity-commands>Entity Commands</a><li><a href=#other-entity-interactions>Other entity interactions</a></ul><li><a href=#removed-fontatlassets>Removed FontAtlasSets</a><li><a href=#get-components-get-components-mut-unchecked-now-return-a-result>get_components, get_components_mut_unchecked now return a Result</a><li><a href=#ambientlight-split-into-a-component-and-a-resource>AmbientLight split into a component and a resource</a><li><a href=#derive-on-resource-will-fail-when-using-non-static-lifetimes>Derive on Resource will fail when using non-static lifetimes</a><li><a href=#renderpipelinedescriptor-and-computepipelinedescriptor-now-hold-a-bindgrouplayoutdescriptor>RenderPipelineDescriptor and ComputePipelineDescriptor now hold a BindGroupLayoutDescriptor</a><li><a href=#gizmos-cuboid-has-been-renamed-to-gizmos-cube>Gizmos::cuboid has been renamed to Gizmos::cube</a><li><a href=#api-for-working-with-relationships-and-relationshiptargets-in-type-erased-contexts>API for working with Relationships and RelationshipTargets in type-erased contexts</a><li><a href=#internal-has-been-removed>Internal has been removed</a><li><a href=#automatic-aabb-updates-for-sprites-and-meshes>Automatic Aabb updates for sprites and meshes</a><li><a href=#changes-to-assetserver-and-assetprocessor-creation>Changes to AssetServer and AssetProcessor creation.</a><li><a href=#same-state-transitions>Same State Transitions</a><li><a href=#image-reinterpret-size-and-image-reinterpret-stacked-2d-as-array-now-return-a-result>Image::reinterpret_size and Image::reinterpret_stacked_2d_as_array now return a Result</a><li><a href=#changes-to-the-process-trait-in-bevy-asset>Changes to the Process trait in bevy_asset.</a><li><a href=#bindgrouplayout-labels-are-no-longer-optional>BindGroupLayout labels are no longer optional</a><li><a href=#traits-assetloader-assettransformer-assetsaver-and-process-all-now-require-typepath>Traits AssetLoader, AssetTransformer, AssetSaver, and Process all now require TypePath</a><li><a href=#bevy-gizmos-rendering-split>bevy_gizmos rendering split</a><li><a href=#replaced-column-with-thincolumn>Replaced Column with ThinColumn</a><li><a href=#renamed-bevy-platform-hashmap-get-many-to-bevy-platform-hashmap-get-disjoint>Renamed bevy_platform::HashMap::get_many_* to bevy_platform::HashMap::get_disjoint_*</a><li><a href=#gltf-coordinate-conversion>glTF Coordinate Conversion</a><li><a href=#trackedrenderpass-set-index-buffer-no-longer-takes-buffer-offset>TrackedRenderPass::set_index_buffer no longer takes buffer offset</a><li><a href=#borderrect-now-has-vec2-fields>BorderRect now has Vec2 fields</a></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-16-to-0-17/>0.16 to 0.17</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-15-to-0-16/>0.15 to 0.16</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-14-to-0-15/>0.14 to 0.15</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-13-to-0-14/>0.13 to 0.14</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-12-to-0-13/>0.12 to 0.13</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-11-to-0-12/>0.11 to 0.12</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-10-to-0-11/>0.10 to 0.11</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-9-to-0-10/>0.9 to 0.10</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-8-to-0-9/>0.8 to 0.9</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-7-to-0-8/>0.7 to 0.8</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-6-to-0-7/>0.6 to 0.7</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-5-to-0-6/>0.5 to 0.6</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-4-to-0-5/>0.4 to 0.5</a></div></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class=main-menu__link href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><div class=page-with-menu><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/introduction/>Introduction</a></div><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-17-to-0-18/>0.17 to 0.18</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#immutable-entity-events>Immutable Entity Events</a><li><a href=#assetsources-now-give-an-async-channel-sender-instead-of-a-crossbeam-channel-sender>AssetSources now give an async_channel::Sender instead of a crossbeam_channel::Sender</a><li><a href=#feature-cleanup>Feature cleanup</a><li><a href=#removed-dummy-white-gpu-image>Removed dummy_white_gpu_image</a><li><a href=#tick-related-refactors>Tick-related refactors</a><li><a href=#imagerendertargets-scale-factor-field-is-now-an-f32>ImageRenderTargets scale_factor field is now an f32</a><li><a href=#reflect-now-supports-only-parentheses>#[reflect(...)] now supports only parentheses</a><li><a href=#schedule-cleanup>Schedule cleanup</a><li><a href=#rendertarget-is-now-a-component>RenderTarget is now a component</a><li><a href=#winit-user-events-removed>Winit user events removed</a><li><a href=#system-combinators>System Combinators</a><li><a href=#functionsystem-generics>FunctionSystem Generics</a><li><a href=#removed-simpleexecutor>Removed SimpleExecutor</a><li><a href=#implementations-of-reader-now-must-implement-reader-seekable-and-asyncseekforward-is-deleted>Implementations of Reader now must implement Reader::seekable, and AsyncSeekForward is deleted.</a><li><a href=#remove-ron-re-export-from-bevy-scene-and-bevy-asset>Remove ron re-export from bevy_scene and bevy_asset</a><li><a href=#rename-thinsliceptr-get-to-thinsliceptr-get-unchecked>Rename ThinSlicePtr::get() to ThinSlicePtr::get_unchecked()</a><li><a href=#animationeventtrigger-animation-player-has-been-renamed-to-animationeventtrigger-target>AnimationEventTrigger::animation_player has been renamed to AnimationEventTrigger::target</a><li><a href=#dragenter-now-fires-on-drag-starts>DragEnter now fires on drag starts</a><li><a href=#remove-bevy-ptr-dangling-with-align>Remove bevy::ptr::dangling_with_align()</a><li><a href=#assetplugin-now-has-a-use-asset-processor-override-field>AssetPlugin now has a use_asset_processor_override field.</a><li><a href=#enable-prepass-and-enable-shadows-are-now-material-methods>enable_prepass and enable_shadows are now Material methods</a><li><a href=#archetypequerydata-trait>ArchetypeQueryData trait</a><li><a href=#put-input-sources-for-bevy-input-under-features>Put input sources for bevy_input under features</a><li><a href=#textlayoutinfo-s-section-rects-field-has-been-replaced-with-run-geometry>TextLayoutInfo's section_rects field has been replaced with run_geometry</a><li><a href=#change-bundle-component-ids-and-bundle-get-component-ids-to-return-an-iterator>Change Bundle::component_ids and Bundle::get_component_ids to return an iterator.</a><li><a href=#borderradius-has-been-added-to-node-and-is-no-longer-a-component>BorderRadius has been added to Node and is no longer a component</a><li><a href=#per-renderphase-draw-functions>Per-RenderPhase Draw Functions</a><li><a href=#generalized-atmospheric-scattering-media>Generalized Atmospheric Scattering Media</a><li><a href=#image-loader-array-layout>Image Loader Array Layout</a><li><a href=#renamed-bevy-reflect-feature-documentation-to-reflect-documentation>Renamed bevy_reflect feature documentation to reflect_documentation</a><li><a href=#tilemap-chunk-layout>Tilemap Chunk Layout</a><li><a href=#renamed-clear-children-and-clear-related-methods-to-detach>Renamed clear_children and clear_related methods to detach_*</a><li><a href=#loadcontext-path-now-returns-assetpath>LoadContext::path now returns AssetPath.</a><li><a href=#use-mesh-try-mesh-functions-for-assets-mesh-entries-when-there-can-be-renderassetusages-render-world-only-meshes>Use Mesh::try_* mesh functions for Assets&LTMesh> entries when there can be RenderAssetUsages::RENDER_WORLD-only meshes.</a><li><a href=#custom-asset-sources-now-require-a-reader>Custom asset sources now require a reader.</a><li><a href=#extracteduinode-s-stack-index-has-been-renamed-to-z-order-and-is-now-an-f32>ExtractedUiNode's stack_index has been renamed to z_order and is now an f32.</a><li><a href=#the-non-text-areas-of-ui-text-nodes-are-no-longer-pickable>The non-text areas of UI Text nodes are no longer pickable</a><li><a href=#cargo-feature-collections>Cargo Feature Collections</a><li><a href=#lineheight-is-now-a-separate-component>LineHeight is now a separate component</a><li><a href=#animationtarget-replaced-by-separate-components>AnimationTarget replaced by separate components</a><li><a href=#virtual-geometry>Virtual Geometry</a><li><a href=#bevymanifest-shared-is-now-a-scope-like-api>BevyManifest::shared is now a scope-like API.</a><li><a href=#entities-apis>Entities APIs</a> <ul><li><a href=#entities-rework>Entities rework</a><li><a href=#entity-ids>Entity Ids</a><li><a href=#entity-pointers>Entity Pointers</a><li><a href=#entity-commands>Entity Commands</a><li><a href=#other-entity-interactions>Other entity interactions</a></ul><li><a href=#removed-fontatlassets>Removed FontAtlasSets</a><li><a href=#get-components-get-components-mut-unchecked-now-return-a-result>get_components, get_components_mut_unchecked now return a Result</a><li><a href=#ambientlight-split-into-a-component-and-a-resource>AmbientLight split into a component and a resource</a><li><a href=#derive-on-resource-will-fail-when-using-non-static-lifetimes>Derive on Resource will fail when using non-static lifetimes</a><li><a href=#renderpipelinedescriptor-and-computepipelinedescriptor-now-hold-a-bindgrouplayoutdescriptor>RenderPipelineDescriptor and ComputePipelineDescriptor now hold a BindGroupLayoutDescriptor</a><li><a href=#gizmos-cuboid-has-been-renamed-to-gizmos-cube>Gizmos::cuboid has been renamed to Gizmos::cube</a><li><a href=#api-for-working-with-relationships-and-relationshiptargets-in-type-erased-contexts>API for working with Relationships and RelationshipTargets in type-erased contexts</a><li><a href=#internal-has-been-removed>Internal has been removed</a><li><a href=#automatic-aabb-updates-for-sprites-and-meshes>Automatic Aabb updates for sprites and meshes</a><li><a href=#changes-to-assetserver-and-assetprocessor-creation>Changes to AssetServer and AssetProcessor creation.</a><li><a href=#same-state-transitions>Same State Transitions</a><li><a href=#image-reinterpret-size-and-image-reinterpret-stacked-2d-as-array-now-return-a-result>Image::reinterpret_size and Image::reinterpret_stacked_2d_as_array now return a Result</a><li><a href=#changes-to-the-process-trait-in-bevy-asset>Changes to the Process trait in bevy_asset.</a><li><a href=#bindgrouplayout-labels-are-no-longer-optional>BindGroupLayout labels are no longer optional</a><li><a href=#traits-assetloader-assettransformer-assetsaver-and-process-all-now-require-typepath>Traits AssetLoader, AssetTransformer, AssetSaver, and Process all now require TypePath</a><li><a href=#bevy-gizmos-rendering-split>bevy_gizmos rendering split</a><li><a href=#replaced-column-with-thincolumn>Replaced Column with ThinColumn</a><li><a href=#renamed-bevy-platform-hashmap-get-many-to-bevy-platform-hashmap-get-disjoint>Renamed bevy_platform::HashMap::get_many_* to bevy_platform::HashMap::get_disjoint_*</a><li><a href=#gltf-coordinate-conversion>glTF Coordinate Conversion</a><li><a href=#trackedrenderpass-set-index-buffer-no-longer-takes-buffer-offset>TrackedRenderPass::set_index_buffer no longer takes buffer offset</a><li><a href=#borderrect-now-has-vec2-fields>BorderRect now has Vec2 fields</a></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-16-to-0-17/>0.16 to 0.17</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-15-to-0-16/>0.15 to 0.16</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-14-to-0-15/>0.14 to 0.15</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-13-to-0-14/>0.13 to 0.14</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-12-to-0-13/>0.12 to 0.13</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-11-to-0-12/>0.11 to 0.12</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-10-to-0-11/>0.10 to 0.11</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-9-to-0-10/>0.9 to 0.10</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-8-to-0-9/>0.8 to 0.9</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-7-to-0-8/>0.7 to 0.8</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-6-to-0-7/>0.6 to 0.7</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-5-to-0-6/>0.5 to 0.6</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-4-to-0-5/>0.4 to 0.5</a></div></ul></div></div><div class=page-with-menu__content><div class=docs-page><div class=docs-content><h1>Migration Guide: 0.17 to 0.18</h1><div class=media-content><p>For a full list of changes that may require migration, please see below. We recommend keeping this page open as you migrate your code base, and searching within it for any issues you encounter.<p>If you run into a problem while migrating that was not covered by this migration guide, please open an issue on the <a href=https://github.com/bevyengine/bevy-website><code>bevy-website</code></a> repo or file a PR directly with the correct migration advice.<h3 id=immutable-entity-events>Immutable Entity Events <a class=anchor-link href=#immutable-entity-events>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21408>#21408</a></div></div><p>The mutable methods of <code>EntityEvent</code> (<code>EntityEvent::from</code> and <code>EntityEvent::event_target_mut</code>) have been moved to a separate trait: <code>SetEntityEventTarget</code><p>This makes all <code>EntityEvents</code> immutable by default.<p><code>SetEntityEventTarget</code> is implemented automatically for propagated events (e.g. <code>#[entity_event(propagate)]</code>).<h3 id=assetsources-now-give-an-async-channel-sender-instead-of-a-crossbeam-channel-sender>AssetSources now give an <code>async_channel::Sender</code> instead of a <code>crossbeam_channel::Sender</code> <a class=anchor-link href=#assetsources-now-give-an-async-channel-sender-instead-of-a-crossbeam-channel-sender>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21626>#21626</a></div></div><p>Previously, when creating an asset source, <code>AssetSourceBuilder::with_watcher</code> would provide users with a <code>crossbeam_channel::Sender</code>. Now, this has been changed to <code>async_channel::Sender</code>.<p>If you were previously calling <code>sender.send(AssetSourceEvent::ModifiedAsset("hello".into()))</code>, now it would be <code>sender.send_blocking(AssetSourceEvent::ModifiedAsset("hello".into()))</code>. These channels are very comparable, so finding an analogous method between <code>crossbeam_channel</code> and <code>async_channel</code> should be straight forward.<h3 id=feature-cleanup>Feature cleanup <a class=anchor-link href=#feature-cleanup>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21388>#21388</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21435>#21435</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21436>#21436</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21437>#21437</a></div></div><p><code>animation</code> has been renamed to <code>gltf_animation</code>. <code>bevy_sprite_picking_backend</code> has been renamed to <code>sprite_picking</code>. <code>bevy_ui_picking_backend</code> has been renamed to <code>ui_picking</code>. <code>bevy_mesh_picking_backend</code> has been renamed to <code>mesh_picking</code>.<h3 id=removed-dummy-white-gpu-image>Removed <code>dummy_white_gpu_image</code> <a class=anchor-link href=#removed-dummy-white-gpu-image>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21572>#21572</a></div></div><p><code>MeshPipeline</code>, <code>Mesh2dPipeline</code> and <code>SpritePipeline</code> no longer have <code>dummy_white_gpu_image</code>.<p><code>MeshPipeline</code> and <code>Mesh2dPipeline</code> no longer have <code>get_image_texture()</code> in their <code>impl</code>.<p>The method <code>build_dummy_white_gpu_image()</code> and <code>get_image_texture()</code> can be used if needed.<h3 id=tick-related-refactors>Tick-related refactors <a class=anchor-link href=#tick-related-refactors>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21562>#21562</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21613>#21613</a></div></div><p><code>TickCells</code> is now <code>ComponentTickCells</code>.<p><code>ComponentSparseSet::get_with_ticks</code> now returns <code>Option<(Ptr, ComponentTickCells)></code> instead of <code>Option<(Ptr, TickCells, MaybeLocation)></code>.<p>The following types have been moved from the <code>component</code> module to the <code>change_detection</code> module:<ul><li><code>Tick</code><li><code>ComponentTicks</code><li><code>ComponentTickCells</code><li><code>CheckChangeTicks</code></ul><h3 id=imagerendertargets-scale-factor-field-is-now-an-f32><code>ImageRenderTarget</code>s <code>scale_factor</code> field is now an <code>f32</code> <a class=anchor-link href=#imagerendertargets-scale-factor-field-is-now-an-f32>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21054>#21054</a></div></div><p>The <code>scale_factor</code> field on <code>ImageRenderTarget</code> is now an <code>f32</code> and no longer requires wrapping in <code>FloatOrd</code>.<h3 id=reflect-now-supports-only-parentheses><code>#[reflect(...)]</code> now supports only parentheses <a class=anchor-link href=#reflect-now-supports-only-parentheses>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21400>#21400</a></div></div><p>Previously, the <code>#[reflect(...)]</code> attribute of the <code>Reflect</code> derive macro supported parentheses, braces, or brackets, to standardize the syntax going forward, it now supports only parentheses.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span>[<span class="z-variable z-annotation z-rust">Clone</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>]
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></code></pre><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span>{<span class="z-variable z-annotation z-rust">Clone</span>}<span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></code></pre><h3 id=schedule-cleanup>Schedule cleanup <a class=anchor-link href=#schedule-cleanup>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21608>#21608</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21817>#21817</a></div></div><ul><li><code>ScheduleGraph::topsort_graph</code> has been moved to <code>DiGraph::toposort</code>, and now takes a <code>Vec&LTN></code> parameter for allocation reuse.<li><code>ReportCycles</code> was removed: instead, <code>DiGraphToposortError</code>s should be immediately wrapped into hierarchy graph or dependency graph <code>ScheduleBuildError</code> variants.<li><code>ScheduleBuildError::HierarchyLoop</code> variant was removed, use <code>ScheduleBuildError::HierarchySort(DiGraphToposortError::Loop())</code> instead.<li><code>ScheduleBuildError::HierarchyCycle</code> variant was removed, use <code>ScheduleBuildError::HierarchySort(DiGraphToposortError::Cycle())</code> instead.<li><code>ScheduleBuildError::DependencyLoop</code> variant was removed, use <code>ScheduleBuildError::DependencySort(DiGraphToposortError::Loop())</code> instead.<li><code>ScheduleBuildError::DependencyCycle</code> variant was removed, use <code>ScheduleBuildError::DependencySort(DiGraphToposortError::Cycle())</code> instead.<li><code>ScheduleBuildError::CrossDependency</code> now wraps a <code>DagCrossDependencyError&LTNodeId></code> instead of directly holding two <code>NodeId</code>s. Fetch them from the wrapped struct instead.<li><code>ScheduleBuildError::SetsHaveOrderButIntersect</code> now wraps a <code>DagOverlappingGroupError&LTSystemSetKey></code> instead of directly holding two <code>SystemSetKey</code>s. Fetch them from the wrapped struct instead.<li><code>ScheduleBuildError::SystemTypeSetAmbiguity</code> now wraps a <code>SystemTypeSetAmbiguityError</code> instead of directly holding a <code>SystemSetKey</code>. Fetch them from the wrapped struct instead.<li><code>ScheduleBuildWarning::HierarchyRedundancy</code> now wraps a <code>DagRedundancyError&LTNodeId></code> instead of directly holding a <code>Vec<(NodeId, NodeId)></code>. Fetch them from the wrapped struct instead.<li><code>ScheduleBuildWarning::Ambiguity</code> now wraps a <code>AmbiguousSystemConflictsWarning</code> instead of directly holding a <code>Vec</code>. Fetch them from the wrapped struct instead.<li><code>ScheduleGraph::conflicting_systems</code> now returns a <code>&ConflictingSystems</code> instead of a slice. Fetch conflicts from the wrapped struct instead.<li><code>ScheduleGraph::systems_in_set</code> now returns a <code>&HashSet&LTSystemKey></code> instead of a slice, to reduce redundant allocations.<li><code>ScheduleGraph::conflicts_to_string</code> functionality has been replaced with <code>ConflictingSystems::to_string</code>.<li><code>ScheduleBuildPass::build</code> now takes <code>&mut Dag&LTSystemKey></code> instead of <code>&mut DiGraph&LTSystemKey></code>, to allow reusing previous toposorts.<li><code>ScheduleBuildPass::collapse_set</code> now takes <code>&HashSet&LTSystemKey></code> instead of a slice, to reduce redundant allocations.<li><code>simple_cycles_in_component</code> has been changed from a free function into a method on <code>DiGraph</code>.<li><code>DiGraph::try_into</code>/<code>UnGraph::try_into</code> was renamed to <code>DiGraph::try_convert</code>/<code>UnGraph::try_convert</code> to prevent overlap with the <code>TryInto</code> trait, and now makes use of <code>TryInto</code> instead of <code>TryFrom</code> for conversions.</ul><h3 id=rendertarget-is-now-a-component><code>RenderTarget</code> is now a component <a class=anchor-link href=#rendertarget-is-now-a-component>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20917>#20917</a></div></div><p><code>RenderTarget</code> has been moved from a field on <code>Camera</code> to a separate required component.<p>When spawning a camera, specify <code>RenderTarget</code> as a component instead of setting <code>camera.target</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    Camera <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        target<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">RenderTarget<span class="z-punctuation z-accessor z-rust">::</span></span>Image<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>image_handle<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">RenderTarget<span class="z-punctuation z-accessor z-rust">::</span></span>Image<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>image_handle<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=winit-user-events-removed>Winit user events removed <a class=anchor-link href=#winit-user-events-removed>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/22088>#22088</a></div></div><p>In Bevy 0.17 and earlier, <code>WinitPlugin</code> and <code>EventLoopProxyWrapper</code> was generic over a <code>M: Message</code> type, that could be used to wake up the winit event loop and which was then forwarded to the ECS world. In 0.18 support for this has been removed, and those types are no longer generic.<p>If you used the default <code>WakeUp</code> type via the event loop proxy, you can still do this by using the new <code>WinitUserEvent</code> type:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">wakeup_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">event_loop_proxy</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">EventLoopProxyWrapper<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>WakeUp<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> Result</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    event_loop_proxy<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send_event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>WakeUp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">wakeup_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">event_loop_proxy</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EventLoopProxyWrapper<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> Result</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    event_loop_proxy<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send_event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">WinitUserEvent<span class="z-punctuation z-accessor z-rust">::</span></span>WakeUp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>If you were using it to send information into the ECS world from outside Bevy, you will need to create your own channel and system that forwards the messages.<h3 id=system-combinators>System Combinators <a class=anchor-link href=#system-combinators>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20671>#20671</a></div></div><p><code>CombinatorSystem</code>s can be used to combine multiple <code>SystemCondition</code>s with logical operators (such as <code>and</code>, <code>or</code>, and <code>xor</code>). Previously, these combinators would propagate any errors made when running the combined systems:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Foo</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This run condition will fail validation because there is not an entity with `Foo` in the world.
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">fails_validation</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">_</span>: <span class="z-meta z-generic z-rust">Single<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Foo<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">bool</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">always_true</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">bool</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-constant z-language z-rust">true</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> world <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">World<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Because `fails_validation` is invalid, trying to run this combinator system will return an
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> error.
</span></span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_once</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>fails_validation<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">or</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>always_true</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">is_err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This behavior has been changed in Bevy 0.18. Now if one of the combined systems fails, it will be considered to have returned <code>false</code>. The error will not be propagated, and the combinator logic will continue:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> world <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">World<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> `fails_validation` is invalid, but it is converted to `false`. Because `always_true` succeeds,
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the combinator returns `true`.
</span></span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-macro z-rust">matches!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_once</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>fails_validation<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">or</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>always_true</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-language z-rust">true</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This affects the following combinators:<table><thead><tr><th style=text-align:center>Combinator<th style=text-align:center>Rust Equivalent<tbody><tr><td style=text-align:center><code>and</code><td style=text-align:center><code>a && b</code><tr><td style=text-align:center><code>or</code><td style=text-align:center><code>a || b</code><tr><td style=text-align:center><code>xor</code><td style=text-align:center><code>a ^ b</code><tr><td style=text-align:center><code>nand</code><td style=text-align:center><code>!(a && b)</code><tr><td style=text-align:center><code>nor</code><td style=text-align:center><code>!(a || b)</code><tr><td style=text-align:center><code>xnor</code><td style=text-align:center><code>!(a ^ b)</code></table><h3 id=functionsystem-generics>FunctionSystem Generics <a class=anchor-link href=#functionsystem-generics>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21917>#21917</a></div></div><p><code>FunctionSystem</code> now has a new generic parameter: <code>In</code>.<p>Old: <code>FunctionSystem&LTMarker, Out, F></code> New: <code>FunctionSystem&LTMarker, In, Out, F></code><p>Additionally, there's an extra bound on the <code>System</code> and <code>IntoSystem</code> impls related to <code>FunctionSystem</code>:<p><code>&LTF as SystemParamFunction>::In: FromInput&LTIn></code><p>This enabled systems to take as input any <em>compatible</em> type, in addition to the exact one specified by the system function. This shouldn't impact users at all since it only adds functionality, but users writing heavily generic code may want to add a similar bound. See <code>function_system.rs</code> to see how it works in practice.<h3 id=removed-simpleexecutor>Removed <code>SimpleExecutor</code> <a class=anchor-link href=#removed-simpleexecutor>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21176>#21176</a></div></div><p>Bevy has removed the previously deprecated <code>SimpleExecutor</code>, one of the <code>SystemExecutor</code>s in Bevy alongside <code>SingleThreadedExecutor</code> and <code>MultiThreadedExecutor</code> (which aren't going anywhere any time soon). The <code>MultiThreadedExecutor</code> is great at large schedules and async heavy work, and the <code>SingleThreadedExecutor</code> is good at smaller schedules or schedules that have fewer parallelizable systems. So what was <code>SimpleExecutor</code> good at? Not much. That's why it was removed. Removing it reduced some maintenance and consistency burdens on maintainers, allowing them to focus on more exciting features!<p>If you were using <code>SimpleExecutor</code>, consider upgrading to <code>SingleThreadedExecutor</code> instead, or try <code>MultiThreadedExecutor</code> if it fits the schedule. It's worth mentioning that <code>SimpleExecutor</code> ran deferred commands inbetween <em>each</em> system, regardless of if it was needed. The other executors are more efficient about this, but that means they need extra information about when to run those commands. In most schedules, that information comes from the contents and ordering of systems, via <code>before</code>, <code>after</code>, <code>chain</code>, etc. If a schedule that was previously using <code>SimpleExecutor</code> still needs commands from one system to be applied before another system runs, make sure that ordering is enforced explicitly by these methods, rather than implicitly by the order of <code>add_systems</code>. If you are looking for a quick fix, <code>chain</code> is the easiest way to do this.<h3 id=implementations-of-reader-now-must-implement-reader-seekable-and-asyncseekforward-is-deleted>Implementations of <code>Reader</code> now must implement <code>Reader::seekable</code>, and <code>AsyncSeekForward</code> is deleted. <a class=anchor-link href=#implementations-of-reader-now-must-implement-reader-seekable-and-asyncseekforward-is-deleted>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/22182>#22182</a></div></div><p>The <code>Reader</code> trait no longer requires implementing <code>AsyncSeekForward</code> and instead requires implementing <code>Reader::seekable</code>, which will cast the <code>Reader</code> to <code>&mut dyn SeekableReader</code> if it supports <code>AsyncSeek</code> (<code>SeekableReader: Reader + AsyncSeek</code>).<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> If MyReader implements `AsyncSeek` 
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Reader <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyReader</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">seekable</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> dyn SeekableReader, ReaderNotSeekableError<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-variable z-language z-rust">self</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> If MyReader does not implement `AsyncSeek` 
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Reader <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyReader</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">seekable</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> dyn SeekableReader, ReaderNotSeekableError<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">None</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Since we now just use the <code>AsyncSeek</code> trait, we've deleted the <code>AsyncSeekForward</code> trait. Users of this trait can migrate by calling the <code>AsyncSeek::poll_seek</code> method with <code>SeekFrom::Current(offset)</code>, or the <code>AsyncSeekExt::seek</code> method.<h3 id=remove-ron-re-export-from-bevy-scene-and-bevy-asset>Remove ron re-export from bevy_scene and bevy_asset <a class=anchor-link href=#remove-ron-re-export-from-bevy-scene-and-bevy-asset>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21611>#21611</a></div></div><p>The <code>ron</code> crate is no longer re-exported from <code>bevy_scene</code> or <code>bevy_asset</code>. This was done to reduce naming conflicts and improve API clarity.<p>If you were importing <code>ron</code> through <code>bevy_scene</code> or <code>bevy_asset</code>, you should now add <code>ron</code> as a direct dependency to your project.<p>This change only affects code that was explicitly importing the <code>ron</code> module. All internal scene serialization and deserialization functionality remains unchanged.<h3 id=rename-thinsliceptr-get-to-thinsliceptr-get-unchecked>Rename <code>ThinSlicePtr::get()</code> to <code>ThinSlicePtr::get_unchecked()</code> <a class=anchor-link href=#rename-thinsliceptr-get-to-thinsliceptr-get-unchecked>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21823>#21823</a></div></div><p><code>ThinSlicePtr::get()</code> has been deprecated in favor of the new <code>ThinSlicePtr::get_unchecked()</code> method in order to more clearly signal that bounds checking is not performed. Beyond the name change, the only difference between these two methods is that <code>get_unchecked()</code> takes <code>&self</code> while <code>get()</code> takes <code>self</code>. In order to migrate, simply rename all usages of <code>get()</code> with <code>get_unchecked()</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> slice<span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-storage z-type z-rust">u32</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-integer z-decimal z-rust">2</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">4</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">8</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> thin_slice <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">ThinSlicePtr<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>slice</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> x <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-storage z-modifier z-rust">unsafe</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> thin_slice<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> x <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-storage z-modifier z-rust">unsafe</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> thin_slice<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_unchecked</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=animationeventtrigger-animation-player-has-been-renamed-to-animationeventtrigger-target><code>AnimationEventTrigger::animation_player</code> has been renamed to <code>AnimationEventTrigger::target</code> <a class=anchor-link href=#animationeventtrigger-animation-player-has-been-renamed-to-animationeventtrigger-target>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21593>#21593</a></div></div><p>This field and its docs strongly suggested that it would point to an entity holding an <code>AnimationPlayer</code>, but that actually depends on how the event was registered.<ul><li>If you used <code>AnimationClip::add_event</code>, the field really did point to the <code>AnimationPlayer</code><li>But if you used <code>AnimationClip::add_event_to_target</code>, this field instead pointed to an <code>AnimationTargetId</code></ul><p>To make this more clear, the field was renamed to <code>target</code> and the docs surrounding it improved.<h3 id=dragenter-now-fires-on-drag-starts>DragEnter now fires on drag starts <a class=anchor-link href=#dragenter-now-fires-on-drag-starts>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21999>#21999</a></div></div><p><code>DragEnter</code> now also fires when a drag starts over an already hovered entity.<h3 id=remove-bevy-ptr-dangling-with-align>Remove <code>bevy::ptr::dangling_with_align()</code> <a class=anchor-link href=#remove-bevy-ptr-dangling-with-align>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21822>#21822</a></div></div><p><code>bevy::ptr::dangling_with_align()</code> has been removed. Use <code>NonNull::without_provenance()</code> instead:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> ptr <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-function z-rust">dangling_with_align</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>align</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> ptr <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">NonNull<span class="z-punctuation z-accessor z-rust">::</span></span>without_provenance<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>align</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=assetplugin-now-has-a-use-asset-processor-override-field>AssetPlugin now has a <code>use_asset_processor_override</code> field. <a class=anchor-link href=#assetplugin-now-has-a-use-asset-processor-override-field>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21409>#21409</a></div></div><p>The <code>AssetPlugin</code> now has a <code>use_asset_processor_override</code> field. If you were previously setting all <code>AssetPlugin</code> fields, you should either use struct update syntax <code>..Default::default()</code>, or set the new <code>use_asset_processor_override</code> to <code>None</code>.<h3 id=enable-prepass-and-enable-shadows-are-now-material-methods><code>enable_prepass</code> and <code>enable_shadows</code> are now Material methods <a class=anchor-link href=#enable-prepass-and-enable-shadows-are-now-material-methods>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20999>#20999</a></div></div><p>The <code>MaterialPlugin</code> fields <code>prepass_enabled</code> and <code>shadows_enabled</code> have been replaced by the <code>Material</code> methods <code>enable_prepass</code> and <code>enable_shadows</code>.<p>Analogous methods have also been added to <code>MaterialExtension</code><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">MaterialPlugin<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyMaterial<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    prepass_enabled<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">false</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    shadows_enabled<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">false</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Material <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyMaterial</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">enable_prepass</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-constant z-language z-rust">false</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">enable_shadows</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-constant z-language z-rust">false</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=archetypequerydata-trait><code>ArchetypeQueryData</code> trait <a class=anchor-link href=#archetypequerydata-trait>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21581>#21581</a></div></div><p>To support richer querying across relations, Bevy now supports query data that are not archetypal: the query can return entities based on conditions that do not exclusively involve the entity's archetype.<p>An example of non-archetypal filter is <code>Changed&LTC></code>: the entity is filtered based on the archetype (having the component C) but also based on the change ticks of the component.<p>Code that requires queries to <code>impl ExactSizeIterator</code> may need to replace <code>QueryData</code> bounds with <code>ArchetypeQueryData</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">requires_exact_size</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>D<span class="z-punctuation z-separator z-rust">:</span> QueryData<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">q</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>D<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">usize</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    q<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">len</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">requires_exact_size</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>D<span class="z-punctuation z-separator z-rust">:</span> ArchetypeQueryData<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">q</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>D<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">usize</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    q<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">len</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Manual implementations of <code>QueryData</code> will now need to provide the <code>IS_ARCHETYPAL</code> associated constant. This will be <code>true</code> for most existing queries, although queries that wrap other queries should delegate as appropriate. In addition, queries with <code>IS_ARCHETYPAL = true</code> should implement <code>ArchetypeQueryData</code>.<h3 id=put-input-sources-for-bevy-input-under-features>Put input sources for <code>bevy_input</code> under features <a class=anchor-link href=#put-input-sources-for-bevy-input-under-features>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21447>#21447</a></div></div><p><code>bevy_input</code> provides primitives for all kinds of input. But on consoles you usually don't have things like touch. On more obscure platforms, like GBA, only gamepad input is needed.<p>If you use <code>bevy_window</code> or <code>bevy_gilrs</code>, they will automatically enable the necessary features on <code>bevy_input</code>. If you don't depend on them (for example, if you are developing for a platform that isn't supported by these crates), you need to enable the required input sources on the <code>bevy_input</code> / <code>bevy</code> crate manually:<pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> 0.17</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">bevy</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">version</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>0.17<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">default-features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-constant z-language z-toml">false</span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span>
</span><span class="z-source z-toml">
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> 0.18 (enable sources that you actually use):</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">bevy</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">version</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>0.18<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">default-features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-constant z-language z-toml">false</span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span>
</span><span class="z-source z-toml">  <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>mouse<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">  <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>keyboard<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">  <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>gamepad<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">  <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>touch<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">  <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>gestures<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-array z-end z-toml">]</span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span>
</span></code></pre><h3 id=textlayoutinfo-s-section-rects-field-has-been-replaced-with-run-geometry><code>TextLayoutInfo</code>'s <code>section_rects</code> field has been replaced with <code>run_geometry</code> <a class=anchor-link href=#textlayoutinfo-s-section-rects-field-has-been-replaced-with-run-geometry>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21656>#21656</a></div></div><p><code>TextLayoutInfo</code>'s <code>section_rects</code> field has been removed. In its place is a new field <code>run_geometry</code> that contains the non-glyph layout geometry for a run of glyphs: the run's span index, bounding rectangle, underline position and thickness, and strikethrough position and thickness. A run in <code>bevy_text</code> is a contiguous sequence of glyphs on the same line that share the same text attributes like font, font size, and line height. The coordinates stored in <code>run_geometry</code> are unscaled and relative to the top left corner of the text layout.<p>Unlike the tuples of <code>section_rects</code>, <code>RunGeometry</code> does not include an <code>Entity</code> id. To find the corresponding text entity, call the <code>entities</code> method on the root text entityâ€™s <code>ComputedTextBlock</code> component and use the <code>span_index</code> to index into the returned slice.<h3 id=change-bundle-component-ids-and-bundle-get-component-ids-to-return-an-iterator>Change <code>Bundle::component_ids</code> and <code>Bundle::get_component_ids</code> to return an iterator. <a class=anchor-link href=#change-bundle-component-ids-and-bundle-get-component-ids-to-return-an-iterator>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14791>#14791</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15458>#15458</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15269>#15269</a></div></div><p><code>Bundle::component_ids</code> and <code>Bundle::get_component_ids</code> were changed to return an iterator over <code>ComponentId</code> and <code>Option&LTComponentId></code> respectively. In some cases this can avoid allocating.<p>For implementors:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-modifier z-rust">unsafe</span> <span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span></span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-separator z-rust">:</span> Component<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-impl z-rust"> Bundle <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">C</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">component_ids</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">components</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> ComponentsRegistrator, <span class="z-variable z-parameter z-rust">ids</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> impl FnMut<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">ComponentId</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-function z-rust">ids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>components<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_component<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">get_component_ids</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">components</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>Components, <span class="z-variable z-parameter z-rust">ids</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> impl FnMut<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">Option</span><<span class="z-variable z-parameter z-rust">ComponentId</span>></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-function z-rust">ids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>components<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">TypeId<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">of<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-modifier z-rust">unsafe</span> <span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span></span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-separator z-rust">:</span> Component<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-impl z-rust"> Bundle <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">C</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">component_ids</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-generic z-rust">        components: <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> ComponentsRegistrator,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-generic z-rust">    // we use a `use` here to explicitly not capture the lifetime of `components`
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-generic z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">)</span> <span class="z-punctuation z-separator z-generic z-rust">-></span> impl <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Iterator</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Item = ComponentId<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-rust">+</span> <span class="z-meta z-generic z-rust">use<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-invalid z-illegal z-rust">{</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-path z-rust">iter<span class="z-punctuation z-accessor z-rust">::</span></span>once<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>components<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_component<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">get_component_ids</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">components</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>Components</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> impl <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Iterator</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Item = <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ComponentId<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-path z-rust">iter<span class="z-punctuation z-accessor z-rust">::</span></span>once<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>components<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">TypeId<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">of<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>C<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">}
</span></code></pre><p>For consumers:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> components <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-macro z-rust">vec!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-meta z-path z-rust">MyBundle<span class="z-punctuation z-accessor z-rust">::</span></span>component_ids<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">components_registrator</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-keyword z-operator z-bitwise z-rust">|</span>id<span class="z-keyword z-operator z-bitwise z-rust">|</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    components<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">push</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> components<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">B<span class="z-punctuation z-accessor z-rust">::</span></span>component_ids<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">components_registrator</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">collect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=borderradius-has-been-added-to-node-and-is-no-longer-a-component><code>BorderRadius</code> has been added to <code>Node</code> and is no longer a component <a class=anchor-link href=#borderradius-has-been-added-to-node-and-is-no-longer-a-component>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21781>#21781</a></div></div><p><code>BorderRadius</code> is no longer a component, instead a <code>border_radius: BorderRadius</code> field has been added to <code>Node</code>.<h3 id=per-renderphase-draw-functions>Per-RenderPhase Draw Functions <a class=anchor-link href=#per-renderphase-draw-functions>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21021>#21021</a></div></div><p>This PR makes draw function labels in <code>MaterialProperties</code> per-<code>RenderPhase</code> instead of per-pass. This should only affect users of the low-level "manual Material" API, and not users of the broader Material API. Specifying all draw functions is not mandatory, but users should specify draw functions for all render phases the material may queue to, or the material may not render.<ul><li><p>Removed <code>MaterialDrawFunction</code> in favor of:</p> <ul><li><code>MainPassOpaqueDrawFunction</code><li><code>MainPassAlphaMaskDrawFunction</code><li><code>MainPassTransmissiveDrawFunction</code><li><code>MainPassTransparentDrawFunction</code></ul><li><p>Removed <code>PrepassDrawFunction</code> in favor of:</p> <ul><li><code>PrepassOpaqueDrawFunction</code><li><code>PrepassAlphaMaskDrawFunction</code></ul><li><p>Removed <code>DeferredDrawFunction</code> in favor of:</p> <ul><li><code>DeferredOpaqueDrawFunction</code><li><code>DeferredAlphaMaskDrawFunction</code></ul></ul><h3 id=generalized-atmospheric-scattering-media>Generalized Atmospheric Scattering Media <a class=anchor-link href=#generalized-atmospheric-scattering-media>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20838>#20838</a></div></div><p>Most of the fields on <code>Atmosphere</code> have been removed in favor of a handle to the new <code>ScatteringMedium</code> asset.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Atmosphere</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">bottom_radius</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">top_radius</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">ground_albedo</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec3,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> All of these fields have been removed.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">rayleigh_density_exp_scale</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">rayleigh_scattering</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec3,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">mie_density_exp_scale</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">mie_scattering</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">mie_absorption</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">mie_asymmetry</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">ozone_layer_altitude</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">ozone_layer_width</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">ozone_absorption</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec3,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Atmosphere</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">bottom_radius</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">top_radius</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">ground_albedo</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec3,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This replaces all of the old fields.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">medium</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ScatteringMedium<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Unfortunately, this means <code>Atmosphere</code> no longer implements <code>Default</code>. Instead, you can access the default earthlike atmosphere by using <code>ScatteringMedium::default()</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup_camera</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">scattering_mediums</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ScatteringMedium<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        Camera3d<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">Atmosphere<span class="z-punctuation z-accessor z-rust">::</span></span>earthlike<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>scattering_mediums<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ScatteringMedium<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=image-loader-array-layout>Image Loader Array Layout <a class=anchor-link href=#image-loader-array-layout>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21628>#21628</a></div></div><p><code>ImageLoader</code> now supports loading array textures using the new <code>ImageLoaderSettings::array_layout</code> setting.<p>In previous versions, loading an array texture generally required a system that waited for the asset to load, then called <code>Image::reinterpret_stacked_2d_as_array</code>. Now the <code>ImageLoader</code> can do that for you automatically.<pre class="language-rs z-code" data-lang=rs><code class=language-rs data-lang=rs><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">image<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>ImageLoaderSettings<span class="z-punctuation z-separator z-rust">,</span> ImageArrayLayout</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> array_texture <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load_with_settings</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>textures/array_texture.png<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">settings</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> ImageLoaderSettings<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Load the image as a stacked array of 4 textures.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        settings<span class="z-punctuation z-accessor z-dot z-rust">.</span>array_layout <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ImageArrayLayout<span class="z-punctuation z-accessor z-rust">::</span></span>RowCount <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> rows<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">4</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=renamed-bevy-reflect-feature-documentation-to-reflect-documentation>Renamed <code>bevy_reflect</code> feature <code>documentation</code> to <code>reflect_documentation</code> <a class=anchor-link href=#renamed-bevy-reflect-feature-documentation-to-reflect-documentation>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21577>#21577</a></div></div><p>The <code>documentation</code> feature in <code>bevy_reflect</code> has been renamed to <code>reflect_documentation</code> to clarify that it allows reflecting documentation of rust code at runtime.<h3 id=tilemap-chunk-layout>Tilemap Chunk Layout <a class=anchor-link href=#tilemap-chunk-layout>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21684>#21684</a></div></div><p><code>TilemapChunk</code> and <code>TilemapChunkTileData</code>'s default layout has been changed from the origin being in the top left to the origin being in the bottom left.<p>The previous layout origin didn't align with Bevy's world coordinate system, so when mapping to and from chunk space (to map a world coordinate to a tile) you would have to account for the chunk y coordinate being inverted.<p>With the origin of the chunk being in the bottom left, you can simply mod world coordinates to get chunk coordinates.<p>Some other tiling tools have the convention of the origin being at the top left, but it's more important for Bevy's features to be internally consistent as it allows for better ease of use.<h3 id=renamed-clear-children-and-clear-related-methods-to-detach>Renamed <code>clear_children</code> and <code>clear_related</code> methods to <code>detach_*</code> <a class=anchor-link href=#renamed-clear-children-and-clear-related-methods-to-detach>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21470>#21470</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21537>#21537</a></div></div><p>In summary, we renamed <code>clear_*</code> and <code>remove_*</code> methods to <code>detach_*</code>. This should clarify that these methods do not despawn the child entities or related entities.<p>We renamed several related methods on both <code>EntityCommands</code> and <code>EntityWorldMut</code>:<ul><li>The method <code>EntityCommands::clear_children</code> has been renamed to <code>EntityCommands::detach_all_children</code>.<li>The method <code>EntityWorldMut::clear_children</code> has been renamed to <code>EntityWorldMut::detach_all_children</code>.<li>The method <code>EntityCommands::remove_children</code> has been renamed to <code>EntityCommands::detach_children</code>.<li>The method <code>EntityWorldMut::remove_children</code> has been renamed to <code>EntityWorldMut::detach_children</code>.<li>The method <code>EntityCommands::remove_child</code> has been renamed to <code>EntityCommands::detach_child</code>.<li>The method <code>EntityWorldMut::remove_child</code> has been renamed to <code>EntityWorldMut::detach_child</code>.<li>The method <code>EntityCommands::clear_related</code> has been renamed to <code>EntityCommands::detach_all_related</code>.<li>The method <code>EntityWorldMut::clear_related</code> has been renamed to <code>EntityWorldMut::detach_all_related</code>.</ul><h3 id=loadcontext-path-now-returns-assetpath>LoadContext::path now returns <code>AssetPath</code>. <a class=anchor-link href=#loadcontext-path-now-returns-assetpath>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21713>#21713</a></div></div><p><code>LoadContext::asset_path</code> has been removed, and <code>LoadContext::path</code> now returns <code>AssetPath</code>. So the migrations are:<ul><li><code>load_context.asset_path()</code> -> <code>load_context.path()</code><li><code>load_context.path()</code> -> <code>load_context.path().path()</code> <ul><li>While this migration will keep your code running, seriously consider whether you need to use the <code>Path</code> itself. The <code>Path</code> does not support custom asset sources, so care needs to be taken when using it directly. Consider instead using the <code>AssetPath</code> instead, along with <code>AssetPath::resolve_embed</code>, to properly support custom asset sources.</ul></ul><h3 id=use-mesh-try-mesh-functions-for-assets-mesh-entries-when-there-can-be-renderassetusages-render-world-only-meshes>Use <code>Mesh::try_* mesh</code> functions for <code>Assets&LTMesh></code> entries when there can be <code>RenderAssetUsages::RENDER_WORLD</code>-only meshes. <a class=anchor-link href=#use-mesh-try-mesh-functions-for-assets-mesh-entries-when-there-can-be-renderassetusages-render-world-only-meshes>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21732>#21732</a></div></div><p>Previously, the <code>Assets&LTMesh></code> resource would not retain <code>RenderAssetUsages::RENDER_WORLD</code>-only meshes once their data was extracted.<p>In 0.18, <code>Assets&LTMesh></code> retains <code>RenderAssetUsages::RENDER_WORLD</code>-only meshes, even after their data is extracted. To handle such meshes, <code>Mesh</code> now contains <code>Mesh::try_*</code> functions which return a <code>Result<..., MeshAccessError></code>. These functions return an <code>Err(MeshAccessError,ExtractedToRenderWorld)</code> when the mesh has already been extracted.<p>If <code>Assets&LTMesh></code> can contain <code>RenderAssetUsages::RENDER_WORLD</code>-only meshes, the following <code>Mesh</code> functions should be changed to their <code>try_*</code> equivalent and handled appropriately:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> assets: Res<'w, Assets&LTMesh>>
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> mesh <span class="z-keyword z-operator z-assignment z-rust">=</span> assets<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>some_mesh_handle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or assets.get_mut(some_mesh_handle).unwrap()
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_inserted_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">remove_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_removed_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">contains_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">attribute_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">attributes</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">attributes_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_inserted_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">indices_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">remove_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_removed_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">duplicate_vertices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_duplicated_vertices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">compute_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">compute_flat_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">compute_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">compute_area_weighted_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">compute_custom_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_computed_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_computed_flat_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_computed_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_computed_area_weighted_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_custom_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">transformed_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">transform_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">translated_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">translate_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">rotated_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">rotate_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">scaled_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">scale_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">normalize_joint_weights</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> when feature = morph enabled
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">has_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_morph_target_names</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_morph_target_names</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">morph_target_names</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_insert_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_inserted_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_remove_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_contains_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_removed_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_attribute_option</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or mesh.try_attribute(...)
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_attribute_mut_option</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or mesh.try_attribute_mut(...)
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_attributes</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_attributes_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_insert_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_inserted_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_indices_option</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or mesh.try_indices(...)
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_indices_mut_option</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or mesh.try_indices_mut(...)
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_remove_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_removed_indices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_duplicate_vertices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_duplicated_vertices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_compute_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_compute_flat_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_compute_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_compute_area_weighted_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_compute_custom_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_computed_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_computed_flat_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_computed_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_computed_area_weighted_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_custom_smooth_normals</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_transformed_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_transform_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_translated_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_translate_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_rotated_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_rotate_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_scaled_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_scale_by</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_normalize_joint_weights</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> when feature = morph enabled
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_has_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_set_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_morph_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_set_morph_target_names</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_with_morph_target_names</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">try_morph_target_names</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the following functions do not have a try_ equivalent, but now panic if 
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the mesh data has been extracted to `RenderWorld`.
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_vertex_size</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_vertex_buffer_size</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_index_buffer_bytes</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mesh_vertex_buffer_layout</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">count_vertices</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">create_packed_vertex_buffer_data</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">write_packed_vertex_buffer_data</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>If the calls to <code>Mesh</code> functions (under the 0.17 section) are left unchanged after upgrading to 0.18, they will now panic if the mesh is a <code>RenderAssetUsages::RENDER_WORLD</code>-only mesh that has been extracted to the render world.<h3 id=custom-asset-sources-now-require-a-reader>Custom asset sources now require a reader. <a class=anchor-link href=#custom-asset-sources-now-require-a-reader>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21721>#21721</a></div></div><p>Previously, it was possible to create asset sources with no reader, resulting in your asset sources silently being skipped. This is no longer possible, since <code>AssetSourceBuilder</code> must now be given a reader to start. We also slightly changed how sources are expected to be built.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">AssetSource<span class="z-punctuation z-accessor z-rust">::</span></span>build<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_reader</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> reader logic <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_writer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_processed_reader</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_processed_writer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">AssetSourceBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> reader logic <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_writer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_processed_reader</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_processed_writer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">move</span> <span class="z-keyword z-operator z-logical z-rust">||</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></code></pre><h3 id=extracteduinode-s-stack-index-has-been-renamed-to-z-order-and-is-now-an-f32><code>ExtractedUiNode</code>'s <code>stack_index</code> has been renamed to <code>z_order</code> and is now an <code>f32</code>. <a class=anchor-link href=#extracteduinode-s-stack-index-has-been-renamed-to-z-order-and-is-now-an-f32>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/19691>#19691</a></div></div><p><code>ExtractedUiNode</code>â€™s <code>stack_index</code> field has been renamed to <code>z_order</code> and its type changed from <code>u32</code> to <code>f32</code>. Previously <code>stack_index</code> would be converted into an <code>f32</code> after extraction during the <code>Render</code> schedule, then offsets would be applied to determine draw order before sorting (lowest value rendered first). For example, a node's fill color is given an offset of <code>0.</code> and a box shadow is given an offset of <code>-0.1</code>, so that the shadow will be drawn behind the node.<p>Changing the field to an <code>f32</code>, enables finer control of the UI draw order by allowing these offsets to be applied during extraction, and fixes a bug affecting the ordering of texture-sliced nodes.<h3 id=the-non-text-areas-of-ui-text-nodes-are-no-longer-pickable>The non-text areas of UI <code>Text</code> nodes are no longer pickable <a class=anchor-link href=#the-non-text-areas-of-ui-text-nodes-are-no-longer-pickable>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/22047>#22047</a></div></div><p>Only the sections of <code>Text</code> node's containing text are pickable now, the non-text areas of the node do not register pointer hits. To replicate Bevy 0.17's picking behavior, use an intermediate parent node to intercept the pointer hits.<h3 id=cargo-feature-collections>Cargo Feature Collections <a class=anchor-link href=#cargo-feature-collections>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21472>#21472</a></div></div><p>Bevy now has high-level cargo feature collections (ex: <code>2d</code>, <code>3d</code>, <code>ui</code>) and mid-level feature collections (ex: <code>2d_api</code>, <code>3d_api</code>, <code>default_app</code>, <code>default_platform</code>). This isn't technically a breaking change, but if you were previously disabling Bevy's default features and manually enabling each specific cargo feature you wanted, we <em>highly</em> recommend switching to using the higher level feature collections wherever possible. This will make it much easier to define the functionality you want, and it will reduce the burden of keeping your list of features up to date across Bevy releases.<p>See the Cargo Feature Collections pull request for a full list of options.<h3 id=lineheight-is-now-a-separate-component><code>LineHeight</code> is now a separate component <a class=anchor-link href=#lineheight-is-now-a-separate-component>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21180>#21180</a></div></div><p>The <code>line_height</code> field has been removed from <code>TextFont</code>. <code>LineHeight</code> is now a component required by <code>Text</code>, <code>Text2d</code>, and <code>TextSpan</code>.<h3 id=animationtarget-replaced-by-separate-components><code>AnimationTarget</code> replaced by separate components <a class=anchor-link href=#animationtarget-replaced-by-separate-components>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20774>#20774</a></div></div><p>The <code>AnimationTarget</code> component has been split into two separate components. <code>AnimationTarget::id</code> is now an <code>AnimationTargetId</code> component, and <code>AnimationTarget::player</code> is now an <code>AnimatedBy</code> component.<p>This change was made to add flexibility. It's now possible to calculate the <code>AnimationTargetId</code> first, but defer the choice of player until later.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust">entity<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>AnimationTarget <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> id<span class="z-punctuation z-separator z-rust">:</span> AnimationTargetId<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> player<span class="z-punctuation z-separator z-rust">:</span> player_entity </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust">entity<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>AnimationTargetId<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> AnimatedBy<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>player_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=virtual-geometry>Virtual Geometry <a class=anchor-link href=#virtual-geometry>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21301>#21301</a></div></div><p>Virtual geometry's asset format has changed. You must regenerate <code>MeshletMesh</code> assets.<h3 id=bevymanifest-shared-is-now-a-scope-like-api><code>BevyManifest::shared</code> is now a scope-like API. <a class=anchor-link href=#bevymanifest-shared-is-now-a-scope-like-api>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20630>#20630</a></div></div><p>In previous versions of Bevy, <code>BevyManifest</code> returned a mapped <code>RwLock</code> guard. Now, it's a scope-like API:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.16
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> manifest <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">BevyManifest<span class="z-punctuation z-accessor z-rust">::</span></span>shared<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> path <span class="z-keyword z-operator z-assignment z-rust">=</span> manifest<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>my_bevy_crate<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> path <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">BevyManifest<span class="z-punctuation z-accessor z-rust">::</span></span>shared<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">manifest</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    manifest<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>my_bevy_crate<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=entities-apis>Entities APIs <a class=anchor-link href=#entities-apis>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/19350>#19350</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/19433>#19433</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/19451>#19451</a></div></div><p>Entities are spawned by allocating their id and then giving that id a location within the world. In 0.17, this was done in one stroke through <code>spawn</code> and <code>Entities::flush</code>. In 0.18, the flushing functionality has been removed in favor of <code>spawn</code>ing individual <code>EntityRow</code>s instead. Don't worry, these changes don't affect the common operations like <code>spawn</code> and <code>despawn</code>, but the did impact the peripheral interfaces and error types. For a full explanation of the new entity paradigm, errors and terms, see the new <code>entity</code> module docs. If you want more background for the justification of these changes or more information about where these new terms come from, see pr #19451. This opens up a lot of room for performance improvement but also caused a lot of breaking changes:<h4 id=entities-rework><code>Entities</code> rework <a class=anchor-link href=#entities-rework>#</a></h4><p>A lot has changed here. First, <code>alloc</code>, <code>free</code>, <code>reserve</code>, <code>reserve_entity</code>, <code>reserve_entities</code>, <code>flush</code>, <code>flush_as_invalid</code>, <code>EntityDoesNotExistError</code>, <code>total_count</code>, <code>used_count</code>, and <code>total_prospective_count</code> have all been removed ðŸ˜±.<p>Allocation has moved to the new <code>EntitiesAllocator</code> type, accessible via <code>World::entities_allocator</code> and <code>World::entities_allocator_mut</code>, which have <code>alloc</code>, <code>free</code>, and <code>alloc_many</code>.<p>Reservation and flushing have been completely removed as they are no longer needed. Instead of reserving an entity and later flushing it, you can <code>EntitiesAllocator::alloc</code> (which does not need mutable access), and <code>World::spawn_at</code> can be used to "flush" the entity.<p>The counting methods have been reworked in the absence of flushing: <code>len</code> and <code>is_empty</code> now deal with how many entity rows have been allocated (not necessarily the number that have been spawned), and the new <code>count_spawned</code> and <code>any_spawned</code> are similar to the old <code>len</code> and <code>is_empty</code> behavior but are now O(n).<p>In terms of getting information from <code>Entities</code>, <code>get</code> and <code>contains</code> has been reworked to include non-spawned entities. If you only want spawned entities, <code>get_spawned</code> and <code>contains_spawned</code> are available. Additionally, <code>get</code> now returns <code>Result&LTOption&LTEntityLocation>, InvalidEntityError></code> instead of <code>Option&LTEntityLocation></code> for clarity. Entities now may or may not have a location, depending on if it is spawned or not.<p><code>EntityDoesNotExistError</code> has been removed and reworked. See the new entity module docs for more, but: When an entity's generation is not up to date with its row, <code>InvalidEntityError</code> is produced. When an entity index's <code>Option&LTEntityLocation></code> is <code>None</code>, <code>EntityValidButNotSpawnedError</code> is produced. When an <code>Entity</code> is expected to be spawned but is not (either because its generation is outdated or because its row is not spawned), <code>EntityNotSpawnedError</code> is produced. A few other wrapper error types have slightly changed as well, generally moving from "entity does not exist" to "entity is not spawned".<h4 id=entity-ids>Entity Ids <a class=anchor-link href=#entity-ids>#</a></h4><p>Entity ids previously used "row" terminology, but now use "index" terminology as that more closely specifies its current implementation. As such, all functions and types dealing with the previous <code>EntityRow</code> have had their names 1 to 1 mapped to index. Ex: <code>EntityRow</code> -> <code>EntityIndex</code>, <code>Entity::row</code> -> <code>Entity::index</code>, <code>Entity::from_row</code> -> <code>Entity::from_index</code>, etc. Note that <code>Entity::index</code> did exist before. It served to give the numeric representation of the <code>EntityRow</code>. The same functionality exists, now under <code>Entity::index_u32</code>.<h4 id=entity-pointers>Entity Pointers <a class=anchor-link href=#entity-pointers>#</a></h4><p>When migrating, entity pointers, like <code>EntityRef</code>, were changed to assume that the entity they point to is spawned. This was not necessarily checked before, so the errors for creating an entity pointer is now <code>EntityNotSpawnedError</code>. This probably will not affect you since creating a pointer to an entity that was not spawned is kinda pointless.<p>It is still possible to invalidate an <code>EntityWorldMut</code> by despawning it from commands. (Ex: The hook for adding a component to an entity actually despawns the entity it was added to.) If that happens, it may lead to panics, but <code>EntityWorldMut::is_spawned</code> has been added to help detect that.<h4 id=entity-commands>Entity Commands <a class=anchor-link href=#entity-commands>#</a></h4><p><code>Commands::new_from_entities</code> now also needs <code>&EntitiesAllocator</code>, which can be obtained from <code>UnsafeWorldCell::entities_allocator</code>. <code>Commands::get_entity</code> does not error for non-spawned entities, making it useful to amend an entity you have queued to spawn through commands. If you only want spawned entities, use <code>Commands::get_spawned_entity</code>.<h4 id=other-entity-interactions>Other entity interactions <a class=anchor-link href=#other-entity-interactions>#</a></h4><p>The <code>ArchetypeRow::INVALID</code> and <code>ArchetypeId::INVALID</code> constants have been removed, since they are no longer needed for flushing. If you depended on these, use options instead.<p><code>BundleSpawner::spawn_non_existent</code> is now <code>BundleSpawner::construct</code>. <code>World::inspect_entity</code> now errors with <code>EntityNotSpawnedError</code> instead of <code>EntityDoesNotExistError</code>. <code>QueryEntityError::EntityDoesNotExist</code> is now <code>QueryEntityError::NotSpawned</code>. <code>ComputeGlobalTransformError::NoSuchEntity</code> and <code>ComputeGlobalTransformError::MalformedHierarchy</code> now wrap <code>EntityNotSpawnedError</code>.<h3 id=removed-fontatlassets>Removed <code>FontAtlasSets</code> <a class=anchor-link href=#removed-fontatlassets>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21345>#21345</a></div></div><ul><li><code>FontAtlasSets</code> has been removed.<li><code>FontAtlasKey</code> now newtypes a <code>(AssetId&LTFont>, u32, FontSmoothing)</code>.<li><code>FontAtlasSet</code> is now a resource. It newtypes a <code>HashMap&LTFontAtlasKey, Vec&LTFontAtlas>></code> and derives <code>Deref</code> and <code>DerefMut</code>.<li>Font atlases are looked up directly using a <code>FontAtlasKey</code>, there's no longer a separate <code>AssetId&LTFont></code> to <code>FontAtlasKey</code> map.<li><code>remove_dropped_font_atlas_sets</code> has been renamed to <code>free_unused_font_atlases_system</code>.<li>The <code>FontAtlasSet</code> methods <code>add_glyph_to_atlas</code>, <code>get_glyph_atlas_info</code>, and <code>get_outlined_glyph_texture</code> have been moved into the <code>font_atlas</code> module and reworked into free functions.</ul><h3 id=get-components-get-components-mut-unchecked-now-return-a-result>get_components, get_components_mut_unchecked now return a Result <a class=anchor-link href=#get-components-get-components-mut-unchecked-now-return-a-result>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21780>#21780</a></div></div><p><code>get_components</code>, <code>get_components_mut_unchecked</code>, and <code>into_components_mut_unchecked</code> now return a <code>Result<_, QueryAccessError></code> instead of an <code>Option</code>.<h3 id=ambientlight-split-into-a-component-and-a-resource><code>AmbientLight</code> split into a component and a resource <a class=anchor-link href=#ambientlight-split-into-a-component-and-a-resource>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21585>#21585</a></div></div><p>The <code>AmbientLight</code> used to be both a component <em>and</em> a resource. In 0.18, we've split this in two separate structs: <code>AmbientLight</code> and <code>GlobalAmbientLight</code>. The resource <code>GlobalAmbientLight</code> is the default ambient light for the entire world and automatically added by <code>LightPlugin</code>. Meanwhile, <code>AmbientLight</code> is a component that can be added to a <code>Camera</code> in order to override the default <code>GlobalAmbientLight</code>. When appropriate, rename <code>AmbientLight</code> to <code>GlobalAmbientLight</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>AmbientLight <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    color<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">WHITE</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    brightness<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">2000.</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>GlobalAmbientLight <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    color<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">WHITE</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    brightness<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">2000.</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=derive-on-resource-will-fail-when-using-non-static-lifetimes>Derive on Resource will fail when using non-static lifetimes <a class=anchor-link href=#derive-on-resource-will-fail-when-using-non-static-lifetimes>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21385>#21385</a></div></div><p>Any type with <code>#[derive(Resource)]</code> that uses non-static lifetime will no longer compile.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Will no longer compile in 0.18, `'a` should be `'static`.
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-generic z-rust"><span class="z-entity z-name z-struct z-rust">Foo</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span></span><span class="z-meta z-struct z-rust"> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">   <span class="z-variable z-other z-member z-rust">bar</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span> <span class="z-storage z-type z-rust">str</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=renderpipelinedescriptor-and-computepipelinedescriptor-now-hold-a-bindgrouplayoutdescriptor><code>RenderPipelineDescriptor</code> and <code>ComputePipelineDescriptor</code> now hold a <code>BindGroupLayoutDescriptor</code> <a class=anchor-link href=#renderpipelinedescriptor-and-computepipelinedescriptor-now-hold-a-bindgrouplayoutdescriptor>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21205>#21205</a></div></div><p>In previous versions of Bevy, <code>RenderPipelineDescriptor</code> and <code>ComputePipelineDescriptor</code> held a <code>BindGroupLayout</code> to describe the layout of shader bind groups, depending directly on <code>wgpu</code>'s <code>BindGroupLayout</code>. Now, they hold a new type <code>BindGroupLayoutDescriptor</code> which holds the <code>BindGroupLayoutEntry</code>s directly. The descriptors are used to create <code>BindGroupLayout</code>s when they are first needed by a pipeline, and cached for reuse.<p>Concretely, this means wherever you were using a <code>RenderDevice</code> to create a <code>BindGroupLayout</code> to store in a <code>RenderPipelineDescriptor</code> or <code>ComputePipelineDescriptor</code>, you will now create a <code>BindGroupLayoutDescriptor</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bind_group_layout <span class="z-keyword z-operator z-assignment z-rust">=</span> render_device<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">create_bind_group_layout</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyPipeline <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    bind_group_layout<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bind_group <span class="z-keyword z-operator z-assignment z-rust">=</span> render_context<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">render_device</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">create_bind_group</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-support z-type z-rust">None</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-keyword z-operator z-bitwise z-rust">&</span>my_pipeline<span class="z-punctuation z-accessor z-dot z-rust">.</span>bind_group_layout<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bind_group_layout <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">BindGroupLayoutDescriptor<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyPipeline <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    bind_group_layout<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bind_group <span class="z-keyword z-operator z-assignment z-rust">=</span> render_context<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">render_device</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">create_bind_group</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-support z-type z-rust">None</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-keyword z-operator z-bitwise z-rust">&</span>pipeline_cache<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_bind_group_layout</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>my_pipeline<span class="z-punctuation z-accessor z-dot z-rust">.</span>bind_group</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=gizmos-cuboid-has-been-renamed-to-gizmos-cube><code>Gizmos::cuboid</code> has been renamed to <code>Gizmos::cube</code> <a class=anchor-link href=#gizmos-cuboid-has-been-renamed-to-gizmos-cube>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21393>#21393</a></div></div><p><code>Gizmos::cuboid</code> was renamed to <code>Gizmos::cube</code>.<h3 id=api-for-working-with-relationships-and-relationshiptargets-in-type-erased-contexts>API for working with <code>Relationships</code> and <code>RelationshipTargets</code> in type-erased contexts <a class=anchor-link href=#api-for-working-with-relationships-and-relationshiptargets-in-type-erased-contexts>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21601>#21601</a></div></div><p><code>ComponentDescriptor</code> now stores additional data for working with relationships in dynamic contexts. This resulted in changes to <code>ComponentDescriptor::new_with_layout</code>:<ul><li>Now requires additional parameter <code>relationship_accessor</code>, which should be set to <code>None</code> for all existing code creating <code>ComponentDescriptors</code>.</ul><h3 id=internal-has-been-removed><code>Internal</code> has been removed <a class=anchor-link href=#internal-has-been-removed>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21623>#21623</a></div></div><p>The <code>Internal</code> component, previously added as a required component to both one-shot systems and observer entities has been removed.<p>You can remove all references to it: these entities are no longer hidden by default query filters. If you have tests which rely on a specific number of entities existing in the world, you should refactor them to query for entities with a component that you care about: this is much more robust in general.<p>This component was previously motivated by two factors:<ol><li>A desire to protect users from accidentally modifying engine internals, breaking their app in subtle and complex ways.<li>A unified API for entity inspectors, allowing them to readily distinguish between "engine-internal" and "user-defined" entities.</ol><p>In practice, we found that this increased user friction and confusion without meaningfully improving robustness. Entity inspectors and similar tools can and should define their own entity categorization functionality: simply lumping all "internal" entities together is rarely helpful.<h3 id=automatic-aabb-updates-for-sprites-and-meshes>Automatic <code>Aabb</code> updates for sprites and meshes <a class=anchor-link href=#automatic-aabb-updates-for-sprites-and-meshes>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/18742>#18742</a></div></div><p>Bevy automatically creates an <code>Aabb</code> component for entities containing a mesh or sprite - the <code>Aabb</code> is then used for visibility and picking.<p>In 0.17 the <code>Aabb</code> <a href=https://github.com/bevyengine/bevy/issues/4294>was not updated</a> if the mesh or sprite was modified. This has been fixed in 0.18. If you were working around the issue by manually updating or removing the <code>Aabb</code>, then the workaround is no longer needed.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17: Modify the mesh, and remove the `Aabb` so that it's automatically
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> recreated from the modified mesh.
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ATTRIBUTE_POSITION</span><span class="z-punctuation z-separator z-rust">,</span> new_positions</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">entity<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">remove<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Aabb<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18: The `Aabb` will be automatically updated.
</span></span><span class="z-source z-rust">mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_attribute</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ATTRIBUTE_POSITION</span><span class="z-punctuation z-separator z-rust">,</span> new_positions</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>For users who want more control, 0.18 also adds a <code>NoAutoAabb</code> component. This will disable both automatic creation and automatic update of <code>Aabb</code> components.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">entity<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>NoAutoAabb</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=changes-to-assetserver-and-assetprocessor-creation>Changes to <code>AssetServer</code> and <code>AssetProcessor</code> creation. <a class=anchor-link href=#changes-to-assetserver-and-assetprocessor-creation>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21763>#21763</a></div></div><p>Previously <code>AssetServer</code>s <code>new</code> and <code>new_with_method_check</code> methods would take <code>AssetSources</code>. Now, these methods take <code>Arc&LTAssetSources></code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">AssetServer<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    sources<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    mode<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    watching_for_changes<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    unapproved_path_mode<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">AssetServer<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Wrap the sources in an `Arc`.
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Arc<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>sources</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    mode<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    watching_for_changes<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    unapproved_path_mode<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p><code>AssetProcessor::new</code> has also changed. It now returns to you the <code>Arc&LTAssetSources></code> which can (and should) be shared with the <code>AssetServer</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> processor <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">AssetProcessor<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>sources</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>processor<span class="z-punctuation z-separator z-rust">,</span> sources_arc</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">AssetProcessor<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    sources<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A bool whether the returned sources should listen for changes as asset processing completes.
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-constant z-language z-rust">false</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=same-state-transitions>Same State Transitions <a class=anchor-link href=#same-state-transitions>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/19363>#19363</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21792>#21792</a></div></div><p>Setting the next state will now always trigger state transitions like <code>OnEnter</code> and <code>OnExit</code>, even if the state is already the same. If you depend on the previous behavior, you can use the <code>set_if_neq</code> method instead.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust">next_state<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">State<span class="z-punctuation z-accessor z-rust">::</span></span>Menu</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust">next_state<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_if_neq</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">State<span class="z-punctuation z-accessor z-rust">::</span></span>Menu</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=image-reinterpret-size-and-image-reinterpret-stacked-2d-as-array-now-return-a-result>Image::reinterpret_size and Image::reinterpret_stacked_2d_as_array now return a Result <a class=anchor-link href=#image-reinterpret-size-and-image-reinterpret-stacked-2d-as-array-now-return-a-result>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20797>#20797</a></div></div><p><code>Image::reinterpret_size</code> and <code>Image::reinterpret_stacked_2d_as_array</code> now return a <code>Result</code> instead of panicking.<p>Previously, calling this method on image assets that did not conform to certain constraints could lead to runtime panics. The new return type makes the API safer and more explicit about the constraints.<p>To migrate your code, you will need to handle the <code>Result</code> returned by <code>Image::reinterpret_size</code> or <code>Image::reinterpret_stacked_2d_as_array</code>.<h3 id=changes-to-the-process-trait-in-bevy-asset>Changes to the <code>Process</code> trait in <code>bevy_asset</code>. <a class=anchor-link href=#changes-to-the-process-trait-in-bevy-asset>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21925>#21925</a></div></div><p><code>ProcessContext</code> no longer includes <code>asset_bytes</code>. This has been replaced by <code>asset_reader</code>. To maintain current behavior in a <code>Process</code> implementation, you can read all the bytes into a memory <code>Vec</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bytes <span class="z-keyword z-operator z-assignment z-rust">=</span> context<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">asset_bytes</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> reader <span class="z-keyword z-operator z-assignment z-rust">=</span> context<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">asset_reader</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> bytes <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-macro z-rust">vec!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">reader
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read_to_end</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> bytes</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span>await
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">map_err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">err</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-path z-rust">ProcessError<span class="z-punctuation z-accessor z-rust">::</span></span>AssetReaderError <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        path<span class="z-punctuation z-separator z-rust">:</span> context<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clone_owned</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        err<span class="z-punctuation z-separator z-rust">:</span> err<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=bindgrouplayout-labels-are-no-longer-optional><code>BindGroupLayout</code> labels are no longer optional <a class=anchor-link href=#bindgrouplayout-labels-are-no-longer-optional>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21573>#21573</a></div></div><p>In previous versions of Bevy, the <code>label</code> of a <code>BindGroupLayout</code> was optional. This practically only applies when implementing <code>AsBindGroup</code> manually without the <code>AsBindGroup</code> derive.<p>If you were previously omitting the <code>label</code> implementation from a <code>impl AsBindGroup</code>, you now must implement it:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">AsBindGroup <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">CoolMaterial</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">label</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'static</span> <span class="z-storage z-type z-rust">str</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> It is customary to make the label the name of the type.
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>CoolMaterial<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=traits-assetloader-assettransformer-assetsaver-and-process-all-now-require-typepath>Traits <code>AssetLoader</code>, <code>AssetTransformer</code>, <code>AssetSaver</code>, and <code>Process</code> all now require <code>TypePath</code> <a class=anchor-link href=#traits-assetloader-assettransformer-assetsaver-and-process-all-now-require-typepath>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21339>#21339</a></div></div><p>The <code>AssetLoader</code>, <code>AssetTransformer</code>, <code>AssetSaver</code>, and <code>Process</code> traits now include a super trait of <code>TypePath</code>. This means if you previously had a loader like:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyFunkyLoader</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">add_funk</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">u32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>You will need to add the following derive:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">TypePath</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyFunkyLoader</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">add_funk</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">u32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p><code>TypePath</code> comes from <code>bevy_reflect</code>, so libraries may also need to add a dependency on <code>bevy_reflect</code>.<h3 id=bevy-gizmos-rendering-split><code>bevy_gizmos</code> rendering split <a class=anchor-link href=#bevy-gizmos-rendering-split>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21536>#21536</a></div></div><p>The rendering backend of <code>bevy_gizmos</code> has been split off into <code>bevy_gizmos_render</code>. If you were using <code>default-features = false</code> and <code>bevy_gizmos</code> and <code>bevy_render</code>, you may want to enable the <code>bevy_gizmos_render</code> feature now.<h3 id=replaced-column-with-thincolumn>Replaced <code>Column</code> with <code>ThinColumn</code> <a class=anchor-link href=#replaced-column-with-thincolumn>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21427>#21427</a></div></div><p>The low-level <code>Column</code> and <code>ThinColumn</code> types in <code>bevy_ecs</code> have been merged into a single type, now called <code>Column</code> but with the api of <code>ThinColumn</code>. This type does not keep track of its own allocated length, and only provides unsafe methods.<h3 id=renamed-bevy-platform-hashmap-get-many-to-bevy-platform-hashmap-get-disjoint>Renamed <code>bevy_platform::HashMap::get_many_*</code> to <code>bevy_platform::HashMap::get_disjoint_*</code> <a class=anchor-link href=#renamed-bevy-platform-hashmap-get-many-to-bevy-platform-hashmap-get-disjoint>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21898>#21898</a></div></div><p>Matching both <a href=https://github.com/rust-lang/hashbrown/pull/648><code>hashbrown</code></a> and the <code>std</code> library, we've renamed all the <code>get_many_*</code> methods on <code>bevy_platform::HashMap</code> to <code>get_disjoint_*</code>. So rename:<ul><li><code>get_many_mut</code> -> <code>get_disjoint_mut</code><li><code>get_many_unchecked_mut</code> -> <code>get_disjoint_unchecked_mut</code><li><code>get_many_key_value_mut</code> -> <code>get_disjoint_key_value_mut</code><li><code>get_many_key_value_unchecked_mut</code> -> <code>get_disjoint_key_value_unchecked_mut</code></ul><h3 id=gltf-coordinate-conversion>glTF Coordinate Conversion <a class=anchor-link href=#gltf-coordinate-conversion>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20394>#20394</a></div></div><p><strong>Bevy 0.17</strong> added options for coordinate conversion of glTF files - <code>GltfPlugin::use_model_forward_direction</code> and <code>GltfLoaderSettings::use_model_forward_direction</code>. In <strong>Bevy 0.18</strong> these options have changed. The options are disabled by default, so if you haven't enabled them then your glTFs will work the same as before.<p><em>CAUTION: The options are experimental, and their behavior may change in future versions.</em><p>The goal of coordinate conversion is to take objects that face forward in the glTF and change them to match the direction of Bevy's <code>Transform::forward</code>. Conversion is necessary because glTF's standard scene forward is +Z, while Bevy's is -Z (although not all glTF files follow the standard, and there are exceptions for cameras and lights).<p>In 0.17 the conversion was applied to nodes and meshes within glTF scenes. This worked well for some users, but had <a href=https://github.com/bevyengine/bevy/issues/20621>bugs</a> and didn't work well for other users. In particular, node conversion caused issues with cameras and lights.<p>In 0.18 there are two changes. Firstly, the <code>use_model_forward_direction</code> option has been renamed to <code>convert_coordinates</code>, and is now a struct with two separate options.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">GltfPlugin</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">use_model_forward_direction</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">bool</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">GltfPlugin</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">convert_coordinates</span><span class="z-punctuation z-separator z-type z-rust">:</span> GltfConvertCoordinates,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">GltfConvertCoordinates</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">rotate_scene_entity</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">bool</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">rotate_meshes</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">bool</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Secondly, the conversion behavior has changed. Nodes within the glTF scene are no longer converted - instead a new conversion is applied to the scene entity and mesh primitive entities. Whether these changes affect you will depend on how you're using glTFs.<ul><li><p>If you never enabled the 0.17 conversion then you don't need to change anything - conversion remains disabled by default in 0.18. To check if you enabled the conversion, search for <code>use_model_forward_direction</code>.</p><li><p>If you simply spawn your glTF via <code>SceneRoot</code> and want it to visually match the <code>Transform::forward</code> of the entity it's spawned on, then you're still supported. The internals of the scene will be different in 0.18, but the visual result will be the same. The only option you need to enable is <code>GltfConvertCoordinates::rotate_scene_entity</code>.</p><li><p>If you want the <code>Mesh</code> assets in your glTF to be converted then you're supported by the <code>GltfConvertCoordinates::rotate_meshes</code> option. This can be combined with the <code>rotate_scene_entity</code> option if you want both.</p><li><p>If you enabled the 0.17 conversion and aren't sure what to enable in 0.18, try enabling both the <code>rotate_scene_entity</code> and <code>rotate_meshes</code> options. This will be closest to the 0.17 behavior.</p><li><p>If you tried the 0.17 conversion but found it caused issues with cameras or lights, then the 0.18 conversion should fix these issues.</p><li><p>If you relied on node conversion, you'll find that 0.18 no longer applies that conversion. This change was made to avoid bugs and give other users more options.</p></ul><p>If you want to try out glTF coordinate conversion, the simplest method is to set <code>GltfPlugin::convert_coordinates</code> - this option can be set on app startup, and is applied to all glTFs when they're loaded. For an app that uses <code>DefaultPlugins</code>, the example below shows how to enable just scene conversion.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>DefaultPlugins<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>GltfPlugin <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        convert_coordinates<span class="z-punctuation z-separator z-rust">:</span> GltfConvertCoordinates <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> rotate_scene_entity<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>If you want finer control, you can choose the option per-glTF with <code>GltfLoaderSettings</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> handle <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load_with_settings</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>fox.gltf#Scene0<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">settings</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> GltfLoaderSettings<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        settings<span class="z-punctuation z-accessor z-dot z-rust">.</span>convert_coordinates <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>GltfConvertCoordinates <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> rotate_scene_entity<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=trackedrenderpass-set-index-buffer-no-longer-takes-buffer-offset><code>TrackedRenderPass::set_index_buffer</code> no longer takes buffer offset <a class=anchor-link href=#trackedrenderpass-set-index-buffer-no-longer-takes-buffer-offset>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/20468>#20468</a></div></div><p><code>TrackedRenderPass::set_index_buffer</code> no longer takes a separate buffer offset argument, which wasn't actually forwarded to wgpu. You have already needed to pass a <code>BufferSlice</code> that is sliced to the desired offset/size.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.17
</span></span><span class="z-source z-rust">pass<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_index_buffer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>indices<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">slice</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span><span class="z-keyword z-operator z-range z-rust">..</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">1</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">IndexFormat<span class="z-punctuation z-accessor z-rust">::</span></span>Uint32</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.18
</span></span><span class="z-source z-rust">pass<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_index_buffer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>indices<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">slice</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span><span class="z-keyword z-operator z-range z-rust">..</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">IndexFormat<span class="z-punctuation z-accessor z-rust">::</span></span>Uint32</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=borderrect-now-has-vec2-fields><code>BorderRect</code> now has <code>Vec2</code> fields <a class=anchor-link href=#borderrect-now-has-vec2-fields>#</a></h3><div class=heading-meta><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/21581>#21581</a></div></div><p>The directional BorderRect fields (<code>left</code>, <code>right</code>, <code>top</code>, and <code>bottom</code>) have been replaced with <code>min_inset</code> and <code>max_inset</code> <code>Vec2</code> fields.<p>Using <code>min_inset</code> and <code>max_inset</code> removes the need to interpret <code>top</code> or <code>bottom</code> relative to the coordinate system, so the same logic will work consistently in both UI and 2D.</div><div class="docs-footer print:hidden"><nav class=docs-footer__nav><a class="docs-footer__link docs-footer__link--next" data-docs-nav-next href=/learn/migration-guides/0-16-to-0-17/> <div class=docs-footer__label><div class=docs-footer__dir>Next</div> 0.16 to 0.17</div> <i class="docs-footer__chevron icon icon--chevron-right"></i> </a><a class="docs-footer__link docs-footer__link--prev" data-docs-nav-previous href=/learn/migration-guides/introduction/> <div class=docs-footer__label><div class=docs-footer__dir>Previous</div> Introduction</div> <i class="docs-footer__chevron icon icon--chevron-left"></i> </a></nav><div class=docs-footer__edit-wrapper><a class=docs-footer__edit href=https://github.com/bevyengine/bevy-website/edit/main/content/learn/migration-guides/0.17-to-0.18.md> <i class="icon icon--pencil"></i> Improve this page </a><a href="https://github.com/bevyengine/bevy-website/issues/new?template=docs.md&title=Issue%20on%20page%200.17%20to%200.18" class=docs-footer__edit> <i class="icon icon--github"></i> Report issue </a></div></div></div></div></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>