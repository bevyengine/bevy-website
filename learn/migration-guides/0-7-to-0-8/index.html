<!doctype html><html class=light-mode lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="0.7 to 0.8" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//learn/migration-guides/0-7-to-0-8/ property=og:url><meta content=https://bevy.org/assets/bevy_logo_fill.png property=og:image><meta content="Before migrating make sure to run rustup update
Bevy relies heavily on improvements in the Rust language and compiler.
As a result, the Minimum Supporâ€¦" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>0.7 to 0.8</title><script src=/optional-helpers.js></script><script defer src=/highlight-intrapage-link.js></script><script defer src=/clipboard.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>Migration Guides</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">Migration Guides</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/introduction/>Introduction</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-17-to-0-18/>0.17 to 0.18</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-16-to-0-17/>0.16 to 0.17</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-15-to-0-16/>0.15 to 0.16</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-14-to-0-15/>0.14 to 0.15</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-13-to-0-14/>0.13 to 0.14</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-12-to-0-13/>0.12 to 0.13</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-11-to-0-12/>0.11 to 0.12</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-10-to-0-11/>0.10 to 0.11</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-9-to-0-10/>0.9 to 0.10</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-8-to-0-9/>0.8 to 0.9</a></div><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-7-to-0-8/>0.7 to 0.8</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#camera-driven-rendering>Camera Driven Rendering</a><li><a href=#visibilty-inheritance-universal-computedvisibility-and-renderlayers-support>Visibilty Inheritance, universal ComputedVisibility and RenderLayers support</a><li><a href=#use-affine3a-for-globaltransform-to-allow-any-affine-transformation>Use Affine3A for GlobalTransform to allow any affine transformation</a><li><a href=#add-a-scenebundle-to-spawn-a-scene>Add a SceneBundle to spawn a scene</a><li><a href=#make-scalingmode-more-flexible>Make ScalingMode more flexible</a><li><a href=#allow-closing-windows-at-runtime>Allow closing windows at runtime</a><li><a href=#make-runonce-a-non-manual-system-impl>Make RunOnce a non-manual System impl</a><li><a href=#move-system-param-fetch-struct-into-anonymous-scope-to-avoid-name-collisions>Move system_param fetch struct into anonymous scope to avoid name collisions</a><li><a href=#task-doesn-t-impl-component>Task doesn't impl Component</a><li><a href=#split-time-functionality-into-bevy-time>Split time functionality into bevy_time</a><li><a href=#move-float-ord-from-bevy-core-to-bevy-utils>Move float_ord from bevy_core to bevy_utils</a><li><a href=#move-rect-to-bevy-ui-and-rename-it-to-uirect>Move Rect to bevy_ui and rename it to UiRect</a><li><a href=#rename-elementstate-to-buttonstate>Rename ElementState to ButtonState</a><li><a href=#improve-docs-and-naming-for-rawwindowhandle-functionality>Improve docs and naming for RawWindowHandle functionality</a><li><a href=#migrate-to-encase-from-crevice>Migrate to encase from crevice</a><li><a href=#use-shadertype-instead-of-asstd140-and-asstd430>Use ShaderType instead of AsStd140 and AsStd430</a> <ul><li><a href=#storagebuffer>StorageBuffer</a><li><a href=#uniformvec-uniformbuffer>UniformVec -> UniformBuffer</a><li><a href=#dynamicuniformvec-dynamicuniformbuffer>DynamicUniformVec -> DynamicUniformBuffer</a></ul><li><a href=#make-paused-timers-update-just-finished-on-tick>Make paused timers update just_finished on tick</a><li><a href=#change-default-image-filtermode-to-linear>Change default Image FilterMode to Linear</a><li><a href=#remove-system>Remove .system()</a><li><a href=#change-gamepad-rs-tuples-to-normal-structs>Change gamepad.rs tuples to normal structs</a><li><a href=#remove-entitymut-get-unchecked>Remove EntityMut::get_unchecked</a><li><a href=#replace-readonlyfetch-with-readonlyworldquery>Replace ReadOnlyFetch with ReadOnlyWorldQuery</a><li><a href=#fix-unsoundness-with-or-anyof-option-component-access>Fix unsoundness with Or/AnyOf/Option component access'</a><li><a href=#remove-task-pool-parameter-from-par-for-each-mut>Remove task_pool parameter from par_for_each(_mut)</a><li><a href=#fail-to-compile-on-16-bit-platforms>Fail to compile on 16-bit platforms</a><li><a href=#enforce-type-safe-usage-of-assets-get>Enforce type safe usage of Assets::get</a><li><a href=#allow-higher-order-systems>Allow higher order systems</a><li><a href=#added-offset-parameter-to-textureatlas-from-grid-with-padding>Added offset parameter to TextureAtlas::from_grid_with_padding</a><li><a href=#split-mesh-shader-files>Split mesh shader files</a><li><a href=#camera-driven-viewports>Camera Driven Viewports</a><li><a href=#diagnostics-meaningful-error-when-graph-node-has-wrong-number-of-inputs>Diagnostics: meaningful error when graph node has wrong number of inputs</a><li><a href=#make-reflect-safe-to-implement>Make Reflect safe to implement</a><li><a href=#mark-mutable-apis-under-ecs-storage-as-pub-crate>Mark mutable APIs under ECS storage as pub(crate)</a><li><a href=#add-global-init-and-get-accessors-for-all-newtyped-taskpools>Add global init and get accessors for all newtyped TaskPools</a><li><a href=#simplify-design-for-labels>Simplify design for *Labels</a><li><a href=#move-get-short-name-utility-method-from-bevy-reflect-into-bevy-utils>Move get_short_name utility method from bevy_reflect into bevy_utils</a><li><a href=#remove-dead-systemlabelmarker-struct>Remove dead SystemLabelMarker struct</a><li><a href=#add-reflection-for-resources>Add reflection for resources</a><li><a href=#make-reflect-partial-eq-return-more-accurate-results>Make reflect_partial_eq return more accurate results</a><li><a href=#make-renderstage-extract-run-on-the-render-world>Make RenderStage::Extract run on the render world</a><li><a href=#improve-gamepad-dpad-button-detection>Improve Gamepad DPad Button Detection</a><li><a href=#change-window-position-types-from-tuple-to-vec>Change window position types from tuple to vec</a><li><a href=#full-documentation-for-bevy-asset>Full documentation for bevy_asset</a><li><a href=#hierarchy-commandization>Hierarchy commandization</a><li><a href=#remove-blanket-serialize-deserialize-requirement-for-reflect-on-generic-types>Remove blanket Serialize + Deserialize requirement for Reflect on generic types</a><li><a href=#lighter-no-default-features>Lighter no default features</a><li><a href=#improve-ergonomics-and-reduce-boilerplate-around-creating-text-elements>Improve ergonomics and reduce boilerplate around creating text elements</a><li><a href=#add-querystate-get-single-unchecked-manual-and-its-family>Add QueryState::get_single_unchecked_manual and its family</a><li><a href=#tracing-tracy-updated-from-0-8-0-to-0-10-0>tracing-tracy updated from 0.8.0 to 0.10.0</a></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-6-to-0-7/>0.6 to 0.7</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-5-to-0-6/>0.5 to 0.6</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-4-to-0-5/>0.4 to 0.5</a></div></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class=main-menu__link href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><div class=page-with-menu><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/introduction/>Introduction</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-17-to-0-18/>0.17 to 0.18</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-16-to-0-17/>0.16 to 0.17</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-15-to-0-16/>0.15 to 0.16</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-14-to-0-15/>0.14 to 0.15</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-13-to-0-14/>0.13 to 0.14</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-12-to-0-13/>0.12 to 0.13</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-11-to-0-12/>0.11 to 0.12</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-10-to-0-11/>0.10 to 0.11</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-9-to-0-10/>0.9 to 0.10</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-8-to-0-9/>0.8 to 0.9</a></div><li class="tree-menu__item tree-menu__item--active"><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-7-to-0-8/>0.7 to 0.8</a><nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link><ul><li><a href=#camera-driven-rendering>Camera Driven Rendering</a><li><a href=#visibilty-inheritance-universal-computedvisibility-and-renderlayers-support>Visibilty Inheritance, universal ComputedVisibility and RenderLayers support</a><li><a href=#use-affine3a-for-globaltransform-to-allow-any-affine-transformation>Use Affine3A for GlobalTransform to allow any affine transformation</a><li><a href=#add-a-scenebundle-to-spawn-a-scene>Add a SceneBundle to spawn a scene</a><li><a href=#make-scalingmode-more-flexible>Make ScalingMode more flexible</a><li><a href=#allow-closing-windows-at-runtime>Allow closing windows at runtime</a><li><a href=#make-runonce-a-non-manual-system-impl>Make RunOnce a non-manual System impl</a><li><a href=#move-system-param-fetch-struct-into-anonymous-scope-to-avoid-name-collisions>Move system_param fetch struct into anonymous scope to avoid name collisions</a><li><a href=#task-doesn-t-impl-component>Task doesn't impl Component</a><li><a href=#split-time-functionality-into-bevy-time>Split time functionality into bevy_time</a><li><a href=#move-float-ord-from-bevy-core-to-bevy-utils>Move float_ord from bevy_core to bevy_utils</a><li><a href=#move-rect-to-bevy-ui-and-rename-it-to-uirect>Move Rect to bevy_ui and rename it to UiRect</a><li><a href=#rename-elementstate-to-buttonstate>Rename ElementState to ButtonState</a><li><a href=#improve-docs-and-naming-for-rawwindowhandle-functionality>Improve docs and naming for RawWindowHandle functionality</a><li><a href=#migrate-to-encase-from-crevice>Migrate to encase from crevice</a><li><a href=#use-shadertype-instead-of-asstd140-and-asstd430>Use ShaderType instead of AsStd140 and AsStd430</a> <ul><li><a href=#storagebuffer>StorageBuffer</a><li><a href=#uniformvec-uniformbuffer>UniformVec -> UniformBuffer</a><li><a href=#dynamicuniformvec-dynamicuniformbuffer>DynamicUniformVec -> DynamicUniformBuffer</a></ul><li><a href=#make-paused-timers-update-just-finished-on-tick>Make paused timers update just_finished on tick</a><li><a href=#change-default-image-filtermode-to-linear>Change default Image FilterMode to Linear</a><li><a href=#remove-system>Remove .system()</a><li><a href=#change-gamepad-rs-tuples-to-normal-structs>Change gamepad.rs tuples to normal structs</a><li><a href=#remove-entitymut-get-unchecked>Remove EntityMut::get_unchecked</a><li><a href=#replace-readonlyfetch-with-readonlyworldquery>Replace ReadOnlyFetch with ReadOnlyWorldQuery</a><li><a href=#fix-unsoundness-with-or-anyof-option-component-access>Fix unsoundness with Or/AnyOf/Option component access'</a><li><a href=#remove-task-pool-parameter-from-par-for-each-mut>Remove task_pool parameter from par_for_each(_mut)</a><li><a href=#fail-to-compile-on-16-bit-platforms>Fail to compile on 16-bit platforms</a><li><a href=#enforce-type-safe-usage-of-assets-get>Enforce type safe usage of Assets::get</a><li><a href=#allow-higher-order-systems>Allow higher order systems</a><li><a href=#added-offset-parameter-to-textureatlas-from-grid-with-padding>Added offset parameter to TextureAtlas::from_grid_with_padding</a><li><a href=#split-mesh-shader-files>Split mesh shader files</a><li><a href=#camera-driven-viewports>Camera Driven Viewports</a><li><a href=#diagnostics-meaningful-error-when-graph-node-has-wrong-number-of-inputs>Diagnostics: meaningful error when graph node has wrong number of inputs</a><li><a href=#make-reflect-safe-to-implement>Make Reflect safe to implement</a><li><a href=#mark-mutable-apis-under-ecs-storage-as-pub-crate>Mark mutable APIs under ECS storage as pub(crate)</a><li><a href=#add-global-init-and-get-accessors-for-all-newtyped-taskpools>Add global init and get accessors for all newtyped TaskPools</a><li><a href=#simplify-design-for-labels>Simplify design for *Labels</a><li><a href=#move-get-short-name-utility-method-from-bevy-reflect-into-bevy-utils>Move get_short_name utility method from bevy_reflect into bevy_utils</a><li><a href=#remove-dead-systemlabelmarker-struct>Remove dead SystemLabelMarker struct</a><li><a href=#add-reflection-for-resources>Add reflection for resources</a><li><a href=#make-reflect-partial-eq-return-more-accurate-results>Make reflect_partial_eq return more accurate results</a><li><a href=#make-renderstage-extract-run-on-the-render-world>Make RenderStage::Extract run on the render world</a><li><a href=#improve-gamepad-dpad-button-detection>Improve Gamepad DPad Button Detection</a><li><a href=#change-window-position-types-from-tuple-to-vec>Change window position types from tuple to vec</a><li><a href=#full-documentation-for-bevy-asset>Full documentation for bevy_asset</a><li><a href=#hierarchy-commandization>Hierarchy commandization</a><li><a href=#remove-blanket-serialize-deserialize-requirement-for-reflect-on-generic-types>Remove blanket Serialize + Deserialize requirement for Reflect on generic types</a><li><a href=#lighter-no-default-features>Lighter no default features</a><li><a href=#improve-ergonomics-and-reduce-boilerplate-around-creating-text-elements>Improve ergonomics and reduce boilerplate around creating text elements</a><li><a href=#add-querystate-get-single-unchecked-manual-and-its-family>Add QueryState::get_single_unchecked_manual and its family</a><li><a href=#tracing-tracy-updated-from-0-8-0-to-0-10-0>tracing-tracy updated from 0.8.0 to 0.10.0</a></ul></nav></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-6-to-0-7/>0.6 to 0.7</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-5-to-0-6/>0.5 to 0.6</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=/learn/migration-guides/0-4-to-0-5/>0.4 to 0.5</a></div></ul></div></div><div class=page-with-menu__content><div class=docs-page><div class=docs-content><h1>Migration Guide: 0.7 to 0.8</h1><div class=media-content><p>Before migrating make sure to run <code>rustup update</code><p>Bevy relies heavily on improvements in the Rust language and compiler. As a result, the Minimum Supported Rust Version (MSRV) is "the latest stable release" of Rust.<h3 id=camera-driven-rendering><a href=https://github.com/bevyengine/bevy/pull/4745>Camera Driven Rendering</a> <a class=anchor-link href=#camera-driven-rendering>#</a></h3><p>This is a very complicated change and it is recommended to read the linked PRs for more details<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> old 3d perspective camera
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">PerspectiveCameraBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> new 3d perspective camera
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera3dBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> old 2d orthographic camera
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">OrthographicCameraBundle<span class="z-punctuation z-accessor z-rust">::</span></span>new_2d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> new 2d orthographic camera
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera2dBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> old 3d orthographic camera
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">OrthographicCameraBundle<span class="z-punctuation z-accessor z-rust">::</span></span>new_3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> new 3d orthographic camera
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Camera3dBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    projection<span class="z-punctuation z-separator z-rust">:</span> OrthographicProjection <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        scale<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        scaling_mode<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">ScalingMode<span class="z-punctuation z-accessor z-rust">::</span></span>FixedVertical<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>UI no longer requires a dedicated camera. <code>UiCameraBundle</code> has been removed. <code>Camera2dBundle</code> and <code>Camera3dBundle</code> now both default to rendering UI as part of their own render graphs. To disable UI rendering for a camera, disable it using the <code>UiCameraConfig</code> component:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera3dBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>UiCameraConfig <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        show_ui<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">false</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust">camera<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">world_to_screen</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>transform<span class="z-punctuation z-separator z-rust">,</span> world_position</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust">camera<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">world_to_viewport</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>transform<span class="z-punctuation z-separator z-rust">,</span> world_position</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=visibilty-inheritance-universal-computedvisibility-and-renderlayers-support><a href=https://github.com/bevyengine/bevy/pull/5310>Visibilty Inheritance, universal ComputedVisibility and RenderLayers support</a> <a class=anchor-link href=#visibilty-inheritance-universal-computedvisibility-and-renderlayers-support>#</a></h3><p><a href=https://docs.rs/bevy/0.8.0/bevy/render/view/struct.Visibility.html><code>Visibility</code></a> is now propagated into children in a similar way to <code>Transform</code>. Root elements of a hierarchy must now contain <a href=https://docs.rs/bevy/0.8.0/bevy/render/view/struct.Visibility.html><code>Visibility</code></a> and <a href=https://docs.rs/bevy/0.8.0/bevy/render/view/struct.ComputedVisibility.html><code>ComputedVisibility</code></a> for visibility propagation to work.<p><a href=https://docs.rs/bevy/0.8.0/bevy/prelude/struct.SpatialBundle.html><code>SpatialBundle</code></a> and <a href=https://docs.rs/bevy/0.8.0/bevy/prelude/struct.VisibilityBundle.html><code>VisibilityBundle</code></a> have been added for convenience. If you were using a <code>TransformBundle</code> you should probably be using a <a href=https://docs.rs/bevy/0.8.0/bevy/prelude/struct.SpatialBundle.html><code>SpatialBundle</code></a> now.<p>If you were previously reading <code>Visibility::is_visible</code> as the "actual visibility" for sprites or lights, use <code>ComputedVisibility::is_visible()</code> instead:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Visibility<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-keyword z-control z-rust">for</span> visibility <span class="z-keyword z-operator z-rust">in</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">if</span> visibility<span class="z-punctuation z-accessor z-dot z-rust">.</span>is_visible <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">       <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>found visible entity<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>ComputedVisibility<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-keyword z-control z-rust">for</span> visibility <span class="z-keyword z-operator z-rust">in</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">if</span> visibility<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">is_visible</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">       <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>found visible entity<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=use-affine3a-for-globaltransform-to-allow-any-affine-transformation><a href=https://github.com/bevyengine/bevy/pull/4379>Use Affine3A for GlobalTransform to allow any affine transformation</a> <a class=anchor-link href=#use-affine3a-for-globaltransform-to-allow-any-affine-transformation>#</a></h3><p><code>GlobalTransform</code> fields have changed<ul><li>Replace <code>global_transform.translation</code> by <code>global_transform.translation()</code> (For other fields, use the <code>compute_transform</code> method)<li><code>GlobalTransform</code> do not support non-linear scales anymore, we'd like to hear from you if it is an inconvenience for you<li>If you need the <code>scale</code>, <code>rotation</code> or <code>translation</code> property you can now use <code>global_transform.to_scale_rotation_translation()</code></ul><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> transform <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Transform<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">*</span>global_transform</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">transform<span class="z-punctuation z-accessor z-dot z-rust">.</span>scale
</span><span class="z-source z-rust">transform<span class="z-punctuation z-accessor z-dot z-rust">.</span>rotation
</span><span class="z-source z-rust">transform<span class="z-punctuation z-accessor z-dot z-rust">.</span>translation
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>scale<span class="z-punctuation z-separator z-rust">,</span> rotation<span class="z-punctuation z-separator z-rust">,</span> translation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> global_transform<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_scale_rotation_translation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=add-a-scenebundle-to-spawn-a-scene><a href=https://github.com/bevyengine/bevy/pull/2424>Add a SceneBundle to spawn a scene</a> <a class=anchor-link href=#add-a-scenebundle-to-spawn-a-scene>#</a></h3><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_scene</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/FlightHelmet/FlightHelmet.gltf#Scene0<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>SceneBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    scene<span class="z-punctuation z-separator z-rust">:</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/FlightHelmet/FlightHelmet.gltf#Scene0<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-type z-rust">Default</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>The scene will be spawned as a child of the entity with the <code>SceneBundle</code><h3 id=make-scalingmode-more-flexible><a href=https://github.com/bevyengine/bevy/pull/3253>Make ScalingMode more flexible</a> <a class=anchor-link href=#make-scalingmode-more-flexible>#</a></h3><p>Adds ability to specify scaling factor for <code>WindowSize</code>, size of the fixed axis for <code>FixedVertical</code> and <code>FixedHorizontal</code> and a new <code>ScalingMode</code> that is a mix of <code>FixedVertical</code> and <code>FixedHorizontal</code><h3 id=allow-closing-windows-at-runtime><a href=https://github.com/bevyengine/bevy/pull/3575>Allow closing windows at runtime</a> <a class=anchor-link href=#allow-closing-windows-at-runtime>#</a></h3><p><code>bevy::input::system::exit_on_esc_system</code> has been removed. Use <code>bevy::window::close_on_esc</code> instead.<p><code>CloseWindow</code> has been removed. Use <code>Window::close</code> instead. The Close variant has been added to <code>WindowCommand</code>. Handle this by closing the relevant window.<h3 id=make-runonce-a-non-manual-system-impl><a href=https://github.com/bevyengine/bevy/pull/3922>Make RunOnce a non-manual System impl</a> <a class=anchor-link href=#make-runonce-a-non-manual-system-impl>#</a></h3><p>The run criterion <code>RunOnce</code>, which would make the controlled systems run only once, has been replaced with a new run criterion function ShouldRun::once. Replace all instances of RunOnce with <code>ShouldRun::once</code>.<h3 id=move-system-param-fetch-struct-into-anonymous-scope-to-avoid-name-collisions><a href=https://github.com/bevyengine/bevy/pull/4100>Move system_param fetch struct into anonymous scope to avoid name collisions</a> <a class=anchor-link href=#move-system-param-fetch-struct-into-anonymous-scope-to-avoid-name-collisions>#</a></h3><p>For code that was using a system param's fetch struct, such as EventReader's EventReaderState, the fetch struct can now be identified via the SystemParam trait associated type Fetch, e.g. for <code>EventReader&LTT></code> it can be identified as <code>&LTEventReader<'static, 'static, T> as SystemParam>::Fetch</code><h3 id=task-doesn-t-impl-component><a href=https://github.com/bevyengine/bevy/pull/4113>Task doesn't impl Component</a> <a class=anchor-link href=#task-doesn-t-impl-component>#</a></h3><p>If you need a <code>Task</code> to be a <code>Component</code> you should use a wrapper type.<pre class="language-rs z-code" data-lang=rs><code class=language-rs data-lang=rs><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands, <span class="z-variable z-parameter z-rust">thread_pool</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AsyncComputeTaskPool<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> task <span class="z-keyword z-operator z-assignment z-rust">=</span> thread_pool<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>async <span class="z-storage z-modifier z-rust">move</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Complicated async work
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>task</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">ComputeVec2</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">Task<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Vec2<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> thread_pool <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">AsyncComputeTaskPool<span class="z-punctuation z-accessor z-rust">::</span></span>get<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> task <span class="z-keyword z-operator z-assignment z-rust">=</span> thread_pool<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>async <span class="z-storage z-modifier z-rust">move</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Complicated async work
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>ComputeVec2<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>task</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=split-time-functionality-into-bevy-time><a href=https://github.com/bevyengine/bevy/pull/4187>Split time functionality into bevy_time</a> <a class=anchor-link href=#split-time-functionality-into-bevy-time>#</a></h3><ul><li>Time related types (e.g. <code>Time</code>, <code>Timer</code>, <code>Stopwatch</code>, <code>FixedTimestep</code>, etc.) should be imported from <code>bevy::time::*</code> rather than <code>bevy::core::*</code>.<li>If you were adding <code>CorePlugin</code> manually, you'll also want to add <code>TimePlugin</code> from <code>bevy::time</code>.<li>The <code>bevy::core::CorePlugin::Time</code> system label is replaced with <code>bevy::time::TimeSystem</code>.</ul><h3 id=move-float-ord-from-bevy-core-to-bevy-utils><a href=https://github.com/bevyengine/bevy/pull/4189>Move float_ord from bevy_core to bevy_utils</a> <a class=anchor-link href=#move-float-ord-from-bevy-core-to-bevy-utils>#</a></h3><p>Replace imports of <code>bevy::core::FloatOrd</code> with <code>bevy::utils::FloatOrd</code>.<h3 id=move-rect-to-bevy-ui-and-rename-it-to-uirect><a href=https://github.com/bevyengine/bevy/pull/4276>Move Rect to bevy_ui and rename it to UiRect</a> <a class=anchor-link href=#move-rect-to-bevy-ui-and-rename-it-to-uirect>#</a></h3><p>The <code>Rect</code> type has been renamed to <code>UiRect</code>.<h3 id=rename-elementstate-to-buttonstate><a href=https://github.com/bevyengine/bevy/pull/4314>Rename ElementState to ButtonState</a> <a class=anchor-link href=#rename-elementstate-to-buttonstate>#</a></h3><p>The <code>ElementState</code> type has been renamed to <code>ButtonState</code>.<h3 id=improve-docs-and-naming-for-rawwindowhandle-functionality><a href=https://github.com/bevyengine/bevy/pull/4335>Improve docs and naming for RawWindowHandle functionality</a> <a class=anchor-link href=#improve-docs-and-naming-for-rawwindowhandle-functionality>#</a></h3><p>Renamed <code>HasRawWindowHandleWrapper</code> to <code>ThreadLockedRawWindowHandleWrapper</code>.<h3 id=migrate-to-encase-from-crevice><a href=https://github.com/bevyengine/bevy/pull/4339>Migrate to encase from crevice</a> <a class=anchor-link href=#migrate-to-encase-from-crevice>#</a></h3><h3 id=use-shadertype-instead-of-asstd140-and-asstd430>Use ShaderType instead of AsStd140 and AsStd430 <a class=anchor-link href=#use-shadertype-instead-of-asstd140-and-asstd430>#</a></h3><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> old
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">AsStd140</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Foo</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">a</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec4,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">b</span><span class="z-punctuation z-separator z-type z-rust">:</span> Mat4,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> new
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">ShaderType</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Foo</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">a</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec4,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">b</span><span class="z-punctuation z-separator z-type z-rust">:</span> Mat4,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h4 id=storagebuffer>StorageBuffer <a class=anchor-link href=#storagebuffer>#</a></h4><ul><li>removed <code>set_body()</code>, <code>values()</code>, <code>values_mut()</code>, <code>clear()</code>, <code>push()</code>, <code>append()</code><li>added <code>set()</code>, <code>get()</code>, <code>get_mut()</code></ul><h4 id=uniformvec-uniformbuffer>UniformVec -> UniformBuffer <a class=anchor-link href=#uniformvec-uniformbuffer>#</a></h4><ul><li>renamed <code>uniform_buffer()</code> to <code>buffer()</code><li>removed <code>len()</code>, <code>is_empty()</code>, <code>capacity()</code>, <code>push()</code>, <code>reserve()</code>, <code>clear()</code>, <code>values()</code><li>added <code>set()</code>, <code>get()</code></ul><h4 id=dynamicuniformvec-dynamicuniformbuffer>DynamicUniformVec -> DynamicUniformBuffer <a class=anchor-link href=#dynamicuniformvec-dynamicuniformbuffer>#</a></h4><ul><li>renamed <code>uniform_buffer()</code> to <code>buffer()</code><li>removed <code>capacity()</code>, <code>reserve()</code></ul><h3 id=make-paused-timers-update-just-finished-on-tick><a href=https://github.com/bevyengine/bevy/pull/4445>Make paused timers update just_finished on tick</a> <a class=anchor-link href=#make-paused-timers-update-just-finished-on-tick>#</a></h3><p><code>Timer::times_finished</code> has been renamed to <code>Timer::times_finished_this_tick</code> for clarity.<h3 id=change-default-image-filtermode-to-linear><a href=https://github.com/bevyengine/bevy/pull/4465>Change default Image FilterMode to Linear</a> <a class=anchor-link href=#change-default-image-filtermode-to-linear>#</a></h3><p>Default <code>Image</code> filtering changed from <code>Nearest</code> to <code>Linear</code>.<pre class="language-rs z-code" data-lang=rs><code class=language-rs data-lang=rs><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Nothing, nearest was the default
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ImageSettings<span class="z-punctuation z-accessor z-rust">::</span></span>default_nearest<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p><code>Image.sampler_descriptor</code> has been changed to use <code>ImageSampler</code> instead of <code>SamplerDescriptor</code>.<pre class="language-rs z-code" data-lang=rs><code class=language-rs data-lang=rs><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust">texture<span class="z-punctuation z-accessor z-dot z-rust">.</span>sampler_descriptor <span class="z-keyword z-operator z-assignment z-rust">=</span> SamplerDescriptor <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    address_mode_u<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">AddressMode<span class="z-punctuation z-accessor z-rust">::</span></span>Repeat<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    address_mode_v<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">AddressMode<span class="z-punctuation z-accessor z-rust">::</span></span>Repeat<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust">texture<span class="z-punctuation z-accessor z-dot z-rust">.</span>sampler_descriptor <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">ImageSampler<span class="z-punctuation z-accessor z-rust">::</span></span>Descriptor<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>SamplerDescriptor <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    address_mode_u<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">AddressMode<span class="z-punctuation z-accessor z-rust">::</span></span>Repeat<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    address_mode_v<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">AddressMode<span class="z-punctuation z-accessor z-rust">::</span></span>Repeat<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=remove-system><a href=https://github.com/bevyengine/bevy/pull/4499>Remove .system()</a> <a class=anchor-link href=#remove-system>#</a></h3><p>You can no longer use <code>.system()</code>. It was deprecated in 0.7.0. You can just remove the method call.<p>If you needed this for tests purposes, you can use <code>bevy_ecs::system::assert_is_system</code> instead.<h3 id=change-gamepad-rs-tuples-to-normal-structs><a href=https://github.com/bevyengine/bevy/pull/4519>Change gamepad.rs tuples to normal structs</a> <a class=anchor-link href=#change-gamepad-rs-tuples-to-normal-structs>#</a></h3><p>The <code>Gamepad</code>, <code>GamepadButton</code>, <code>GamepadAxis</code>, <code>GamepadEvent</code> and <code>GamepadEventRaw</code> types are now normal structs instead of tuple structs and have a <code>new</code> function. To migrate change every instantiation to use the <code>new()</code> function instead and use the appropriate field names instead of .0 and .1.<h3 id=remove-entitymut-get-unchecked><a href=https://github.com/bevyengine/bevy/pull/4547>Remove EntityMut::get_unchecked</a> <a class=anchor-link href=#remove-entitymut-get-unchecked>#</a></h3><p>Replace calls to <code>EntityMut::get_unchecked</code> with calls to <code>EntityMut::get</code>.<h3 id=replace-readonlyfetch-with-readonlyworldquery><a href=https://github.com/bevyengine/bevy/pull/4626>Replace ReadOnlyFetch with ReadOnlyWorldQuery</a> <a class=anchor-link href=#replace-readonlyfetch-with-readonlyworldquery>#</a></h3><p>The trait <code>ReadOnlyFetch</code> has been replaced with <code>ReadOnlyWorldQuery</code> along with the <code>WorldQueryGats::ReadOnlyFetch</code> assoc type which has been replaced with <code>&LTWorldQuery::ReadOnly as WorldQueryGats>::Fetch</code><p>The trait <code>ReadOnlyFetch</code> has been replaced with <code>ReadOnlyWorldQuery</code> along with the <code>WorldQueryGats::ReadOnlyFetch</code> assoc type which has been replaced with <code>&LTWorldQuery::ReadOnly as WorldQueryGats>::Fetch</code><ul><li>Any where clauses such as <code>QueryFetch&LTQ>: ReadOnlyFetch</code> should be replaced with <code>Q: ReadOnlyWorldQuery</code>.<li>Any custom world query impls should implement <code>ReadOnlyWorldQuery</code> instead of <code>ReadOnlyFetch</code></ul><p>Functions <code>update_component_access</code> and <code>update_archetype_component_access</code> have been moved from the <code>FetchState</code> trait to <code>WorldQuery</code><ul><li>Any callers should now call <code>Q::update_component_access(state</code> instead of <code>state.update_component_access</code> (and <code>update_archetype_component_access</code> respectively)<li>Any custom world query impls should move the functions from the <code>FetchState</code> impl to <code>WorldQuery</code> impl</ul><p><code>WorldQuery</code> has been made an <code>unsafe trait</code>, <code>FetchState</code> has been made a safe <code>trait</code>. (I think this is how it should have always been, but regardless this is <em>definitely</em> necessary now that the two functions have been moved to <code>WorldQuery</code>)<ul><li>If you have a custom <code>FetchState</code> impl make it a normal <code>impl</code> instead of <code>unsafe impl</code><li>If you have a custom <code>WorldQuery</code> impl make it an <code>unsafe impl</code>, if your code was sound before it is going to still be sound</ul><h3 id=fix-unsoundness-with-or-anyof-option-component-access><a href=https://github.com/bevyengine/bevy/pull/4659>Fix unsoundness with Or/AnyOf/Option component access'</a> <a class=anchor-link href=#fix-unsoundness-with-or-anyof-option-component-access>#</a></h3><p>Query conflicts from <code>Or</code>/<code>AnyOf</code>/<code>Option</code> have been fixed, and made stricter to avoid undefined behaviour. If you have new query conflicts due to this you must refactor your systems; consider using <code>ParamSet</code>.<h3 id=remove-task-pool-parameter-from-par-for-each-mut><a href=https://github.com/bevyengine/bevy/pull/4705>Remove task_pool parameter from par_for_each(_mut)</a> <a class=anchor-link href=#remove-task-pool-parameter-from-par-for-each-mut>#</a></h3><p>The <code>task_pool</code> parameter for <code>Query(State)::par_for_each(_mut)</code> has been removed. Remove these parameters from all calls to these functions.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">parallel_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">   <span class="z-variable z-parameter z-rust">task_pool</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ComputeTaskPool<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">   <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>MyComponent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">   query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">par_for_each</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>task_pool<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">32</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">comp</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">   </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">parallel_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>MyComponent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">   query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">par_for_each</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">32</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">comp</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">   </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>If using <code>Query</code> or <code>QueryState</code> outside of a system run by the scheduler, you may need to manually configure and initialize a <code>ComputeTaskPool</code> as a resource in the <code>World</code>.<h3 id=fail-to-compile-on-16-bit-platforms><a href=https://github.com/bevyengine/bevy/pull/4736>Fail to compile on 16-bit platforms</a> <a class=anchor-link href=#fail-to-compile-on-16-bit-platforms>#</a></h3><p><code>bevy_ecs</code> will now explicitly fail to compile on 16-bit platforms, because it is unsound on those platforms due to various internal assumptions.<p>There is currently no alternative, but we're open to adding support. Please <a href=https://github.com/bevyengine/bevy/issues>file an issue</a> to help detail your use case.<h3 id=enforce-type-safe-usage-of-assets-get><a href=https://github.com/bevyengine/bevy/pull/4794>Enforce type safe usage of Assets::get</a> <a class=anchor-link href=#enforce-type-safe-usage-of-assets-get>#</a></h3><p><code>Assets::&LTT>::get</code> and <code>Assets::&LTT>::get_mut</code> now require that the passed handles are <code>Handle&LTT></code>, improving the type safety of handles. If you were previously passing in:<ul><li>a <code>HandleId</code>, use <code>&Handle::weak(id)</code> instead, to create a weak handle. You may have been able to store a type safe <code>Handle</code> instead.<li>a <code>HandleUntyped</code>, use <code>&handle_untyped.typed_weak()</code> to create a weak handle of the specified type. This is most likely to be the useful when using <a href=https://docs.rs/bevy_asset/latest/bevy_asset/struct.AssetServer.html#method.load_folder>load_folder</a><li>a <code>&str</code> or anything not previously mentioned: <code>assets.get(&assets.get_handle("asset/path.ron"))</code><li>a <code>Handle&LTU></code> of a different type, consider whether this is the correct handle type to store. If it is (i.e. the same handle id is used for multiple different Asset types) use <code>Handle::weak(handle.id)</code> to cast to a different type.</ul><h3 id=allow-higher-order-systems><a href=https://github.com/bevyengine/bevy/pull/4833>Allow higher order systems</a> <a class=anchor-link href=#allow-higher-order-systems>#</a></h3><p><code>SystemParamFunction</code> has changed. It was not previously part of the public API, so no migration instructions are provided. (It is now included in the public API, although you still should not implement this trait for your own types).<p>If possible, any custom <code>System</code> implementations should be migrated to use higher order systems, which are significantly less error-prone.<p>Research is needed into allowing this to work for more cases.<h3 id=added-offset-parameter-to-textureatlas-from-grid-with-padding><a href=https://github.com/bevyengine/bevy/pull/4836>Added offset parameter to TextureAtlas::from_grid_with_padding</a> <a class=anchor-link href=#added-offset-parameter-to-textureatlas-from-grid-with-padding>#</a></h3><p>Calls to <code>TextureAtlas::from_grid_with_padding</code> should be modified to include a new parameter, which can be set to <code>Vec2::ZERO</code> to retain old behaviour.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-support z-function z-rust">from_grid_with_padding</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>texture<span class="z-punctuation z-separator z-rust">,</span> tile_size<span class="z-punctuation z-separator z-rust">,</span> columns<span class="z-punctuation z-separator z-rust">,</span> rows<span class="z-punctuation z-separator z-rust">,</span> padding</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-support z-function z-rust">from_grid_with_padding</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>texture<span class="z-punctuation z-separator z-rust">,</span> tile_size<span class="z-punctuation z-separator z-rust">,</span> columns<span class="z-punctuation z-separator z-rust">,</span> rows<span class="z-punctuation z-separator z-rust">,</span> padding<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><h3 id=split-mesh-shader-files><a href=https://github.com/bevyengine/bevy/pull/4867>Split mesh shader files</a> <a class=anchor-link href=#split-mesh-shader-files>#</a></h3><p>In shaders for 3D meshes:<ul><li><code>#import bevy_pbr::mesh_view_bind_group</code> -> <code>#import bevy_pbr::mesh_view_bindings</code><li><code>#import bevy_pbr::mesh_struct</code> -> <code>#import bevy_pbr::mesh_types</code> <ul><li>NOTE: If you are using the mesh bind group at bind group index 2, you can remove those binding statements in your shader and just use <code>#import bevy_pbr::mesh_bindings</code> which itself imports the mesh types needed for the bindings.</ul></ul><p>In shaders for 2D meshes:<ul><li><code>#import bevy_sprite::mesh2d_view_bind_group</code> -> <code>#import bevy_sprite::mesh2d_view_bindings</code><li><code>#import bevy_sprite::mesh2d_struct</code> -> <code>#import bevy_sprite::mesh2d_types</code> <ul><li>NOTE: If you are using the mesh2d bind group at bind group index 2, you can remove those binding statements in your shader and just use <code>#import bevy_sprite::mesh2d_bindings</code> which itself imports the mesh2d types needed for the bindings.</ul></ul><h3 id=camera-driven-viewports><a href=https://github.com/bevyengine/bevy/pull/4898>Camera Driven Viewports</a> <a class=anchor-link href=#camera-driven-viewports>#</a></h3><p><code>Camera::projection_matrix</code> is no longer a public field. Use the new <code>Camera::projection_matrix()</code> method instead:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> projection <span class="z-keyword z-operator z-assignment z-rust">=</span> camera<span class="z-punctuation z-accessor z-dot z-rust">.</span>projection_matrix<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> projection <span class="z-keyword z-operator z-assignment z-rust">=</span> camera<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">projection_matrix</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=diagnostics-meaningful-error-when-graph-node-has-wrong-number-of-inputs><a href=https://github.com/bevyengine/bevy/pull/4924>Diagnostics: meaningful error when graph node has wrong number of inputs</a> <a class=anchor-link href=#diagnostics-meaningful-error-when-graph-node-has-wrong-number-of-inputs>#</a></h3><p>Exhaustive matches on <code>RenderGraphRunnerError</code> will need to add a branch to handle the new <code>MismatchedInputCount</code> variant.<h3 id=make-reflect-safe-to-implement><a href=https://github.com/bevyengine/bevy/pull/5010>Make Reflect safe to implement</a> <a class=anchor-link href=#make-reflect-safe-to-implement>#</a></h3><ul><li>Reflect derives should not have to change anything<li>Manual reflect impls will need to remove the <code>unsafe</code> keyword, add <code>any()</code> implementations, and rename the old <code>any</code> and <code>any_mut</code> to <code>as_any</code> and <code>as_mut_any</code>.<li>Calls to <code>any</code>/<code>any_mut</code> must be changed to <code>as_any</code>/<code>as_mut_any</code></ul><h3 id=mark-mutable-apis-under-ecs-storage-as-pub-crate><a href=https://github.com/bevyengine/bevy/pull/5065>Mark mutable APIs under ECS storage as pub(crate)</a> <a class=anchor-link href=#mark-mutable-apis-under-ecs-storage-as-pub-crate>#</a></h3><p>If you experienced any problems caused by this change, please <a href=https://github.com/bevyengine/bevy/issues>create an issue</a> explaining <em>in detail</em> what you were doing with those apis.<h3 id=add-global-init-and-get-accessors-for-all-newtyped-taskpools><a href=https://github.com/bevyengine/bevy/pull/2250>Add global init and get accessors for all newtyped TaskPools</a> <a class=anchor-link href=#add-global-init-and-get-accessors-for-all-newtyped-taskpools>#</a></h3><p>Thread pools don't need to be stored in a resource anymore since they are now stored globally. You can now use <code>get()</code> to access it.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_tasks</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">thread_pool</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AsyncComputeTaskPool<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Do something with thread_pool
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_tasks</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> thread_pool <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">AsyncComputeTaskPool<span class="z-punctuation z-accessor z-rust">::</span></span>get<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Do something with thread_pool
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=simplify-design-for-labels><a href=https://github.com/bevyengine/bevy/pull/4957>Simplify design for *Labels</a> <a class=anchor-link href=#simplify-design-for-labels>#</a></h3><ul><li>Any previous use of <code>Box&LTdyn SystemLabel></code> should be replaced with <code>SystemLabelId</code>.<li><code>AsSystemLabel</code> trait has been modified. <ul><li>No more output generics.<li>Method <code>as_system_label</code> now returns <code>SystemLabelId</code>, removing an unnecessary level of indirection.</ul><li>If you <em>need</em> a label that is determined at runtime, you can use <code>Box::leak</code>. Not recommended.</ul><h3 id=move-get-short-name-utility-method-from-bevy-reflect-into-bevy-utils><a href=https://github.com/bevyengine/bevy/pull/5174>Move get_short_name utility method from bevy_reflect into bevy_utils</a> <a class=anchor-link href=#move-get-short-name-utility-method-from-bevy-reflect-into-bevy-utils>#</a></h3><ul><li>added bevy_utils::get_short_name, which strips the path from a type name for convenient display.<li>removed the TypeRegistry::get_short_name method. Use the function in bevy_utils instead.</ul><h3 id=remove-dead-systemlabelmarker-struct><a href=https://github.com/bevyengine/bevy/pull/5190>Remove dead SystemLabelMarker struct</a> <a class=anchor-link href=#remove-dead-systemlabelmarker-struct>#</a></h3><p>This struct had no internal use, docs, or intuitable external use.<p>It has been removed.<h3 id=add-reflection-for-resources><a href=https://github.com/bevyengine/bevy/pull/5175>Add reflection for resources</a> <a class=anchor-link href=#add-reflection-for-resources>#</a></h3><p>Rename <code>ReflectComponent::add_component</code> into <code>ReflectComponent::insert_component</code>.<h3 id=make-reflect-partial-eq-return-more-accurate-results><a href=https://github.com/bevyengine/bevy/pull/5210>Make reflect_partial_eq return more accurate results</a> <a class=anchor-link href=#make-reflect-partial-eq-return-more-accurate-results>#</a></h3><p>Previously, all <code>reflect_***_partial_eq</code> helper methods returned <code>Some(false)</code> when the comparison could not be performed, which was misleading. They now return <code>None</code> when the comparison cannot be performed.<h3 id=make-renderstage-extract-run-on-the-render-world><a href=https://github.com/bevyengine/bevy/pull/4402>Make RenderStage::Extract run on the render world</a> <a class=anchor-link href=#make-renderstage-extract-run-on-the-render-world>#</a></h3><p>The <code>Extract</code> <code>RenderStage</code> now runs on the render world (instead of the main world as before). You must use the <code>Extract</code> <code>SystemParam</code> to access the main world during the extract phase. <code>Extract</code> takes a single type parameter, which is any system parameter (such as <code>Res</code>, <code>Query</code> etc.). It will extract this from the main world. Note that <code>Commands</code> will not work correctly in <code>Extract</code> - it will currently silently do nothing.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.7
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">extract_clouds</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands, <span class="z-variable z-parameter z-rust">clouds</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Cloud<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> cloud <span class="z-keyword z-operator z-rust">in</span> clouds<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_or_spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>cloud</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Cloud</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.8
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">extract_clouds</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands, <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">clouds</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Extract<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Cloud<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> cloud <span class="z-keyword z-operator z-rust">in</span> clouds<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_or_spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>cloud</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Cloud</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>You can now also access resources from the render world using the normal system parameters during <code>Extract</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">extract_assets</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">render_assets</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyAssets<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-variable z-parameter z-rust">source_assets</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Extract<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyAssets<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">     <span class="z-keyword z-operator z-arithmetic z-rust">*</span>render_assets <span class="z-keyword z-operator z-assignment z-rust">=</span> source_assets<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clone</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Because extraction now runs in the render world, usage of <code>Res&LTRenderWorld></code> in the main world, should be replaced with usage of <code>Res&LTMainWorld></code> in the render world.<p>Please note that all existing extract systems need to be updated to match this new style; even if they currently compile they will not run as expected. A warning will be emitted on a best-effort basis if this is not met.<h3 id=improve-gamepad-dpad-button-detection><a href=https://github.com/bevyengine/bevy/pull/5220>Improve Gamepad DPad Button Detection</a> <a class=anchor-link href=#improve-gamepad-dpad-button-detection>#</a></h3><p>D-pad inputs can no longer be accessed as axes. Access them as gamepad buttons instead.<h3 id=change-window-position-types-from-tuple-to-vec><a href=https://github.com/bevyengine/bevy/pull/5276>Change window position types from tuple to vec</a> <a class=anchor-link href=#change-window-position-types-from-tuple-to-vec>#</a></h3><p>Changed the following fields<ul><li><code>WindowCommand::SetWindowMode.resolution</code> from <code>(u32, u32)</code> to <code>UVec2</code><li><code>WindowCommand::SetResolution.logical_resolution</code> from <code>(f32, f32)</code> to <code>Vec2</code></ul><h3 id=full-documentation-for-bevy-asset><a href=https://github.com/bevyengine/bevy/pull/3536>Full documentation for bevy_asset</a> <a class=anchor-link href=#full-documentation-for-bevy-asset>#</a></h3><p>Rename <code>FileAssetIo::get_root_path</code> to <code>FileAssetIo::get_base_path</code><p><code>FileAssetIo::root_path()</code> is a getter for the <code>root_path</code> field, while <code>FileAssetIo::get_root_path</code> returned the parent directory of the asset root path, which was the executable's directory unless <code>CARGO_MANIFEST_DIR</code> was set. This change solves the ambiguity between the two methods.<h3 id=hierarchy-commandization><a href=https://github.com/bevyengine/bevy/pull/4197>Hierarchy commandization</a> <a class=anchor-link href=#hierarchy-commandization>#</a></h3><p>The <code>Parent</code> and <code>Children</code> component fields are now private.<ul><li>Replace <code>parent.0</code> by <code>parent.get()</code><li>Replace <code>children.0</code> with <code>*children</code><li>You can't construct <code>Children</code> or <code>Parent</code> component anymore, you can use this as a stopgap measure, which may introduce a single frame delay</ul><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MakeChildOf</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>pub Entity</span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">add_parent</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">orphans</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-keyword z-operator z-rust">&</span>MakeChildOf<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>child<span class="z-punctuation z-separator z-rust">,</span> MakeChildOf<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>parent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>orphans <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">*</span>parent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">remove<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MakeChildOf<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=remove-blanket-serialize-deserialize-requirement-for-reflect-on-generic-types><a href=https://github.com/bevyengine/bevy/pull/5197>Remove blanket Serialize + Deserialize requirement for Reflect on generic types</a> <a class=anchor-link href=#remove-blanket-serialize-deserialize-requirement-for-reflect-on-generic-types>#</a></h3><p><code>.register_type</code> for generic types like <code>Option&LTT></code>, <code>Vec&LTT></code>, <code>HashMap&LTK, V></code> will no longer insert <code>ReflectSerialize</code> and <code>ReflectDeserialize</code> type data. Instead you need to register it separately for concrete generic types like so:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type_data<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, ReflectSerialize<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type_data<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, ReflectDeserialize<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><h3 id=lighter-no-default-features><a href=https://github.com/bevyengine/bevy/pull/5447>Lighter no default features</a> <a class=anchor-link href=#lighter-no-default-features>#</a></h3><p><code>bevy_asset</code> and <code>bevy_scene</code> are no longer enabled when <code>no-default-features</code> is used with the <code>bevy</code> dependency.<ul><li>Crates that use Bevy with <code>no-default-features</code> will need to add these features manually if they rely on them.</ul><pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">bevy</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">version</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>0.8<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">default-features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-constant z-language z-toml">false</span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span>
</span><span class="z-source z-toml">    <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>bevy_asset<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>bevy_scene<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-array z-end z-toml">]</span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span>
</span></code></pre><h3 id=improve-ergonomics-and-reduce-boilerplate-around-creating-text-elements><a href=https://github.com/bevyengine/bevy/pull/5343>Improve ergonomics and reduce boilerplate around creating text elements</a> <a class=anchor-link href=#improve-ergonomics-and-reduce-boilerplate-around-creating-text-elements>#</a></h3><p><code>Text::with_section</code> was renamed to <code>Text::from_section</code> and no longer takes a <code>TextAlignment</code> as argument. Use <code>with_alignment</code> to set the alignment instead.<h3 id=add-querystate-get-single-unchecked-manual-and-its-family><a href=https://github.com/bevyengine/bevy/pull/4841>Add QueryState::get_single_unchecked_manual and its family</a> <a class=anchor-link href=#add-querystate-get-single-unchecked-manual-and-its-family>#</a></h3><p>Change <code>system::QuerySingleError</code> to <code>query::QuerySingleError</code><h3 id=tracing-tracy-updated-from-0-8-0-to-0-10-0><a href=https://github.com/bevyengine/bevy/pull/4991>tracing-tracy updated from 0.8.0 to 0.10.0</a> <a class=anchor-link href=#tracing-tracy-updated-from-0-8-0-to-0-10-0>#</a></h3><p>The required tracy version when using the <a href=https://github.com/bevyengine/bevy/blob/main/docs/profiling.md#backend-trace_tracy>trace-tracy</a> feature is now <a href=https://github.com/wolfpld/tracy/releases/tag/v0.8.1>0.8.1</a>.</div><div class="docs-footer print:hidden"><nav class=docs-footer__nav><a class="docs-footer__link docs-footer__link--next" data-docs-nav-next href=/learn/migration-guides/0-6-to-0-7/> <div class=docs-footer__label><div class=docs-footer__dir>Next</div> 0.6 to 0.7</div> <i class="docs-footer__chevron icon icon--chevron-right"></i> </a><a class="docs-footer__link docs-footer__link--prev" data-docs-nav-previous href=/learn/migration-guides/0-8-to-0-9/> <div class=docs-footer__label><div class=docs-footer__dir>Previous</div> 0.8 to 0.9</div> <i class="docs-footer__chevron icon icon--chevron-left"></i> </a></nav><div class=docs-footer__edit-wrapper><a class=docs-footer__edit href=https://github.com/bevyengine/bevy-website/edit/main/content/learn/migration-guides/0.7-to-0.8.md> <i class="icon icon--pencil"></i> Improve this page </a><a href="https://github.com/bevyengine/bevy-website/issues/new?template=docs.md&title=Issue%20on%20page%200.7%20to%200.8" class=docs-footer__edit> <i class="icon icon--github"></i> Report issue </a></div></div></div></div></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>