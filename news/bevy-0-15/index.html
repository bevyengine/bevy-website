<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Bevy 0.15" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//news/bevy-0-15/ property=og:url><meta content=https://bevy.org/news/bevy-0-15/cover.png property=og:image><meta content="Thanks to 294 contributors, 1217 pull requests, community reviewers, and our generous donors, we're happy to announce the Bevy 0.15 release on crates.â€¦" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>Bevy 0.15</title><script defer src=/highlight-intrapage-link.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>News</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">Post</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu data-highlight-intrapage-link><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#required-components>Required Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#chromatic-aberration>Chromatic Aberration</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#visibility-bitmask-ambient-occlusion-vbao>Visibility Bitmask Ambient Occlusion (VBAO)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#volumetric-fog-support-for-point-lights-and-spotlights>Volumetric Fog Support for Point Lights and Spotlights</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#fog-volumes>Fog Volumes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#order-independent-transparency>Order Independent Transparency</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#user-friendly-cpu-drawing>User-Friendly CPU Drawing</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#entity-picking-selection>Entity Picking / Selection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#bubbling-observers>Bubbling Observers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#virtual-geometry-improvements>Virtual Geometry Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#animation-masks>Animation Masks</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#generalized-animation>Generalized Animation</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#animation-graph-additive-blending>Animation Graph: Additive Blending</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#animation-events>Animation Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#bevy-remote-protocol-brp>Bevy Remote Protocol (BRP)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#gamepads-as-entities>Gamepads as Entities</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#box-shadows>Box Shadows</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#cosmic-text>Cosmic Text</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#ui-scrolling>UI Scrolling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#retained-rendering-world>Retained Rendering World</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#curves>Curves</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#common-easing-functions>Common Easing Functions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#cyclic-splines>Cyclic Splines</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#partialreflect>PartialReflect</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#reflect-remote-types>Reflect Remote Types</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#the-reflectable-trait>The Reflectable Trait</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#function-reflection>Function Reflection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#typeinfo-improvements>TypeInfo Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#the-type-type>The Type Type</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#reflection-support-for-sets>Reflection support for Sets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#change-detection-source-location-tracking>Change Detection Source Location Tracking</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#optimized-iteration-of-mixed-sparse-set-and-table-components>Optimized Iteration of Mixed Sparse Set and Table Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#expose-winit-s-monitorhandle>Expose winit's MonitorHandle</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#custom-cursors>Custom Cursors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#uniform-mesh-sampling>Uniform Mesh Sampling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#eventmutator>EventMutator</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#isometry-types>Isometry Types</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#lifecycle-hook-observer-trigger-for-replaced-values>Lifecycle Hook & Observer Trigger for Replaced Values</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#pack-multiple-vertex-and-index-arrays-together-into-growable-buffers>Pack multiple vertex and index arrays together into growable buffers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#rewrite-screenshots>Rewrite screenshots</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#systemparambuilder>SystemParamBuilder</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#state-scoped-events>State Scoped Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#entityrefexcept-and-entitymutexcept>EntityRefExcept and EntityMutExcept</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#cached-one-shot-systems>Cached One-shot Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#fallible-system-parameters>Fallible System Parameters</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#passing-data-into-systems-by-reference>Passing Data Into Systems By Reference</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#list-components-in-queryentityerror-querydoesnotmatch>List Components in QueryEntityError::QueryDoesNotMatch</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#no-std-progress>no_std Progress</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#gltfmaterialname-component>GltfMaterialName Component</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#gpu-readback>GPU Readback</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#android-configurable-gameactivity-and-nativeactivity>Android: Configurable GameActivity and NativeActivity</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#reflection-serialization-improvements>Reflection Serialization Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#simplified-multi-entity-access>Simplified Multi-Entity Access</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#hierarchy-traversal-tools>Hierarchy Traversal Tools</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#shader-storage-buffer-asset>Shader Storage Buffer Asset</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#accumulated-mouse-inputs>Accumulated Mouse Inputs</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#stable-interpolation-and-smooth-following>Stable Interpolation and Smooth Following</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#what-s-next>What's Next?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#support-bevy>Support Bevy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#contributors>Contributors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#full-changelog>Full Changelog</a></div></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class=main-menu__link href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><div class="page-with-menu page-with-menu--news"><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu data-highlight-intrapage-link><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#required-components>Required Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#chromatic-aberration>Chromatic Aberration</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#visibility-bitmask-ambient-occlusion-vbao>Visibility Bitmask Ambient Occlusion (VBAO)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#volumetric-fog-support-for-point-lights-and-spotlights>Volumetric Fog Support for Point Lights and Spotlights</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#fog-volumes>Fog Volumes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#order-independent-transparency>Order Independent Transparency</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#user-friendly-cpu-drawing>User-Friendly CPU Drawing</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#entity-picking-selection>Entity Picking / Selection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#bubbling-observers>Bubbling Observers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#virtual-geometry-improvements>Virtual Geometry Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#animation-masks>Animation Masks</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#generalized-animation>Generalized Animation</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#animation-graph-additive-blending>Animation Graph: Additive Blending</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#animation-events>Animation Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#bevy-remote-protocol-brp>Bevy Remote Protocol (BRP)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#gamepads-as-entities>Gamepads as Entities</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#box-shadows>Box Shadows</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#cosmic-text>Cosmic Text</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#ui-scrolling>UI Scrolling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#retained-rendering-world>Retained Rendering World</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#curves>Curves</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#common-easing-functions>Common Easing Functions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#cyclic-splines>Cyclic Splines</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#partialreflect>PartialReflect</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#reflect-remote-types>Reflect Remote Types</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#the-reflectable-trait>The Reflectable Trait</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#function-reflection>Function Reflection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#typeinfo-improvements>TypeInfo Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#the-type-type>The Type Type</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#reflection-support-for-sets>Reflection support for Sets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#change-detection-source-location-tracking>Change Detection Source Location Tracking</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#optimized-iteration-of-mixed-sparse-set-and-table-components>Optimized Iteration of Mixed Sparse Set and Table Components</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#expose-winit-s-monitorhandle>Expose winit's MonitorHandle</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#custom-cursors>Custom Cursors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#uniform-mesh-sampling>Uniform Mesh Sampling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#eventmutator>EventMutator</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#isometry-types>Isometry Types</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#lifecycle-hook-observer-trigger-for-replaced-values>Lifecycle Hook & Observer Trigger for Replaced Values</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#pack-multiple-vertex-and-index-arrays-together-into-growable-buffers>Pack multiple vertex and index arrays together into growable buffers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#rewrite-screenshots>Rewrite screenshots</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#systemparambuilder>SystemParamBuilder</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#state-scoped-events>State Scoped Events</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#entityrefexcept-and-entitymutexcept>EntityRefExcept and EntityMutExcept</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#cached-one-shot-systems>Cached One-shot Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#fallible-system-parameters>Fallible System Parameters</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#passing-data-into-systems-by-reference>Passing Data Into Systems By Reference</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#list-components-in-queryentityerror-querydoesnotmatch>List Components in QueryEntityError::QueryDoesNotMatch</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#no-std-progress>no_std Progress</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#gltfmaterialname-component>GltfMaterialName Component</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#gpu-readback>GPU Readback</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#android-configurable-gameactivity-and-nativeactivity>Android: Configurable GameActivity and NativeActivity</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#reflection-serialization-improvements>Reflection Serialization Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#simplified-multi-entity-access>Simplified Multi-Entity Access</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#hierarchy-traversal-tools>Hierarchy Traversal Tools</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#shader-storage-buffer-asset>Shader Storage Buffer Asset</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#accumulated-mouse-inputs>Accumulated Mouse Inputs</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#stable-interpolation-and-smooth-following>Stable Interpolation and Smooth Following</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#what-s-next>What's Next?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#support-bevy>Support Bevy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#contributors>Contributors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-15/#full-changelog>Full Changelog</a></div></ul></div></div><div class=page-with-menu__content><h1 class=news-title>Bevy 0.15</h1><h2 class=news-subtitle>Posted on November 29, 2024 by Bevy Contributors</h2><div class="media-content news-content news-content__hero-image"><img alt="A snake statue in volumetric fog illuminated by volumetric lighting" style="aspect-ratio:auto 16/9" src=cover.png><div class=news-image-subtitle><a href=https://sketchfab.com/3d-models/snake-statue-794b77a3e4654a669cf259d20dc89ec7>A snake statue in volumetric fog illuminated by volumetric lighting</a></div></div><div class="media-content news-content"><p>Thanks to <strong>294</strong> contributors, <strong>1217</strong> pull requests, community reviewers, and our <a href=/donate><strong>generous donors</strong></a>, we're happy to announce the <strong>Bevy 0.15</strong> release on <a href=https://crates.io/crates/bevy>crates.io</a>!<p>For those who don't know, Bevy is a refreshingly simple data-driven game engine built in Rust. You can check out our <a href=/learn/quick-start>Quick Start Guide</a> to try it today. It's free and open source forever! You can grab the full <a href=https://github.com/bevyengine/bevy>source code</a> on GitHub. Check out <a href=https://bevy.org/assets>Bevy Assets</a> for a collection of community-developed plugins, games, and learning resources.<p>To update an existing Bevy App or Plugin to <strong>Bevy 0.15</strong>, check out our <a href=/learn/migration-guides/0-14-to-0-15/>0.14 to 0.15 Migration Guide</a>.<p>Since our last release a few months ago we've added a <em>ton</em> of new features, bug fixes, and quality of life tweaks, but here are some of the highlights:<ul><li><strong>Required Components</strong>: A rethink of how spawning entities works that significantly improves the Bevy user experience<li><strong>Entity Picking / Selection</strong>: A modular system for selecting entities across contexts<li><strong>Animation Improvements</strong>: generalized entity animation, animation masks, additive blending, and animation events<li><strong>Curves</strong>: a new <code>Curve</code> trait, cyclic splines, common easing functions, color gradient curves<li><strong>Reflection Improvements</strong>: Function reflection, unique reflect, remote type reflection<li><strong>Bevy Remote Protocol (BRP)</strong>: A new protocol that allows external clients (such as editors) to interact with running Bevy games<li><strong>Visibility Bitmask Ambient Occlusion (VBAO)</strong>: An improved GTAO algorithm that improves ambient occlusion quality<li><strong>Chromatic Aberration</strong>: A new post processing effect that simulates lenses that fail to focus light to a single point<li><strong>Volumetric Fog Improvements</strong>: "Fog volumes" that define where volumetric fog is rendered (and what form it takes), along with Point Lights and Spotlight compatibility<li><strong>Order Independent Transparency</strong>: A new opt-in transparency algorithm that improves the stability / quality of transparent objects as their distance from the camera changes<li><strong>Improved Text Rendering</strong>: We've switched to Cosmic Text for our text rendering, which significantly improves our ability to render text, especially for non-Latin-based languages that require font shaping and bidirectional text<li><strong>Gamepads as Entities</strong>: Gamepads are now represented as entities, making them much easier to interact with<li><strong>UI Box Shadows</strong>: Bevy UI nodes can now render configurable box shadows</ul><p>Bevy 0.15 was prepared using our new <strong>release candidate</strong> process to help ensure that you can upgrade right away with peace of mind. We worked closely with both plugin authors and ordinary users to catch critical bugs, polish new features, and refine the migration guide. For each release candidate, we prepared fixes, <a href="https://crates.io/crates/bevy/versions?sort=date">shipped a new release candidate on crates.io</a>, let core ecosystem crates update, and listened closely for show-stopping problems. A huge thanks to <a href=https://discord.com/channels/691052431525675048/1295069829740499015>everyone who helped out</a>! These efforts are a vital step towards making Bevy something that teams large and small can trust to work reliably.</p><span id=continue-reading></span><h2 id=required-components>Required Components <a class=anchor-link href=#required-components>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/cart>@cart</a>, <a class=heading-meta__item href=https://github.com/Jondolf>@Jondolf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14791>#14791</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15458>#15458</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15269>#15269</a></div></div><p><img alt="Graph image of sprite component requiring transform component" src=required_component.svg><p>First: buckle up because <strong>Required Components</strong> is one of the most profound improvements to the Bevy API surface since Bevy was first released.<p>Since Bevy's creation, <code>Bundle</code> has been our abstraction for spawning an entity of a given "type". A <code>Bundle</code> is just a Rust type, where each field is a <code>Component</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Bundle</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">PlayerBundle</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">player</span><span class="z-punctuation z-separator z-type z-rust">:</span> Player,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">team</span><span class="z-punctuation z-separator z-type z-rust">:</span> Team,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">sprite</span><span class="z-punctuation z-separator z-type z-rust">:</span> Sprite,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">transform</span><span class="z-punctuation z-separator z-type z-rust">:</span> Transform,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">global_transform</span><span class="z-punctuation z-separator z-type z-rust">:</span> GlobalTransform,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">visibility</span><span class="z-punctuation z-separator z-type z-rust">:</span> Visibility,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">inherited_visibility</span><span class="z-punctuation z-separator z-type z-rust">:</span> InheritedVisibility,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">view_visibility</span><span class="z-punctuation z-separator z-type z-rust">:</span> ViewVisibility,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Then whenever a new player needs to be spawned, developers would initialize and insert a <code>PlayerBundle</code> on an entity:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>PlayerBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    player<span class="z-punctuation z-separator z-rust">:</span> Player <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> 
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        name<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    team<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Team<span class="z-punctuation z-accessor z-rust">::</span></span>Blue<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This inserts all of the components in <code>PlayerBundle</code>, including the ones not explicitly being set. The <code>Bundle</code> concept is functional (it has gotten us this far), but it is also far from ideal:<ol><li>It is an entirely new set of APIs that developers need to learn. Someone that wants to spawn a <code>Player</code> entity needs to know that <code>PlayerBundle</code> exists.<li>Bundle APIs don't exist at runtime after insertion ... they are an additional spawn-only concept that developers need to think about. You don't write <code>PlayerBundle</code> behaviors. You write <code>Player</code> behaviors.<li>The <code>Player</code> component <em>needs</em> the components in <code>PlayerBundle</code> to function as a <code>Player</code>. Spawning <code>Player</code> on its own is possible, and it likely (depending on the implementation) wouldn't function as intended.<li>Bundles are always "flat" (by convention). The person defining the <code>Player</code> component needs to define <em>all of the component dependencies</em>. <code>Sprite</code> needs <code>Transform</code> and <code>Visibility</code>, <code>Transform</code> needs <code>GlobalTransform</code>, <code>Visibility</code> needs <code>InheritedVisibility</code> and <code>ViewVisibility</code>. This lack of "dependency inheritance" makes defining bundles much harder and error prone than it needs to be. It requires consumers of APIs to be intimately aware of what amounts to implementation details. And when these details change, <em>the developer of the <code>Bundle</code> needs to be aware and update the <code>Bundle</code> accordingly</em>. Nested bundles are supported, but they are a <em>pain</em> for users to work with and we have disallowed them in upstream Bevy bundles for a while now.<li><code>PlayerBundle</code> is effectively defined by the needs of the <code>Player</code> component, but when spawning it is possible to <em>never mention the <code>Player</code> symbol</em>. Ex: <code>commands.spawn(PlayerBundle::default())</code>. This is odd given that <code>Player</code> is the "driving concept".<li>Bundles introduce significant "stutter" to the API. Notice the <code>player: Player</code> and <code>team: Team</code> in the example above.<li>Bundles introduce additional (arguably excessive) nesting and <code>..default()</code> usage.</ol><p>Every one of these points has a sizable impact on what it feels like to use Bevy on a day-to-day basis. In <strong>Bevy 0.15</strong> we've landed <strong>Required Components</strong>, which solves these problems by fundamentally rethinking how this all works.<p><strong>Required Components</strong> are the first step in our <a href=https://github.com/bevyengine/bevy/discussions/14437>Next Generation Scene / UI</a> effort, which aims to make Bevy a best-in-class app / scene / UI development framework. <strong>Required Components</strong> stand on their own as a direct improvement to Bevy developers' lives, but they also help set the stage for making Bevy's upcoming next generation scene system (and the upcoming Bevy Editor) something truly special.<h3 id=what-are-they>What are they?</h3><p><strong>Required Components</strong> enable developers to define which components a given component needs:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component<span class="z-punctuation z-separator z-rust">,</span> Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">require</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Team<span class="z-punctuation z-separator z-rust">,</span> Sprite</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Player</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">name</span><span class="z-punctuation z-separator z-type z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>When the <code>Player</code> component is inserted, its <strong>Required Components</strong> <em>and the components required by those components</em> are automatically inserted as well!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Player<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>The code above automatically inserts <code>Team</code> and <code>Sprite</code>. <code>Sprite</code> requires <code>Transform</code> and <code>Visibility</code>, so those are automatically inserted as well. Likewise <code>Transform</code> requires <code>GlobalTransform</code> and <code>Visibility</code> requires <code>InheritedVisibility</code> and <code>ViewVisibility</code>.<p>This code produces the same result as the <code>PlayerBundle</code> code in the previous section:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    Player <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        name<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Team<span class="z-punctuation z-accessor z-rust">::</span></span>Blue<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>Much better right? The <code>Player</code> type is easier and less error prone to define, and spawning it takes less typing and is easier to read.<h3 id=efficiency>Efficiency</h3><p>We've implemented <strong>Required Components</strong> in a way that makes them effectively "free":<ol><li>Required Components are only initialized and inserted if the caller did not insert them manually. No redundancy!<li>Required Components are inserted alongside the normal components, meaning (for you ECS nerds out there) there are no additional archetype changes or table moves. From this perspective, the Required Components version of the <code>Player</code> example is identical to the <code>PlayerBundle</code> approach, which manually defines all of the components up front.<li>Required Components are cached on the archetype graph, meaning computing what required components are necessary for a given type of insert only happens once.</ol><h3 id=component-initialization>Component Initialization</h3><p>By default, <strong>Required Components</strong> will use the <code>Default</code> impl for the component (and fail to compile if one does not exist):<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">require</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Team</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Team::Red is the default value
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Player</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">name</span><span class="z-punctuation z-separator z-type z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component<span class="z-punctuation z-separator z-rust">,</span> Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-storage z-type z-enum z-rust">enum</span> <span class="z-entity z-name z-enum z-rust">Team</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">default</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    Red<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    Blue<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>This can be overridden by passing in a function that returns the component:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">require</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function-call z-rust"><span class="z-variable z-function z-rust">Team</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-function-call z-rust">blue_team</span><span class="z-meta z-function-call z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Player</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">name</span><span class="z-punctuation z-separator z-type z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">blue_team</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> Team</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">Team<span class="z-punctuation z-accessor z-rust">::</span></span>Blue
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>To save space, you can also pass a closure to the require directly:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">require</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function-call z-rust"><span class="z-variable z-function z-rust">Team</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-function-call z-rust">|| Team::Blue</span><span class="z-meta z-function-call z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Player</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">name</span><span class="z-punctuation z-separator z-type z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h3 id=isn-t-this-a-bit-like-inheritance>Isn't this a bit like inheritance?</h3><p><strong>Required Components</strong> <em>can</em> be considered a form of inheritance. But it is notably <em>not</em> traditional object-oriented inheritance. Instead it is "inheritance by composition". A <code>Button</code> widget can (and should) require <code>Node</code> to make it a "UI node". In a way, a <code>Button</code> "is a" <code>Node</code> like it would be in traditional inheritance. But unlike traditional inheritance:<ol><li>It is expressed as a "has a" relationship, not an "is a" relationship.<li><code>Button</code> and <code>Node</code> are still two entirely separate types (with their own data), which you query for separately in the ECS.<li>A <code>Button</code> can require more components in <em>addition</em> to <code>Node</code>. You aren't limited to "straight line" standard object-oriented inheritance. Composition is still the dominating pattern.<li>You don't <em>need</em> to require components to add them. You can still tack on whatever additional components you want during spawn to add behaviors in the normal "composition style".</ol><h3 id=what-is-happening-to-bundles>What is happening to Bundles?</h3><p>The <code>Bundle</code> trait will continue to exist, and it is still the fundamental building block for insert APIs (tuples of components still implement <code>Bundle</code>). Developers are still free to define their own custom bundles using the <code>Bundle</code> derive. Bundles play nicely with <strong>Required Components</strong>, so you can use them with each other.<p>That being said, as of Bevy <strong>0.15</strong> we have deprecated all built-in bundles like <code>SpriteBundle</code>, <code>NodeBundle</code>, <code>PbrBundle</code>, etc. in favor of <strong>Required Components</strong>. In general, <strong>Required Components</strong> are now the preferred / idiomatic approach. We encourage Bevy plugin and app developers to port their bundles over to <strong>Required Components</strong>.<h3 id=porting-bevy-to-required-components>Porting Bevy to Required Components</h3><p>As mentioned above, <em>all</em> built-in Bevy bundles have been deprecated in favor of <strong>Required Components</strong>. We've also made API changes to take advantage of this new paradigm. This does mean breakage in a few places, but the changes are so nice that we think people won't complain too much :)<p>In general, we are moving in the direction specified by our <a href=https://github.com/bevyengine/bevy/discussions/14437>Next Generation Scene / UI</a> document. Some general design guidelines:<ol><li>When spawning an entity, generally there should be a "driving concept" component. When implementing a new entity type / behavior, give it a concept name ... that is the name of your "driving component" (ex: the "player" concept is a <code>Player</code> component). That component should require any additional components necessary to perform its functionality.<li>People should think directly in terms of components and their fields when spawning. Prefer using component fields directly on the "concept component" as the "public API" for the feature.<li>Prefer simple APIs / don't over-componentize. By default, if you need to attach new properties to a concept, just add them as fields to that concept's component. Only break out new components / concepts when you have a good reason, and that reason is motivated by user experience or performance (and weight user experience highly). If a given "concept" (ex: a <code>Sprite</code>) is broken up into 10 components, that is <em>very</em> hard for users to reason about and work with.<li>Instead of using Asset handles directly as components, define new components that hold the necessary handles. Raw asset handles as components were problematic for a variety of reasons (a big one is that you can't define context-specific <strong>Required Components</strong> for them), so we have removed the <code>Component</code> implementation for <code>Handle&LTT></code> to encourage (well ... force) people to adopt this pattern.</ol><h4 id=ui>UI</h4><p>Bevy UI has benefitted tremendously from <strong>Required Components</strong>. UI nodes require a variety of components to function, and now all of those requirements are consolidated on <code>Node</code>. Defining a new UI node type is now as simple as adding <code>#[require(Node)]</code> to your component.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">require</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Node</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyNode</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyNode</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>The <code>Style</code> component fields have been moved into <code>Node</code>. <code>Style</code> was never a comprehensive "style sheet", but rather just a collection of properties shared by all UI nodes. A "true" ECS style system would style properties <em>across</em> components (<code>Node</code>, <code>Button</code>, etc), and we <a href=https://github.com/bevyengine/bevy/discussions/14437>do have plans to build a true style system</a>. All "computed" node properties (such as the size of the node after it has been laid out) have been moved to the <code>ComputedNode</code> component.<p>This change has made spawning UI nodes in Bevy <em>much</em> cleaner and clearer:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Node <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    width<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">100.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Compare that to what it was before!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>NodeBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    style<span class="z-punctuation z-separator z-rust">:</span> Style <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        width<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">100.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>UI components like <code>Button</code>, <code>ImageNode</code> (previously <code>UiImage</code>), and <code>Text</code> now require <code>Node</code>. Notably, <code>Text</code> has been reworked to be easier to use and more component driven (we'll cover this more in the next section):<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Text<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Hello there!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><code>MaterialNode&LTM: UiMaterial></code> is now a proper component for "UI material shaders", and it also requires <code>Node</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MaterialNode<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_material</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=text>Text</h4><p>Bevy's Text API has been reworked to be simpler and more component driven. There are still two primary text components: <code>Text</code> (the UI text component) and <code>Text2d</code> (the world-space 2D text component).<p>The first thing that has changed is that these primary components are literally <em>just</em> a <code>String</code> newtype:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Text<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_string</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Text<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Text2d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_string</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Text2d<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>Spawn one of these components, and you have text! Both of these components now require the following components:<ul><li><code>TextFont</code>: configures the font / size<li><code>TextColor</code>: configures the color<li><code>TextLayout</code>: configures how the text is laid out.</ul><p><code>Text</code>, which is the UI component, also requires <code>Node</code> because it <em>is</em> a node. Similarly, <code>Text2d</code> requires a <code>Transform</code> because it is positioned in world space.<p>Both <code>Text</code> and <code>Text2d</code> are a standalone "block" of text. These top level text components also contribute a single "span" of text, which is added to the "block". If you need "rich text" with multiple colors / fonts / sizes, you can add <code>TextSpan</code> entities as children of either <code>Text</code> or <code>Text2d</code>. <code>TextSpans</code> use the same <code>TextFont</code> / <code>TextLayout</code> components to configure text. Each <code>TextSpan</code> will contribute its span to its parent text:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The `Text` UI node will render "hello world!", where "hello" is red and "world!" is blue
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Text<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextSpan<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextColor<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">RED</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextSpan<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span> world!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextColor<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">BLUE</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This produces the exact same output, but uses the "default" span on the top-level <code>Text</code> component:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Text<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">TextColor<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">RED</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust"><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">TextSpan<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span> world!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">TextColor<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">BLUE</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This "entity driven" approach to text spans replaces the "internal span array" approach used in previous Bevy versions. This yields significant benefits. First, it lets you use the normal Bevy ECS tools, such as marker components and queries, to mark a text span and access it directly. This is much easier (and more resilient) than using indices in an array, which are hard to guess and unstable as the array contents change:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">NameText</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Text<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Name: <span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_child</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextSpan<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Unknown<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        NameText<span class="z-punctuation z-separator z-rust">,</span> 
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">set_name</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">names</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> TextSpan, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>NameText<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    names<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">single_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>George<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_string</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Text spans as entities play nicer with Bevy Scenes (including the upcoming <a href=https://github.com/bevyengine/bevy/discussions/14437>Next Generation Scene / UI</a> system), and allow it to integrate nicely with existing tools like entity inspectors, animation systems, timers, etc.<h4 id=sprites>Sprites</h4><p>Sprites are largely unchanged. In addition to the <strong>Required Components</strong> port (<code>Sprite</code> now requires <code>Transform</code> and <code>Visibility</code>), we've also done some component consolidation. The <code>TextureAtlas</code> component is now an optional <code>Sprite::texture_atlas</code> field. Likewise the <code>ImageScaleMode</code> component is now a <code>Sprite::image_mode</code> field. Spawning sprites is now super simple!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Sprite <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    image<span class="z-punctuation z-separator z-rust">:</span> assets<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>player.png<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=transforms>Transforms</h4><p><code>Transform</code> now requires <code>GlobalTransform</code>. If you want your entity to have "hierarchical transforms", require <code>Transform</code> (and it will add <code>GlobalTransform</code>). If you just want your entity to have a "flat" global transform, require <code>GlobalTransform</code>.<p>Most Bevy components that are intended to exist in world space now require <code>Transform</code>.<h4 id=visibility>Visibility</h4><p>The <code>Visibility</code> component now requires <code>InheritedVisibility</code> and <code>ViewVisibility</code>, meaning that you can now just require <code>Visibility</code> if you want your entity to be visible. Bevy's built-in "visible" components, such as <code>Sprite</code>, require <code>Visibility</code>.<h4 id=cameras>Cameras</h4><p>The <code>Camera2d</code> and <code>Camera3d</code> components now each require <code>Camera</code>. <code>Camera</code> requires the various camera components (<code>Frustum</code>, <code>Transform</code>, etc.). This means that you can spawn a 2D or 3D camera like this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera2d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><code>Camera2d</code> and <code>Camera3d</code> also require the components that set the relevant default render graphs and enable the default render features relevant to the 2D and 3D contexts (respectively).<p>You can of course explicitly set the values of the other components:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    Camera <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        hdr<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    Transform <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        translation<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Bevy has a number of components that enable "camera render features": <code>MotionBlur</code>, <code>TemporalAntiAliasing</code>, <code>ScreenSpaceAmbientOcclusion</code>, and <code>ScreenSpaceReflections</code>. Some of these camera features depend on <em>other</em> camera feature components to function. These dependencies are now expressed and enforced using <strong>Required Components</strong>. For example, <code>MotionBlur</code> now requires <code>DepthPrepass</code> and <code>MotionVectorPrepass</code>. This makes enabling camera features much easier!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    MotionBlur<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><h4 id=meshes>Meshes</h4><p>The old mesh approach relied on adding <code>Handle&LTMesh></code> and <code>Handle&LTM: Material></code> components directly (via <code>PbrBundle</code> and <code>MaterialMeshBundle</code>), neither of which were compatible with required components.<p>In <strong>Bevy 0.15</strong> you use <code>Mesh3d</code> and <code>MeshMaterial3d&LTM: Material></code> to render a mesh in 3D:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    Mesh3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    MeshMaterial3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>material</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><code>Mesh3d</code> requires <code>Transform</code> and <code>Visibility</code>.<p>There are also 2D equivalents:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    Mesh2d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    MeshMaterial2d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>material</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=meshlets>Meshlets</h4><p>Bevy's "virtual geometry" implementation (similar to Nanite), has also been ported. It uses the same pattern as <code>Mesh3d</code> and <code>Mesh2d</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    MeshletMesh3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    MeshMaterial3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>material</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=lights>Lights</h4><p>The light port involved no major changes to the component structure. All of the spatial light types (<code>PointLight</code>, <code>DirectionalLight</code>, <code>SpotLight</code>) now require <code>Transform</code> and <code>Visibility</code>, and each light component requires the relevant light-specific configuration components (ex: <code>PointLight</code> requires <code>CubemapFrusta</code> and <code>CubemapVisibleEntities</code>).<p>Spawning a light of a given type is now as simple as:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>PointLight <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    intensity<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1000.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>The <code>LightProbe</code> component now also requires <code>Transform</code> and <code>Visibility</code>.<h4 id=volumetric-fog>Volumetric Fog</h4><p>The <code>FogVolume</code> component now requires <code>Transform</code> and <code>Visibility</code>, meaning you can now add volumetric fog like this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>FogVolume <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    density_factor<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">2</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=scenes>Scenes</h4><p>Scenes previously used raw <code>Handle&LTScene></code> components, spawned via <code>SceneBundle</code>. <strong>Bevy 0.15</strong> introduces the <code>SceneRoot</code> component, which wraps the scene handle and requires <code>Transform</code> and <code>Visibility</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>SceneRoot<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>some_scene</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Likewise, there is now <code>DynamicSceneRoot</code>, which is exactly like <code>SceneRoot</code>, but it wraps <code>Handle&LTDynamicScene></code> instead of <code>Handle&LTScene></code>.<h4 id=audio>Audio</h4><p>Audio also used a raw <code>Handle&LTAudioSource></code> spawned via an <code>AudioBundle</code>. We've added a new <code>AudioPlayer</code> component, which will trigger audio playback when spawned:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">command<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>AudioPlayer<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>assets<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>music.mp3<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><code>AudioPlayer</code> requires the <code>PlaybackSettings</code> component.<p>Non-standard audio from arbitrary <code>Decodable</code> trait impls can use the <code>AudioSourcePlayer</code> component, which also requires <code>PlaybackSettings</code>.<h3 id=ide-integration>IDE Integration</h3><p><strong>Required Components</strong> play nicely with Rust Analyzer. You can "go to definition" / press <code>F12</code> on required components to navigate to where they are defined in code.<h3 id=runtime-required-components>Runtime Required Components</h3><p>In some cases, developers without direct control over a component might want to add <em>additional</em> <strong>Required Components</strong> on top of the ones provided directly on the type via <code>#[require(Thing)]</code>. This is supported!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Make `Bird` require `Wings` with a `Default` constructor.
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_required_components<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Bird, Wings<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Make `Wings` require `FlapSpeed` with a custom constructor.
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_required_components_with<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Wings, FlapSpeed<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-path z-rust">FlapSpeed<span class="z-punctuation z-accessor z-rust">::</span></span>from_duration<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span> <span class="z-keyword z-operator z-arithmetic z-rust">/</span> <span class="z-constant z-numeric z-float z-rust">80.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Note that only <em>adding</em> Required Components is allowed. Removing Required Components from a type you do not own is explicitly not supported, as that could invalidate assumptions made upstream.<p>In general, this is intended to be used in very specific, targeted contexts, such as a physics plugin adding additional metadata to a core type it does not control. Adding a new component requirement could change the performance characteristics of the app or break it in unexpected ways. When in doubt, don't do it!<h2 id=chromatic-aberration>Chromatic Aberration <a class=anchor-link href=#chromatic-aberration>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13695>#13695</a></div></div><p>We've added <a href=https://en.wikipedia.org/wiki/Chromatic_aberration>chromatic aberration</a>, which is a common postprocessing effect that simulates lenses that fail to focus all colors of light to a single point. It's often used for impact effects and/or horror games. Our implementation uses the technique from Inside (GjÃ¸l & Svendsen 2016), which allows the developer to customize the particular color pattern to achieve different effects.<p><img alt="chromatic aberration" src=chromatic_aberration.png><p>To use it, add the <a href=https://docs.rs/bevy/0.15/bevy/core_pipeline/post_process/struct.ChromaticAberration.html><code>ChromaticAberration</code></a> component to your camera:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> ChromaticAberration</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=visibility-bitmask-ambient-occlusion-vbao>Visibility Bitmask Ambient Occlusion (VBAO) <a class=anchor-link href=#visibility-bitmask-ambient-occlusion-vbao>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/dragostis>@dragostis</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13454>#13454</a></div></div><p><strong>Bevy 0.15</strong> introduces a new Screen Space Ambient Occlusion (SSAO) algorithm: <a href=https://arxiv.org/abs/2301.11376>Visibility Bitmask Ambient Occlusion</a> (VBAO). VBAO builds on GTAO by adding a bitmask that allows multiple "sectors" of a considered half circle to be occluded, instead of just one angle. This improves the accuracy of the technique and is particularly important on thin geometry (like the chair legs in the scene below):<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:2560/1440><div class=image-compare data-title-a=GTAO data-title-b=VBAO style=aspect-ratio:2560/1440><img alt=GTAO class=image-a src=gtao.jpg><img alt=VBAO class=image-b src=vbao.jpg></div></div><p>VBAO produces a significant enough quality improvement that we have replaced our old GTAO algorithm entirely. Just add the existing <a href=https://docs.rs/bevy/0.15/bevy/pbr/struct.ScreenSpaceAmbientOcclusion.html><code>ScreenSpaceAmbientOcclusion</code></a> component to your camera to enable it.<h2 id=volumetric-fog-support-for-point-lights-and-spotlights>Volumetric Fog Support for Point Lights and Spotlights <a class=anchor-link href=#volumetric-fog-support-for-point-lights-and-spotlights>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Soulghost>@Soulghost</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15361>#15361</a></div></div><p>Volumetric fog was <a href=https://bevy.org/news/bevy-0-14/#volumetric-fog-and-volumetric-lighting-light-shafts-god-rays>introduced in Bevy 0.14</a>. Initially, only directional lights could interact with it. In Bevy 0.15, point lights and spot lights work with it too:<p><img alt="volumetric fog" src=volumetric_fog.jpg><p>To add volumetric fog to your scene, add <a href=https://docs.rs/bevy/0.15/bevy/pbr/struct.VolumetricFog.html>VolumetricFog</a> to the camera, and add <a href=https://docs.rs/bevy/0.15/bevy/pbr/struct.VolumetricLight.html>VolumetricLight</a> to directional light, point light, or spot light that you wish to be volumetric.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Add VolumetricFog to the camera.
</span></span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">Camera3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        Camera <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            hdr<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>VolumetricFog <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This value is explicitly set to 0 since we have no environment map light.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        ambient_intensity<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Add VolumetricLight to point light.
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    PointLight <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        shadows_enabled<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        range<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">150.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        color<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-other z-rust">RED</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        intensity<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1000.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    VolumetricLight<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Transform<span class="z-punctuation z-accessor z-rust">::</span></span>from_xyz<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">4</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">9</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Add VolumetricLight to spot light.
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    SpotLight <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        intensity<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">5000.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> lumens
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        color<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">WHITE</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        shadows_enabled<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        inner_angle<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">76</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        outer_angle<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">94</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    VolumetricLight<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Transform<span class="z-punctuation z-accessor z-rust">::</span></span>from_xyz<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">8</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">9</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">7</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">looking_at</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>Y</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=fog-volumes>Fog Volumes <a class=anchor-link href=#fog-volumes>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a>, <a class=heading-meta__item href=https://github.com/jirisvd>@jirisvd</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14099>#14099</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14868>#14868</a></div></div><p><strong>Bevy 0.15</strong> adds the concept of "fog volumes". These are entities with the <a href=https://docs.rs/bevy/0.15.0/bevy/pbr/struct.FogVolume.html><code>FogVolume</code></a> component, which defines a bounding box for fog, which can be scaled and positioned to define where the fog will be rendered.<p>A camera with the <a href=https://docs.rs/bevy/0.15.0/bevy/pbr/struct.VolumetricFog.html><code>VolumetricFog</code></a> component will render any <a href=https://docs.rs/bevy/0.15.0/bevy/pbr/struct.FogVolume.html><code>FogVolume</code></a> entities in its view. Fog volumes can also define a density texture, which is a 3D texture of voxels that specify the density of the fog at each point:<p><img alt="fog volume" src=fog_volume.png><p><a href=https://docs.rs/bevy/0.15.0/bevy/pbr/struct.FogVolume.html><code>FogVolume</code></a> has a <code>density_texture_offset</code>, which allows the 3D texture to be "scrolled". This allows effects such as clouds "passing through" the volume:<p><video controls><source src=scrolling_fog.mp4 type=video/mp4></video><h2 id=order-independent-transparency>Order Independent Transparency <a class=anchor-link href=#order-independent-transparency>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/IceSentry>@IceSentry</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14876>#14876</a></div></div><p><video autoplay controls loop muted><source src=oit-demo.mp4 type=video/mp4></video><p>Before this feature, Bevy only used alpha blending to render transparent meshes. We now have the option to use Order Independent Transparency when rendering transparent meshes. Instead of only sorting the mesh, this will sort every pixel that contributes to a transparent triangle. This is useful if you have a lot of transparent layers in your scene.<p>The implementation is currently pretty simple and uses a lot of GPU memory, but it should always render perfectly accurate transparency as long as you have configured enough layers.<p>This feature is still a work in progress and we will keep working on improving it.<p>This feature was contributed to Bevy by Foresight Spatial Labs. It is based on an internal implementation they use in their applications.<h2 id=user-friendly-cpu-drawing>User-Friendly CPU Drawing <a class=anchor-link href=#user-friendly-cpu-drawing>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/inodentry>@inodentry</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/10392>#10392</a></div></div><p>There are many situations where you might want to just set the color of pixels from CPU code. Procedural assets, certain art styles, or simply because it is easier. No need to bother with shaders and materials, when you just want to change a few specific pixels!<p>In previous versions of Bevy, this was difficult and tedious. Bevy gives you access to the raw data bytes of an <a href=https://docs.rs/bevy/0.15/bevy/prelude/struct.Image.html><code>Image</code></a>, but you had to compute the byte offset corresponding to your desired pixel coordinate, make sure to encode your bytes with respect to the <a href=https://docs.rs/bevy/0.15/bevy/render/render_resource/enum.TextureFormat.html><code>TextureFormat</code></a>, etc. Very low level!<p>In Bevy 0.15, there are now user-friendly APIs for reading and writing the colors of pixels in an <a href=https://docs.rs/bevy/0.15/bevy/prelude/struct.Image.html><code>Image</code></a>. The tricky low-level details are dealt with for you! You can even use <code>bevy_color</code>'s fancy color space APIs!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">my_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">images</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Image<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create a new image.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> image <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Image<span class="z-punctuation z-accessor z-rust">::</span></span>new_fill<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 64x64 size
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        Extent3d <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            width<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">64</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            height<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">64</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            depth_or_array_layers<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">1</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextureDimension<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">D2</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-path z-rust">Srgba<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">WHITE</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_u8_array</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">TextureFormat<span class="z-punctuation z-accessor z-rust">::</span></span>Rgba8UnormSrgb<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">RenderAssetUsages<span class="z-punctuation z-accessor z-rust">::</span></span>all<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This is new:
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Make the pixel at x: 23, y: 32 magenta
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    image<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_color_at</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">23</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">32</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span>srgb<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">expect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Error writing color<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Set the pixel at 10,10 to a color specified using the Oklch color space:
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    image<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_color_at</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">10</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">10</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span>oklch<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">3</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">2</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">expect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Error writing color<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> read the bytes of the pixel we just wrote:
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> bytes <span class="z-keyword z-operator z-assignment z-rust">=</span> image<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">pixel_bytes</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">UVec3<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">10</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">10</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> read the (approximate) color back (as sRGB):
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> color <span class="z-keyword z-operator z-assignment z-rust">=</span> image<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_color_at</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">10</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">10</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We could add our new image to Bevy's assets
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> and spawn a sprite to display it:
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Sprite <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        image<span class="z-punctuation z-separator z-rust">:</span> images<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>image</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Note: The <a href=https://docs.rs/bevy/0.15/bevy/color/enum.Color.html><code>Color</code></a>-based methods are lossy. They have to convert to/from the <a href=https://docs.rs/bevy/0.15/bevy/prelude/struct.Image.html><code>Image</code></a>'s <a href=https://docs.rs/bevy/0.15/bevy/render/render_resource/enum.TextureFormat.html><code>TextureFormat</code></a>. If you read back the color you wrote, it will be slightly different.<h2 id=entity-picking-selection>Entity Picking / Selection <a class=anchor-link href=#entity-picking-selection>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/aevyrie>@aevyrie</a>, <a class=heading-meta__item href=https://github.com/NthTensor>@NthTensor</a>, <a class=heading-meta__item href=https://github.com/TotalKrill>@TotalKrill</a>, <a class=heading-meta__item href=https://github.com/jnhyatt>@jnhyatt</a>, <a class=heading-meta__item href=https://github.com/Jondolf>@Jondolf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13677>#13677</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14686>#14686</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14695>#14695</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14757>#14757</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15800>#15800</a></div></div><p><img alt="A collection of geometric shapes, with a pointer showing a point on a hovered mesh. The indicator is perpendicular to the surface." src=mesh_picking.png><p>Being able to click on objects to select them is a vital and seemingly simple task in any game. Since 2020, doing this in Bevy has largely meant pulling in <code>@aevyrie</code>'s beloved ecosystem crate, <a href=https://crates.io/crates/bevy_mod_picking/><code>bevy_mod_picking</code></a> and its simple raycasting companion <a href=https://crates.io/crates/bevy_mod_raycast/><code>bevy_mod_raycast</code></a>.<p>Over the years, this crate has been refined and battle-tested, both by <a href=https://www.fslabs.ca/>Foresight Spatial Labs</a> (a CAD-creating, Bevy-using company where Aevyrie works) and the broader open source community of game developers that have used it for everything from first-person-shooters to point-and-click adventures. Bevy is thrilled to have had the chance to work with the team behind <a href=https://crates.io/crates/bevy_mod_picking/><code>bevy_mod_picking</code></a> and have adopted the project wholesale into Bevy itself. Integrating a large project is a ton of work, and we're incredibly grateful to the contributors who have made <code>bevy_picking</code> a stable, first-class feature of the engine.<p>The new <code>bevy_picking</code> crate follows the existing modular architecture closely:<ol><li>Inputs are gathered from mouse, touch and pen devices. Each pointing device (humans are equipped with 10 by default) gets a screen-space <a href=https://docs.rs/bevy/0.15.0/bevy/picking/backend/prelude/struct.PointerLocation.html><code>PointerLocation</code></a>.<li>Each modular <a href=https://docs.rs/bevy/0.15.0/bevy/picking/backend/index.html>backend</a> performs the domain-specific work (like raycasting) of figuring out how these pointer locations map to <a href=https://docs.rs/bevy/0.15.0/bevy/picking/backend/struct.PointerHits.html><code>PointerHits</code></a> on objects that they're watching.<li>The hit information from each backend is combined and sorted to produce a coherent <a href=https://docs.rs/bevy/0.15.0/bevy/picking/focus/struct.HoverMap.html><code>HoverMap</code></a>, which lists which entities each pointer is hovering over.<li>High level events (both ordinary events and observers!) are emitted for each hovered entity, capturing complex behavior such as clicking, dragging or releasing various objects.</ol><p>In Bevy 0.15, we're shipping three first-party picking backends for UI, sprites, and meshes. Each of these comes with its own caveats for now:<ul><li>UI: both the legacy <a href=https://docs.rs/bevy/0.15.0/bevy/prelude/enum.Interaction.html><code>Interaction</code></a> and new <a href=https://docs.rs/bevy/0.15.0/bevy/picking/focus/enum.PickingInteraction.html><code>PickingInteraction</code></a> components exist <a href=https://github.com/bevyengine/bevy/issues/15550>for now</a>, with subtle behavioral differences.<li>Sprites: picking always uses the full rectangle, and <a href=https://github.com/bevyengine/bevy/issues/14929>alpha transparency is not taken into account</a>.<li>Mesh: this is a naive raycast against the full mesh. If you run into performance problems here, you should use simplified meshes and an acceleration data structure like a <a href=https://en.wikipedia.org/wiki/Bounding_volume_hierarchy>BVH</a> to speed this up. As a result, this functionality is currently disabled by default. It can be enabled by adding the <a href=https://docs.rs/bevy/0.15.0/bevy/picking/mesh_picking/struct.MeshPickingPlugin.html><code>MeshPickingPlugin</code></a>.</ul><p>We expect both <a href=https://crates.io/crates/bevy_rapier3d><code>bevy_rapier</code></a> and <a href=https://crates.io/crates/avian3d><code>avian</code></a> (the two most popular ecosystem physics crates for Bevy) to add their own accelerated collider picking backends to work with the newly upstreamed API. Unless you're debugging, building an editor or really care about the exact triangles of raw meshes, you should use one of those crates for efficient mesh picking.<h3 id=usage>Usage</h3><p>There are two good ways to get started with the API:<p>First, you might want to quickly update the state of your objects (be they UI or game objects) based on what is being done to them, typically highlighting them or changing their color. For that, simply query for changes to the <a href=https://docs.rs/bevy/0.15.0/bevy/picking/focus/enum.PickingInteraction.html><code>PickingInteraction</code></a> component, which will change based on the current picking state.<p>Second, you might want to respond dynamically to various pointer-powered events. For that, we recommend using observers. Here, we're spawning a simple text node and responding to pointer events:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> UI text that prints a message when clicked:
</span></span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Text<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Click Me!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>on_click_print_hello</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A cube that spins when dragged:
</span></span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        Mesh3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Cuboid<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        MeshMaterial3d<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>materials<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">WHITE</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>on_drag_spin</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">}
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_click_print_hello</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">click</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Pointer<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Click<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span><span class="z-constant z-other z-placeholder z-rust">{}</span> was clicked!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> click<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_drag_spin</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">drag</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Pointer<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Drag<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">transforms</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Transform<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> transform <span class="z-keyword z-operator z-assignment z-rust">=</span> transforms<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>drag<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    transform<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">rotate_y</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>drag<span class="z-punctuation z-accessor z-dot z-rust">.</span>delta<span class="z-punctuation z-accessor z-dot z-rust">.</span>x <span class="z-keyword z-operator z-arithmetic z-rust">*</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">02</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>If you want to override how an entity interacts with picking, add the <a href=https://docs.rs/bevy/0.15.0/bevy/picking/struct.PickingBehavior.html><code>PickingBehavior</code></a> component to them and configure it to meet your needs.<h2 id=bubbling-observers>Bubbling Observers <a class=anchor-link href=#bubbling-observers>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/NthTensor>@NthTensor</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13991>#13991</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15385>#15385</a></div></div><p>Virtually every pointer interaction (like mouse click) is rare (humans are slow!), and often requires a complex response.<p>This pattern is particularly useful in UI, where unhandled interactions are often intended for the pane that <em>contains</em> the entity that's on top, but is also valuable for in-game interactions: clicking on a unit's sword should select the unit!<p>To support this, we've extended the <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/event/trait.Event.html><code>Event</code></a> trait to include an associated <code>Traversal</code> type and an associated <code>AUTO_PROPAGATE</code> constant. This behavior is opt-in: when you derive the <code>Event</code> type, these are set to <code>()</code> and <code>false</code> respectively.<p>For the <a href=https://docs.rs/bevy/0.15.0/bevy/picking/events/struct.Pointer.html><code>Pointer&LTE></code></a> event type, we've chosen to implement this as:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>E<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-impl z-rust"> Event <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">Pointer</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>E<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">Traversal</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>Parent<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">AUTO_PROPAGATE</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">bool</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>This means that, unless you call <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/prelude/struct.Trigger.html#method.propagate><code>Trigger::propagate(false)</code></a>, pointer events will be bubbled up the hierarchy (accessing the <code>Entity</code> stored in the <a href=https://docs.rs/bevy/0.15.0/bevy/hierarchy/struct.Parent.html><code>Parent</code></a> component) until it reaches the entity root.<p>Any type that implements the <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/traversal/trait.Traversal.html><code>Traversal</code></a> trait can be used as the associated type and can access arbitrary read-only query data from the world. While using the standard entity hierarchy is a sensible choice for <em>many</em> applications, bubbling can be used for arbitrary event propagation using your own <a href=https://github.com/bevyengine/bevy/issues/3742>proto-relations</a>. Let us know what you cook up: user feedback is indispensable for building a better Bevy!<h2 id=virtual-geometry-improvements>Virtual Geometry Improvements <a class=anchor-link href=#virtual-geometry-improvements>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/JMS55>@JMS55</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14193>#14193</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14623>#14623</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15023>#15023</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15084>#15084</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15643>#15643</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15846>#15846</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15886>#15886</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15955>#15955</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/16049>#16049</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/16111>#16111</a></div></div><p>Virtual geometry (the <code>meshlet</code> feature) got a ton of improvements in Bevy 0.15. It's still not production ready, and will remain as an experimental module, but performance has been greatly improved upon since the last release.<p>For all the interesting details, read the <a href=https://jms55.github.io/posts/2024-11-14-virtual-geometry-bevy-0-15>author's blog post</a>.<p>For existing users of this feature:<ul><li>Your GPU must now support <code>WgpuFeatures::SHADER_INT64_ATOMIC_MIN_MAX</code> to use this feature. As forewarned in the previous release, older GPUs may no longer be compatible.<li>You must regenerate your MeshletMesh assets. MeshletMesh assets generated in Bevy 0.14 are not compatible with Bevy 0.15.<li>Make sure you read both the migration guide and the updated rustdoc for full details on how to upgrade your project.</ul><h2 id=animation-masks>Animation Masks <a class=anchor-link href=#animation-masks>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15013>#15013</a></div></div><p>Animations now support masking out animation targets (joints). This is implemented at the level of animation blend graphs (<code>AnimationGraph</code>) and can be used to play different animations on separate parts of the same model without interfering with one another. For example, you can play separate animations on a character's upper and lower body.<p>In this video, the fox's head and legs are playing two separate animations, thanks to animation masks: <video controls><source src=masked-animation.mp4 type=video/mp4></video><h2 id=generalized-animation>Generalized Animation <a class=anchor-link href=#generalized-animation>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a>, <a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15282>#15282</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15434>#15434</a></div></div><p><a href=https://docs.rs/bevy/0.15/bevy/animation/struct.AnimationClip.html><code>AnimationClip</code></a> can now be used to animate component fields with arbitrary curves.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">animation_clip<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_curve_to_target</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    animation_target_id<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">AnimatableCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-macro z-rust">animated_field!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">TextFont<span class="z-punctuation z-accessor z-rust">::</span></span>font_size</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Oscillate the font size during the length of the animation.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">FunctionCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">Interval<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">UNIT</span><span class="z-punctuation z-separator z-rust">,</span> 
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">t</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-constant z-numeric z-float z-rust">25.</span><span class="z-constant z-numeric z-float z-rust">0</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span> <span class="z-storage z-type z-rust">f32</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>sin<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">TAU</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span> t</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-arithmetic z-rust">+</span> <span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><video controls><source src=animated-font-size.mp4 type=video/mp4></video><p>This works for any named field and uses the new <code>Curve</code> API, which supports arbitrary curve types. Animating <code>Transform</code> fields will likely be the most common use case:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">animation_clip<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_curve_to_target</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    animation_target_id<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">AnimatableCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-macro z-rust">animated_field!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Transform<span class="z-punctuation z-accessor z-rust">::</span></span>translation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Construct a `Curve&LTVec3>`` using a built-in easing curve constructor.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">EasingCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-support z-function z-rust">vec3</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">10.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-support z-function z-rust">vec3</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">6.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">EaseFunction<span class="z-punctuation z-accessor z-rust">::</span></span>CubicInOut<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Bevy's internal animation handling for things like GLTF animations uses the same API!<p>If you need more complicated logic than "animate a specific component field", you can implement <a href=https://docs.rs/bevy/0.15/bevy/animation/animation_curves/trait.AnimatableProperty.html><code>AnimatableProperty</code></a>, which can be used in <a href=https://docs.rs/bevy/0.15/bevy/animation/animation_curves/struct.AnimatableCurve.html><code>AnimatableCurve</code></a> in place of <a href=https://docs.rs/bevy/0.15/bevy/animation/macro.animated_field.html><code>animated_field!</code></a>.<h2 id=animation-graph-additive-blending>Animation Graph: Additive Blending <a class=anchor-link href=#animation-graph-additive-blending>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15631>#15631</a></div></div><p>Bevy's animation graphs (<code>AnimationGraph</code>), which are used to combine simultaneously playing animations, now support <em>additive blending</em>.<p>Additive blending is a technique which allows separately authored animations to be applied on top of an arbitrary base animation. For instance, an animation in which a character swings a weapon may be applied additively on top of a walking or running animation.<p>Within an animation graph itself, this is accomplished by using <code>Add</code> nodes. The situation above might be described with an animation graph that looks something like this (weights omitted):<pre class=z-code><code><span class="z-text z-plain">â”Œâ”€â”€â”€â”€â”€â”                              
</span><span class="z-text z-plain">â”‚Walk â”¼â”€â”                            
</span><span class="z-text z-plain">â””â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”                    
</span><span class="z-text z-plain">        â”¼â”€â”¼Blendâ”¼â”€â”                  
</span><span class="z-text z-plain">â”Œâ”€â”€â”€â”€â”€â” â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”
</span><span class="z-text z-plain">â”‚Run  â”¼â”€â”˜         â”¼â”€â”¤Add  â”¼â”€â”€â”€â”¼Root â”‚
</span><span class="z-text z-plain">â””â”€â”€â”€â”€â”€â”˜   â”Œâ”€â”€â”€â”€â”€â” â”‚ â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜
</span><span class="z-text z-plain">          â”‚Swingâ”¼â”€â”˜                  
</span><span class="z-text z-plain">          â””â”€â”€â”€â”€â”€â”˜                    
</span></code></pre><p>The <code>Add</code> node functions by taking its first input (here, a blend of the 'Walk' and 'Run' clips) as-is and then applying the subsequent inputs additively on top of it. In code, the graph might be constructed as follows:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> animation_graph <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">AnimationGraph<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Attach an `Add` node to the root.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> add_node <span class="z-keyword z-operator z-assignment z-rust">=</span> animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_additive_blend</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span>root</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Add the `Blend` node and the additive clip as children; the `Blend` result
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> will be used as the base because it is listed first.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> blend_node <span class="z-keyword z-operator z-assignment z-rust">=</span> animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_blend</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> add_node</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_clip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>swing_clip_handle<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> add_node</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Finally, blend the 'Walk' and 'Run' clips to use as a base.
</span></span><span class="z-source z-rust">animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_clip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>walk_clip_handle<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> blend_node</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_clip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>run_clip_handle<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> blend_node</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=animation-events>Animation Events <a class=anchor-link href=#animation-events>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/atornity>@atornity</a>, <a class=heading-meta__item href=https://github.com/cart>@cart</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15538>#15538</a></div></div><p>Triggering gameplay events at specific points in an animation is a common pattern for synchronizing the visual, audible, and mechanical parts of your game. In <strong>Bevy 0.15</strong> we've added "animation event" support to <a href=https://docs.rs/bevy/0.15/bevy/animation/struct.AnimationClip.html><code>AnimationClip</code></a>, which means that you can trigger a specific <a href=https://docs.rs/bevy/0.15/bevy/ecs/event/trait.Event.html><code>Event</code></a> at a given point in time during <a href=https://docs.rs/bevy/0.15/bevy/animation/struct.AnimationClip.html><code>AnimationClip</code></a> playback:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Event<span class="z-punctuation z-separator z-rust">,</span> Clone</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">PlaySound</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">sound</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AudioSource<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This will trigger the PlaySound event at the 1.5 second mark in `animation_clip`
</span></span><span class="z-source z-rust">animation_clip<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> PlaySound <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    sound<span class="z-punctuation z-separator z-rust">:</span> assets<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>sound.mp3<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_observer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>PlaySound<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> sound <span class="z-keyword z-operator z-assignment z-rust">=</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>sound<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clone</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">AudioPlayer<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>sound</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>You can also trigger events for specific animation targets (such as bones):<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">animation_clip<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_event_to_target</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">AnimationTargetId<span class="z-punctuation z-accessor z-rust">::</span></span>from_iter<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>LeftLeg<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>LeftFoot<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> TouchingGround</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></code></pre><p>This enables things like "triggering a dust effect each time a foot touches the ground in an animation":<p><video controls><source src=animated_fox.mp4 type=video/mp4></video><h2 id=bevy-remote-protocol-brp>Bevy Remote Protocol (BRP) <a class=anchor-link href=#bevy-remote-protocol-brp>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14880>#14880</a></div></div><p>The Bevy Remote Protocol allows the ECS of a running Bevy application to be interacted with remotely. This can be used, for example, to inspect and edit entities and their components at runtime. We anticipate that this will be used to create things like inspectors which monitor the content of the ECS from a separate process. We're planning on using BRP in the upcoming Bevy Editor to communicate with remote Bevy apps.<p>Currently, you can use BRP to:<ul><li>Get the serialized values of a set of components from an entity<li>Perform a query for all entities matching a set of components and retrieve the matching values<li>Create a new entity with a given set of component values<li>For a given entity, insert or remove a set of components<li>Despawn an entity<li>Reparent one or more entities<li>List the components registered in the ECS or present on an entity</ul><p>Here is the minimal app setup required to use BRP over HTTP:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            DefaultPlugins<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The "core" plugin, which handles remote requests provided by transports
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">RemotePlugin<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Provides remote request transport via HTTP
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">RemoteHttpPlugin<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Here is a sample request:<pre class="language-json z-code" data-lang=json><code class=language-json data-lang=json><span class="z-source z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>method<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>bevy/get<span class="z-punctuation z-definition z-string z-end z-json">"</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>id<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>params<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json">        </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>entity<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">4294967298</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">        </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>components<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-punctuation z-section z-sequence z-begin z-json">[</span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">            <span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>bevy_transform::components::transform::Transform<span class="z-punctuation z-definition z-string z-end z-json">"</span></span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">        <span class="z-punctuation z-section z-sequence z-end z-json">]</span></span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">    <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></code></pre><p>And here is a sample response:<pre class="language-json z-code" data-lang=json><code class=language-json data-lang=json><span class="z-source z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>jsonrpc<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>2.0<span class="z-punctuation z-definition z-string z-end z-json">"</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>id<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json">    </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>result<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json">        </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>bevy_transform::components::transform::Transform<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json">            </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>rotation<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>x<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">0<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>y<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">0<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>z<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">0<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>w<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">1<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">            </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>scale<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>x<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">1<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>y<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">1<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>z<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">1<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">            </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>translation<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>x<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">0<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>y<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">0<span class="z-punctuation z-separator z-decimal z-json">.</span>5</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>z<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-float z-decimal z-json">0<span class="z-punctuation z-separator z-decimal z-json">.</span>0</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">        <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-value z-json">    <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></code></pre><h2 id=gamepads-as-entities>Gamepads as Entities <a class=anchor-link href=#gamepads-as-entities>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/s-puig>@s-puig</a>, <a class=heading-meta__item href=https://github.com/Shatur>@Shatur</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12770>#12770</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/16222>#16222</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/16233>#16233</a></div></div><p>Gamepads are now represented as entities, which makes them easier to work with! The <a href=https://docs.rs/bevy/0.15/bevy/input/gamepad/struct.Gamepad.html><code>Gamepad</code></a> component provides button and axis state, as well as metadata such as the vendor and product ID. The <a href=https://docs.rs/bevy/0.15/bevy/input/gamepad/struct.GamepadSettings.html><code>GamepadSettings</code></a> component provides configurable settings for a given <a href=https://docs.rs/bevy/0.15/bevy/input/gamepad/struct.Gamepad.html><code>Gamepad</code></a>, such as deadzones and sensitivity. The name of the gamepad is now stored in Bevy's standard <a href=https://docs.rs/bevy/0.15/bevy/core/struct.Name.html><code>Name</code></a> component.<p>In Bevy 0.14, you might write:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">gamepad_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">   <span class="z-variable z-parameter z-rust">gamepads</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Gamepads<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">   <span class="z-variable z-parameter z-rust">button_inputs</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">ButtonInput<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GamepadButton<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">   <span class="z-variable z-parameter z-rust">button_axes</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Axis<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GamepadButton<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">   <span class="z-variable z-parameter z-rust">axes</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Axis<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GamepadAxis<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> gamepad <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>gamepads <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> button_inputs<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">just_pressed</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">GamepadButton<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>gamepad<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">GamepadButtonType<span class="z-punctuation z-accessor z-rust">::</span></span>South</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>just pressed South<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> right_trigger <span class="z-keyword z-operator z-assignment z-rust">=</span> button_axes
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">           <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GamepadButton<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">               gamepad<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">               <span class="z-meta z-path z-rust">GamepadButtonType<span class="z-punctuation z-accessor z-rust">::</span></span>RightTrigger2<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">           </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">           <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> right_trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">abs</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-comparison z-rust">></span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">01</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>RightTrigger2 value is {}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> right_trigger</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> left_stick_x <span class="z-keyword z-operator z-assignment z-rust">=</span> axes
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">           <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GamepadAxis<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>gamepad<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">GamepadAxisType<span class="z-punctuation z-accessor z-rust">::</span></span>LeftStickX</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">           <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> left_stick_x<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">abs</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-comparison z-rust">></span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">01</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>LeftStickX value is {}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> left_stick_x</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>In 0.15, we can write this much more simply as:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">gamepad_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">gamepads</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Gamepad<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> gamepad <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>gamepads <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> gamepad<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">just_pressed</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GamepadButton<span class="z-punctuation z-accessor z-rust">::</span></span>South</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>just pressed South<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> right_trigger <span class="z-keyword z-operator z-assignment z-rust">=</span> gamepad<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GamepadButton<span class="z-punctuation z-accessor z-rust">::</span></span>RightTrigger2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> right_trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">abs</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-comparison z-rust">></span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">01</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>RightTrigger2 value is {}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> right_trigger</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> left_stick_x <span class="z-keyword z-operator z-assignment z-rust">=</span> gamepad<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GamepadAxis<span class="z-punctuation z-accessor z-rust">::</span></span>LeftStickX</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> left_stick_x<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">abs</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-comparison z-rust">></span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">01</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>LeftStickX value is {}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> left_stick_x</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Much better!<h2 id=box-shadows>Box Shadows <a class=anchor-link href=#box-shadows>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/ickshonpe>@ickshonpe</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15204>#15204</a></div></div><p><img alt="A demonstration of Bevy's box shadows. There are 12 shapes on a light blue background, and the border radius, aspect ratio and softness of the shadows is varied for each of them. The shadows cause the buttons to appear to hover above the page." src=box_shadow.png><p>Bevy UI now supports box shadows! Box shadows can be used to achieve particular artistic effects, such as creating a sense of depth to cue to users that an element is interactable.<p>By adding the new <a href=https://docs.rs/bevy/0.15/bevy/prelude/struct.BoxShadow.html><code>BoxShadow</code></a> component to any <a href=https://docs.rs/bevy/0.15/bevy/prelude/struct.Node.html><code>Node</code></a> entity, you can draw a pretty shadow behind your widgets.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">BoxShadow</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> The shadow's color
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">color</span><span class="z-punctuation z-separator z-type z-rust">:</span> Color,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Horizontal offset
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">x_offset</span><span class="z-punctuation z-separator z-type z-rust">:</span> Val,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Vertical offset
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">y_offset</span><span class="z-punctuation z-separator z-type z-rust">:</span> Val,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> How much the shadow should spread outward.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Negative values will make the shadow shrink inwards.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Percentage values are based on the width of the UI node.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">spread_radius</span><span class="z-punctuation z-separator z-type z-rust">:</span> Val,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Blurriness of the shadow
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">blur_radius</span><span class="z-punctuation z-separator z-type z-rust">:</span> Val,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>We have plans for future improvements: enable using shadows to create an inset / sunken look, and adding shadow support for images and text. If those possibilities excite you, get involved! We love helping <a href=https://bevy.org/learn/contribute/introduction/>new contributors</a> land the features they care about.<h2 id=cosmic-text>Cosmic Text <a class=anchor-link href=#cosmic-text>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/tigregalis>@tigregalis</a>, <a class=heading-meta__item href=https://github.com/TotalKrill>@TotalKrill</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/10193>#10193</a></div></div><p>Historically, Bevy has used the <code>ab_glyph</code> library to render text. This handled simple latin text rendering reasonably well. But Bevy aims to be a generic app framework usable with any language, and there were a number of areas where <code>ab_glyph</code> wasn't meeting our needs.<p>The Rust text space has evolved significantly since we selected <code>ab_glyph</code>. Fortunately there are a number of good options now. We chose <a href=https://github.com/pop-os/cosmic-text><code>cosmic-text</code></a> because of its robust feature set and its use in production applications (Iced, Cosmic Desktop, Zed, Lapce, etc). Notably, <code>cosmic-text</code> gives us support for:<ul><li><strong>Font Shaping</strong>: The ability to take a string of character codes and perform layout and transformation rules. This can involve moving, modifying, and combining characters (such as ligatures). This is <em>extremely</em> important for non-Latin-based languages.<li><strong>System Font Loading</strong>: The ability to scan for the available fonts installed on a system and load them.<li><strong>Bidirectional Text</strong>: Not all languages go from left to right! Cosmic Text gives us support for bidirectional text.<li><strong>Text Editing</strong>: Cosmic Text has its own internal text editing model, which we can take advantage of.</ul><p>In <strong>Bevy 0.15</strong> we ported our text rendering to <code>cosmic-text</code>. This was largely an internal change (unlike the other "high level" text API changes this release, such as the port to Required Components).<p>That being said, you will definitely notice our improved ability to render text! Here is Bevy rendering Arabic text, right-to-left, using the Noto Sans Arabic font:<p><img alt="arabic text" src=arabic_text.png><p>Note that we haven't yet wired up <code>cosmic-text</code>'s "system font loading" features, but we're working on it!<h2 id=ui-scrolling>UI Scrolling <a class=anchor-link href=#ui-scrolling>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Piefayth>@Piefayth</a>, <a class=heading-meta__item href=https://github.com/nicoburns>@nicoburns</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15291>#15291</a></div></div><p>Bevy 0.15 introduces scrolling support for UI containers.<p>A UI <code>Node</code> with the <code>overflow</code> property set to <code>Overflow::scroll()</code> will offset its contents by the positive <code>offset_x</code> and <code>offset_y</code> values of the <code>ScrollPosition</code> component on the node.<p>Scrolling is done by modifying <code>ScrollPosition</code> directly; there is currently no built-in scroll input handler. A new <a href=https://github.com/bevyengine/bevy/tree/v0.15.0/examples/ui/scroll.rs><code>scroll</code></a> example demonstrates handling simple mouse wheel scrolling. Axes of a node without <code>OverflowAxis::Scroll</code> will ignore changes to <code>ScrollPosition</code>.<h2 id=retained-rendering-world>Retained Rendering World <a class=anchor-link href=#retained-rendering-world>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/re0312>@re0312</a>, <a class=heading-meta__item href=https://github.com/trashtalk217>@trashtalk217</a>, <a class=heading-meta__item href=https://github.com/kristoff3r>@kristoff3r</a>, <a class=heading-meta__item href=https://github.com/tychedelia>@tychedelia</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14449>#14449</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15320>#15320</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15582>#15582</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15756>#15756</a></div></div><p>For awhile now, Bevy has had a <a href=/news/bevy-0-6/#pipelined-rendering-extract-prepare-queue-render>"parallel pipelined renderer"</a>. To enable this, we added a Render World, in addition to the Main World (a <code>World</code> holds ECS data like Entities, Components, and Resources). The Main World is the source of truth for app logic. While the Render World is rendering the current frame, the Main World can be simulating the next frame. There is a brief "extract step", where we synchronize the two and copy relevant data from the Main World to the Render World.<p>In previous versions of Bevy, we employed an "immediate mode" approach to Main World -> Render World synchronization: we fully cleared the Render World entities every frame. This accomplished a couple of things:<ol><li>It allowed us to ensure entity IDs "lined up", allowing us to reuse entities in both places.<li>It prevented us from needing to solve the "desync problem". By clearing every frame and re-syncing, we ensure the two Worlds are always perfectly in sync.</ol><p>There was also precedent for the "immediate mode" pipelined rendering approach: Bungie's Destiny renderer uses it to great effect!<p>However we learned pretty quickly that clearing every frame had major downsides:<ol><li>The clearing process itself had overhead.<li>"Table" ECS storage could be expensive to rebuild every frame relative to alternatives, due to "archetype moves". As a result, we employed many workarounds such as moving storage outside of the ECS.<li>Full resyncs every frame meant re-doing work that didn't need redoing. ECS gives us a nice global view of how our data is changing. We should take advantage of that!</ol><p>In <strong>Bevy 0.15</strong> we switched to a "retained Render World". We no longer clear each frame. We no longer rely on a shared entity ID space. Instead:<ol><li>Each world has its own entities<li>For entities that are related, we store that relationship as components (ex: Render World entities have a <code>MainEntity</code> component and Main World entities have a <code>RenderEntity</code> component). If a Main World entity with <code>SyncToRenderWorld</code> is spawned, we spawn an equivalent in the Render World. If a Main World entity is despawned, we despawn the relevant entity in the Render World.</ol><p>Ensuring synchronization is perfect is <em>not</em> an easy problem. Plugging all of the holes took a lot of time this cycle and we will likely continue to evolve our synchronization strategy in the future. But we think "retained" is fundamentally better for Bevy, and we're excited to have this foundation laid!<h2 id=curves>Curves <a class=anchor-link href=#curves>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14630>#14630</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14976>#14976</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15675>#15675</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/16637>#16637</a></div></div><p>The new <a href=https://docs.rs/bevy/0.15.0/bevy/math/trait.Curve.html><code>Curve&LTT></code></a> trait provides a shared interface for curves, describing how values of type <code>T</code> change as we vary a <code>f32</code> parameter <code>t</code> over some domain.<p>What's changing, and the domain that it's changing <em>over</em> are both incredibly flexible. You might choose to set the generic parameter <code>T</code> to anything from position, to damage, to colors (like we did to create a powerful abstraction for <a href=https://docs.rs/bevy/0.15.0/bevy/color/struct.ColorCurve.html>color gradients</a>).<p>The progress parameter <code>t</code> often represents time (like in animation), but it can also represent things like a fraction/percentage of progress between a starting and ending value or distance (such as curves that are mapped into 2D or 3D space),<h3 id=constructing-curves>Constructing Curves</h3><p>Each curve may be defined in a variety of ways. For example, a curve may be:<ul><li>defined by a function<li>interpolated from samples<li>constructed using splines<li>produced by an easing function</ul><p>Take a look at the constructors on the <a href=https://docs.rs/bevy/0.15.0/bevy/math/trait.Curve.html><code>Curve&LTT></code></a> trait for more details.<h3 id=modifying-curves>Modifying curves</h3><p>Procedurally modifying curves is a powerful tool for both creating curves with the desired behavior and dynamically altering them.<p>Bevy 0.15 provides a number of flexible adaptors for taking an existing curve and modifying its output and/or parametrization.<p>For example:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> timed_angles <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-other z-rust">FRAC_PI_2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-other z-rust">FRAC_PI_2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">4.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A curve interpolating our list of (time, angle)-pairs. At each time, it
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> produces the angle, so it is a `Curve&LTf32>` parametrized over `[0, 4]`.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> angle_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">UnevenSampleAutoCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>timed_angles</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Interpret these angles as angles of rotation for a `Curve&LTRot2>`.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> rotation_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> angle_curve<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">map</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Rot2<span class="z-punctuation z-accessor z-rust">::</span></span>radians</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Change the parameterizing interval so that the whole loop happens in
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> only 1 second instead of 4.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> fast_rotation_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> rotation_curve<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reparametrize_linear</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Interval<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">UNIT</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>A number of other adaptors are available. For instance:<ul><li>a curve may be reversed, repeated, or ping-ponged<li>two curves may be chained together to form a longer curve<li>two curves may be zipped together to form a curve valued in tuples</ul><h3 id=sampling-from-curves>Sampling from curves</h3><p>Sampling is the process of asking "what is the value of this curve at some particular value of <code>t</code>". To do so, just call <a href=https://docs.rs/bevy/0.15.0/bevy/math/trait.Curve.html#method.sample><code>Curve::sample</code></a>!<p>Much like how vector graphics can be rasterized into pixels, curves can be rasterized into regular, discretized intervals. By resampling into an approximation derived from sample interpolation on the original curve, we can make curves of diverse origin uniform at the level of data.<p>While this may seem exotic, this technique is critical for serializing curves or approximating properties via numerical methods.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A curve defined by a function, which may be challenging to store as data.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> exponential_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">FunctionCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-support z-function z-rust">interval</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">10.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> 
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">  <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">t</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-storage z-type z-rust">f32</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>exp<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span> t</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A curve approximating the original by resampling on 100 segments.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Internally, this just holds the samples and the parameter interval.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> raster_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> exponential_curve<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">resample_auto</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">100</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=common-easing-functions>Common Easing Functions <a class=anchor-link href=#common-easing-functions>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/RobWalt>@RobWalt</a>, <a class=heading-meta__item href=https://github.com/mockersf>@mockersf</a>, <a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14788>#14788</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15675>#15675</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15711>#15711</a></div></div><p>"Easing functions" can be used to easily construct curves that interpolate between two values. There are many "common" easing functions that each have a different "character" to them. These are often used in "tweening" scenarios to give life to the interpolation.<p><video controls><source src=ease-functions.mp4 type=video/mp4></video><p><strong>Bevy 0.15</strong> adds a new <code>Ease</code> trait, which defines how to interpolate a value of a given type. The <code>Ease</code> types include:<ul><li>vector types (<code>f32</code>, <code>Vec2</code>, <code>Vec3</code>, ...);<li>direction types (<code>Dir2</code>, <code>Dir3</code>, <code>Dir3A</code>);<li>rotation types (<code>Rot2</code>, <code>Quat</code>).</ul><p>We've also added an <code>EaseFunction</code> enum, which defines many common easing functions. The new <code>EasingCurve</code> type uses these as inputs to define a final <code>Curve</code> from the given easing parameters.<p>For example, we can use an easing function to interpolate between two rotations:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Ease between no rotation and a rotation of angle PI/2 about the y-axis.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> rotation_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">EasingCurve<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Quat<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">IDENTITY</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Quat<span class="z-punctuation z-accessor z-rust">::</span></span>from_rotation_y<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">FRAC_PI_2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">EaseFunction<span class="z-punctuation z-accessor z-rust">::</span></span>ElasticInOut<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust"><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reparametrize_linear</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">interval</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">4.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust"><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><video controls><source src=eased-rotation.mp4 type=video/mp4></video><h2 id=cyclic-splines>Cyclic Splines <a class=anchor-link href=#cyclic-splines>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14106>#14106</a></div></div><p>Most cubic spline constructions now support creating a closed loop instead of just a path, if desired. This can be convenient for constructing things like periodic paths for NPCs or other game entities.<p>The only difference is that <code>to_curve_cyclic</code> must be called in place of <code>to_curve</code>. The supported spline constructions are:<ul><li>Hermite splines (<code>CubicHermite</code>),<li>Cardinal splines (<code>CubicCardinalSpline</code>),<li>B-splines (<code>CubicBSpline</code>),<li>Linear splines (<code>LinearSpline</code>).</ul><p><img alt="A closed loop constructed using a cubic cardinal spline" src=cyclic-spline.png><h2 id=partialreflect><code>PartialReflect</code> <a class=anchor-link href=#partialreflect>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/soqb>@soqb</a>, <a class=heading-meta__item href=https://github.com/nicopap>@nicopap</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/7207>#7207</a></div></div><p>Bevy boasts a powerful <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/>reflection</a> system that allows you to introspect and build types at runtime. It works by passing around data as <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Reflect.html><code>Reflect</code></a> trait objects like <code>Box&LTdyn Reflect></code>. This has the effect of erasing the compile-time type information, allowing data to be stored and moved around without having to know the exact type behind the trait object.<p>Because of this type erasure, <code>bevy_reflect</code> can also get away with some interesting tricks. For instance, there are many cases where a type needs to be built up field-by-field, such as during deserialization. This works fine when you know the type at compile-time, but it becomes very challenging to do at runtime. To solve this, <code>bevy_reflect</code> has a concept of <em>dynamic</em> types.<p>Dynamic types exist as a way to dynamically construct and store reflected data in a way that appears like a concrete type. Behind the scenes, <code>bevy_reflect</code> uses these types to build up a representation of the target type. And it can do so since we hide the actual type behind the <code>dyn Reflect</code> trait object.<p>Unfortunately, this comes with a very common issue: it becomes very easy to accidentally believe a <code>dyn Reflect</code> is a concrete type when it's actually a dynamic type representing that concrete type.<p>To address this problem, Bevy 0.15 has reworked the <code>Reflect</code> trait based on the <a href=https://github.com/bevyengine/rfcs/pull/56>Unique Reflect RFC</a>. This splits it into two separate traits: <code>Reflect</code> and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.PartialReflect.html><code>PartialReflect</code></a>.<p><code>PartialReflect</code> is much like the <code>Reflect</code> trait of previous versions. It allows access to fundamental reflection capabilities and allows for type-erasure behind a <code>dyn PartialReflect</code> trait object. It allows for both concrete types and dynamic types to be used interchangeably.<p><code>Reflect</code>, on the other hand, has become a much stricter trait. It's a subset of <code>PartialReflect</code> that guarantees the underlying type beneath the trait object is exactly the concrete type it says it is.<p>This split allows reflection-based APIs and user code to be more explicit about the dynamic-ness of the trait objects they're working with. It moves the knowledge of whether a type is dynamic or not to compile-time, preventing many common pitfalls of working with dynamic types, including knowing when they need to be handled separately.<h2 id=reflect-remote-types>Reflect Remote Types <a class=anchor-link href=#reflect-remote-types>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/6042>#6042</a></div></div><p>The <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/><code>bevy_reflect</code></a> crate relies on types implementing <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Reflect.html><code>Reflect</code></a> in order to make them reflectable. Fields of structs and enums that don't implement <code>Reflect</code> must be specifically ignored with <code>#[reflect(ignore)]</code>. And due to Rust's <a href=https://doc.rust-lang.org/book/ch10-02-traits.html#implementing-a-trait-on-a-type>orphan rule</a>, this is often the case for types not owned by the current crate.<p>Following <a href=https://serde.rs/remote-derive.html><code>serde</code>'s example</a>, Bevy 0.15 introduces a way to reflect remote types using a new <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/attr.reflect_remote.html><code>#[reflect_remote(...)]</code></a> attribute macro. This allows users to define a model for reflection to base its behavior on, while still operating with the actual type.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Pretend this type is defined in a crate called `external_crate`
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Name</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">value</span><span class="z-punctuation z-separator z-type z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We can define our model, including other derives and reflection attributes
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect_remote</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">external_crate::Name</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">NameWrapper</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">value</span><span class="z-punctuation z-separator z-type z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Now we can use `Name` as a field in a reflected type without having to ignore it
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Player</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">remote <span class="z-keyword z-operator z-rust">=</span> NameWrapper</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">name</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-path z-rust">external_crate<span class="z-punctuation z-accessor z-rust">::</span></span>Name,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Under the hood, this works by transforming our model into a transparent wrapper around the actual type:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">repr</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">transparent</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">NameWrapper</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>pub <span class="z-meta z-path z-rust">external_crate<span class="z-punctuation z-accessor z-rust">::</span></span>Name</span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>The macro then uses the model to generate all the reflection trait implementations, driven by a new <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.ReflectRemote.html><code>ReflectRemote</code></a> trait for swapping between our wrapper and the remote type. Compile-time assertions are also generated to help ensure the model and the actual type stay in sync.<p>While this feature has many aspects complete, including generic support, enum support, and nesting, there are still some limitations we hope to address in future releases, including support for reflecting a remote type with private fields.<h2 id=the-reflectable-trait>The <code>Reflectable</code> Trait <a class=anchor-link href=#the-reflectable-trait>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/5772>#5772</a></div></div><p><a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/><code>bevy_reflect</code></a> is powered by many different traits working together to provide the full reflection API. These include traits like <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Reflect.html><code>Reflect</code></a>, but also other traits like <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.TypePath.html><code>TypePath</code></a>, <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Typed.html><code>Typed</code></a>, and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.GetTypeRegistration.html><code>GetTypeRegistration</code></a>.<p>This can make adding the right bounds on generic parameters a bit confusing, and it's easy to forget to include one of these traits.<p>To make this simpler, 0.15 introduces the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Reflectable.html><code>Reflectable</code></a> trait. All the traits listed above are supertraits of <code>Reflectable</code>, allowing it to be used in place of all of them where necessary.<h2 id=function-reflection>Function Reflection <a class=anchor-link href=#function-reflection>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a>, <a class=heading-meta__item href=https://github.com/nixpulvis>@nixpulvis</a>, <a class=heading-meta__item href=https://github.com/hooded-shrimp>@hooded-shrimp</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13152>#13152</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14098>#14098</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14141>#14141</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14174>#14174</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14201>#14201</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14641>#14641</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14647>#14647</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14666>#14666</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14704>#14704</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14813>#14813</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15086>#15086</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15145>#15145</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15147>#15147</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15148>#15148</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15205>#15205</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15484>#15484</a></div></div><p>Rust's options for working with functions in a dynamic context are limited. We're forced to either coerce the function to a function pointer (e.g. <code>fn(i32, i32) -> i32</code>) or turn it into a trait object (e.g. <code>Box&LTdyn Fn(i32, i32) -> i32></code>).<p>In both cases, only functions with the same signature (both inputs and outputs) can be stored as an object of the same type. For truly dynamic contexts, such as working with scripting languages or fetching functions by name, this can be a significant limitation.<p>Bevy's <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/><code>bevy_reflect</code></a> crate already removes the need for compile-time knowledge of types through reflection. In Bevy 0.15, functions can be reflected as well!<p>This feature is opt-in and requires the <code>reflect_functions</code> feature to be enabled on <code>bevy</code> (or the <code>functions</code> feature on <code>bevy_reflect</code> if using that crate directly).<p>It works by converting regular functions which arguments and return type derive <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Reflect.html><code>Reflect</code></a> into a <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/struct.DynamicFunction.html><code>DynamicFunction</code></a> type using a new <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/trait.IntoFunction.html><code>IntoFunction</code></a> trait.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">add</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">a</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">i32</span>, <span class="z-variable z-parameter z-rust">b</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">i32</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">i32</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    a <span class="z-keyword z-operator z-arithmetic z-rust">+</span> b
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> function <span class="z-keyword z-operator z-assignment z-rust">=</span> add<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_function</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>With a <code>DynamicFunction</code>, we can then generate our list of arguments into an <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/args/struct.ArgList.html><code>ArgList</code></a> and call the function:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> args <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">ArgList<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">push_owned</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">25_</span><span class="z-storage z-type z-numeric z-rust">i32</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">push_owned</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">75_</span><span class="z-storage z-type z-numeric z-rust">i32</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> result <span class="z-keyword z-operator z-assignment z-rust">=</span> function<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">call</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>args</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Calling a function returns a <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/type.FunctionResult.html><code>FunctionResult</code></a> which contains our <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/enum.Return.html><code>Return</code></a> data or a <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/enum.FunctionError.html><code>FunctionError</code></a> if something went wrong.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-control z-rust">match</span> result <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Return<span class="z-punctuation z-accessor z-rust">::</span></span>Owned<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>value</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> value <span class="z-keyword z-operator z-assignment z-rust">=</span> value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">try_take<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Got: <span class="z-constant z-other z-placeholder z-rust">{}</span><span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> value<span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-type z-rust">Err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Error: <span class="z-constant z-other z-placeholder z-rust">{:?}</span><span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> err<span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-rust">_</span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-support z-macro z-rust">unreachable!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>our function always returns an owned value<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><h4 id=closure-reflection>Closure Reflection</h4><p>This feature doesn't just work for regular functionsâ€”it works on closures too!<p>For closures that capture their environment immutably, we can continue using <code>DynamicFunction</code> and <code>IntoFunction</code>. For closures that capture their environment mutably, there's <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/struct.DynamicFunctionMut.html><code>DynamicFunctionMut</code></a> and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/trait.IntoFunctionMut.html><code>IntoFunctionMut</code></a>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> total <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-entity z-name z-function z-rust">increment</span> <span class="z-keyword z-operator z-rust">=</span> <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust">total <span class="z-keyword z-operator z-assignment z-rust">+=</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> function <span class="z-keyword z-operator z-assignment z-rust">=</span> increment<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_function_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">function<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">call</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ArgList<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">function<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">call</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ArgList<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">function<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">call</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ArgList<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Drop the function to release the mutable borrow of `total`.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Alternatively, our last call could have used `call_once` instead.
</span></span><span class="z-source z-rust"><span class="z-support z-function z-rust">drop</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>function</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>total<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">3</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=functioninfo><code>FunctionInfo</code></h4><p>Reflected functions hold onto their type metadata via <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/struct.FunctionInfo.html><code>FunctionInfo</code></a> which is automatically generated by the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/trait.TypedFunction.html><code>TypedFunction</code></a> trait. This allows them to return information about the function including its name, arguments, and return type.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> info <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">String</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>len<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_function_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">name</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>alloc::string::String::len<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">arg_count</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">args</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">is<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">return_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">is<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">usize</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>One thing to note is that closures, anonymous functions, and function pointers are not automatically given names. For these cases, names can be provided manually.<p>The same is true for all arguments including <code>self</code> arguments: names are not automatically generated and must be supplied manually if desired.<p>Using <code>FunctionInfo</code>, a <code>DynamicFunction</code> will print out its signature when debug-printed.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-support z-macro z-rust">dbg!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-type z-rust">String</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>len<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_function</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Outputs:
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> DynamicFunction(fn alloc::string::String::len(_: &alloc::string::String) -> usize)
</span></span></code></pre><h4 id=manual-construction>Manual Construction</h4><p>For cases where <code>IntoFunction</code> won't work, such as for functions with too many arguments or for functions with more complex lifetimes, <code>DynamicFunction</code> can also be constructed manually.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Note: This function would work with `IntoFunction`,
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> but for demonstration purposes, we'll construct it manually.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> add_to <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">DynamicFunction<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">args</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> a <span class="z-keyword z-operator z-assignment z-rust">=</span> args<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">take<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> b <span class="z-keyword z-operator z-assignment z-rust">=</span> args<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">take_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-arithmetic z-rust">*</span>b <span class="z-keyword z-operator z-assignment z-rust">+=</span> a<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Return<span class="z-punctuation z-accessor z-rust">::</span></span>unit<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">FunctionInfo<span class="z-punctuation z-accessor z-rust">::</span></span>named<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>add_to<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">with_arg<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>a<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">with_arg<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>b<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">with_return<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=the-function-registry>The Function Registry</h4><p>To make it easier to work with reflected functions, a dedicated <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/struct.FunctionRegistry.html><code>FunctionRegistry</code></a> has been added. This works similarly to the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/struct.TypeRegistry.html><code>TypeRegistry</code></a> where functions can be registered and retrieved by name.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> registry <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">FunctionRegistry<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">registry
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Named functions can be registered directly
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Unnamed functions (e.g. closures) must be registered with a name
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_with_name</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>add_3<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">a</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">b</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">c</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust">a <span class="z-keyword z-operator z-arithmetic z-rust">+</span> b <span class="z-keyword z-operator z-arithmetic z-rust">+</span> c</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> add <span class="z-keyword z-operator z-assignment z-rust">=</span> registry<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>my_crate::math::add<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> add_3 <span class="z-keyword z-operator z-assignment z-rust">=</span> registry<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>add_3<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>For better integration with the rest of Bevy, a new <a href=https://docs.rs/bevy_reflect/0.15/bevy_ecs/reflect/struct.AppTypeRegistry.html><code>AppFunctionRegistry</code></a> resource has been added along with registration methods on <a href=https://docs.rs/bevy_reflect/0.15/bevy_app/struct.App.html><code>App</code></a>.<h4 id=the-function-trait>The <code>Function</code> Trait</h4><p>A new reflection traitâ€”appropriately called <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/func/trait.Function.html><code>Function</code></a>â€”has been added to correspond to functions.<p>Due to limitations in Rust, we're unable to implement this trait for all functions, but it does make it possible to pass around a <code>DynamicFunction</code> as a <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.PartialReflect.html><code>PartialReflect</code></a> trait object.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">from_reflect <span class="z-keyword z-operator z-rust">=</span> false</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">EventHandler</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">callback</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">DynamicFunction<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-modifier z-lifetime z-rust">'static</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> event_handler<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Box</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>dyn Struct<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">Box</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>EventHandler <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    callback<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Event fired!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into_function</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> field <span class="z-keyword z-operator z-assignment z-rust">=</span> event_handler<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">field</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>callback<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-keyword z-control z-rust">if</span> <span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">ReflectRef<span class="z-punctuation z-accessor z-rust">::</span></span>Function<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>callback</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> field<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reflect_ref</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    callback<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reflect_call</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ArgList<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><h4 id=limitations>Limitations</h4><p>While this feature is quite powerful already, there are still a number of limitations.<p>Firstly, <code>IntoFunction</code>/<code>IntoFunctionMut</code> only work for functions with up to 16 arguments, and only support returning borrowed data where the lifetime is tied to the first argument (normally <code>self</code> in methods).<p>Secondly, the <code>Function</code> trait can't be implemented for all functions due to how the function reflection traits are defined.<p>Thirdly, all arguments and return types must have derived <code>Reflect</code>. This can be confusing for certain types such as <code>&str</code> since only <code>&'static str</code> implements <code>Reflect</code> and its borrowed version would be <code>&&'static str</code>.<p>Lastly, while generic functions are supported, they must first be manually monomorphized. This means that if you have a generic function like <code>fn foo&LTT>()</code>, you have to create the <code>DynamicFunction</code> like <code>foo::&LTi32>.into_function()</code>.<p>Most of these limitations are due to Rust itself. The <a href=https://poignardazur.github.io/2024/05/25/report-on-rustnl-variadics/>lack of variadics</a> and <a href=https://doc.rust-lang.org/rustc/lints/listing/warn-by-default.html#coherence-leak-check>issues with coherence</a> are among the two biggest difficulties to work around. Despite this, we will be looking into ways of improving the ergonomics and capabilities of this feature in future releases.<p>We already have a <a href=https://github.com/bevyengine/bevy/pull/15074>PR</a> up to add support for overloaded functions: functions with a variable number of arguments and argument types.<h2 id=typeinfo-improvements><code>TypeInfo</code> Improvements <a class=anchor-link href=#typeinfo-improvements>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15475>#15475</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13321>#13321</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13320>#13320</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15235>#15235</a></div></div><p>With <a href=https://docs.rs/bevy_reflect/0.15/><code>bevy_reflect</code></a>, compile-time type information can be retrieved from a reflected type as <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/enum.TypeInfo.html><code>TypeInfo</code></a>.<p>Bevy 0.15 adds many improvements and convenience methods for working with <code>TypeInfo</code>.<h4 id=generic-parameter-info>Generic Parameter Info</h4><p>The first addition is the ability to get information about a type's generic parameters. This not includes the parameter's type, but also its name andâ€”if it's a const parameterâ€”its default value.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-generic z-rust"><span class="z-entity z-name z-struct z-rust">MyStruct</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>T<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span></span><span class="z-meta z-struct z-rust"></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>T</span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> generics <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">MyStruct<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>type_info<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">generics</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> t <span class="z-keyword z-operator z-assignment z-rust">=</span> generics<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>t<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">name</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>T<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>t<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">ty</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">is<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-logical z-rust">!</span>t<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">is_const</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=nested-typeinfo>Nested <code>TypeInfo</code></h4><p>Pretty much every type in Rust is made up of other types. Structs, maps, listsâ€”they all contain other types.<p>In previous versions of Bevy, <code>TypeInfo</code> granted you limited access to type information of these nested types. It mostly just provided the type's <a href=https://doc.rust-lang.org/std/any/struct.TypeId.html><code>TypeId</code></a> and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.TypePath.html><code>TypePath</code></a>.<p>However, in Bevy 0.15, you can now directly access the <code>TypeInfo</code> of these nested types.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Row</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">  <span class="z-variable z-other z-member z-rust">id</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">usize</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> struct_info<span class="z-punctuation z-separator z-rust">:</span> StructInfo <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Row<span class="z-punctuation z-accessor z-rust">::</span></span>type_info<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">as_struct</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> field<span class="z-punctuation z-separator z-rust">:</span> NamedField <span class="z-keyword z-operator z-assignment z-rust">=</span> struct_info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">field</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>id<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> `NamedField` now exposes a way to fetch the `TypeInfo` of the field's type
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> field_info<span class="z-punctuation z-separator z-rust">:</span> TypeInfo <span class="z-keyword z-operator z-assignment z-rust">=</span> field<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">type_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>field_info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">is<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">usize</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=typeinfo-convenience-casts><code>TypeInfo</code> Convenience Casts</h4><p>In most cases, <code>TypeInfo</code> needs to first be pattern matched to the correct variant in order to gain full access to the type's compile-time information. This can be mildly annoying when you already know the variant ahead of time. This often occurs when writing tests, but also shows up when trying to get the type's <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/enum.ReflectRef.html><code>ReflectRef</code></a> data along with its <code>TypeInfo</code>. It tends to looks something like:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We have to pattern match on `ReflectRef`...
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">ReflectRef<span class="z-punctuation z-accessor z-rust">::</span></span>List<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>list</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> reflected_value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reflect_ref</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">panic!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>expected a list<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...and still need to pattern match on `TypeInfo`
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">TypeInfo<span class="z-punctuation z-accessor z-rust">::</span></span>List<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>list_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> reflected_value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_represented_type_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">panic!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>expected a list info<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>In such cases, the variant is already verified via the <code>ReflectRef</code> but the <code>TypeInfo</code> must still be pattern matched regardless.<p>In Bevy 0.15, convenience methods have been added to <code>TypeInfo</code>, <code>ReflectRef</code>, <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/enum.ReflectMut.html><code>ReflectMut</code></a>, and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/enum.ReflectOwned.html><code>ReflectOwned</code></a> to conveniently cast to the expected variant or return an error upon failure.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We can simply verify the kind of our reflected value once...
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">ReflectRef<span class="z-punctuation z-accessor z-rust">::</span></span>List<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>list</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> reflected_value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reflect_ref</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">panic!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>expected a list<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...and just assert the `TypeInfo`
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> list_info <span class="z-keyword z-operator z-assignment z-rust">=</span> reflected_value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_represented_type_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">as_list</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>If the <code>.as_list()</code> cast fails in the snippet above, it will return an error detailing what <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/enum.ReflectKind.html>kind</a> we expected (i.e. <code>List</code>) and what we actually got (e.g. <code>Array</code>, <code>Struct</code>, etc.).<p>And this works in the opposite direction as well:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">TypeInfo<span class="z-punctuation z-accessor z-rust">::</span></span>List<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>list_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> reflected_value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_represented_type_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">panic!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>expected a list info<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> list <span class="z-keyword z-operator z-assignment z-rust">=</span> reflected_value<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">reflect_ref</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">as_list</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=the-type-type>The <code>Type</code> Type <a class=anchor-link href=#the-type-type>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14838>#14838</a></div></div><p>Rust's <a href=https://doc.rust-lang.org/std/any/struct.TypeId.html><code>TypeId</code></a> is a unique identifier for a type, making it a perfect candidate for use as a key in mappings and for checking whether two types are the same at runtime. And since it's essentially just two <code>u64</code> values, it's extremely cheap to copy, compare, and hash.<p>One of the downsides to using <code>TypeId</code>, though, is that it doesn't contain any other information about the type, including its name. This can make debugging somewhat frustrating as you can't easily tell which type a <code>TypeId</code> corresponds to.<p>Since <a href=https://docs.rs/bevy_reflect/0.15/><code>bevy_reflect</code></a> makes heavy use of <code>TypeId</code>, 0.15 introduces a new type to help alleviate the debugging issue while still maintaining the benefits of <code>TypeId</code>: <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/struct.Type.html><code>Type</code></a>.<p><a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/struct.Type.html><code>Type</code></a> is a simple wrapper around <code>TypeId</code> that also stores the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/struct.TypePathTable.html><code>TypePathTable</code></a>. Like <code>TypeId</code> it's <code>Copy</code>, <code>Eq</code>, and <code>Hash</code>, delegating to the underlying <code>TypeId</code> for the latter two. But unlike <code>TypeId</code>, its <code>Debug</code> implementation will print the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.TypePath.html#tymethod.type_path>type path</a> of the type it represents. This debuggability comes at the cost of an extra 32 bytes, but may often be well worth it, especially if that data would have been stored elsewhere anyway.<p>It can be constructed from any type that implements <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.TypePath.html><code>TypePath</code></a>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> ty <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">of<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-support z-type z-rust">String</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> map <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">HashMap<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Type, <span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">map<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>ty<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">25</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> debug <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-macro z-rust">format!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span><span class="z-constant z-other z-placeholder z-rust">{:?}</span><span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> map<span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>debug<span class="z-punctuation z-separator z-rust">,</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>{alloc::string::String: 25}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=reflection-support-for-sets>Reflection support for Sets <a class=anchor-link href=#reflection-support-for-sets>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/RobWalt>@RobWalt</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13014>#13014</a></div></div><p>Inside of <code>bevy_reflect</code>, every reflected Rust object ends up being mapped to one of a handful of <a href=https://docs.rs/bevy/0.15.0/bevy/reflect/enum.ReflectKind.html><code>ReflectKind</code></a> variants.<p>Before Bevy 0.15, sets (like <a href=https://doc.rust-lang.org/stable/std/collections/struct.HashSet.html><code>HashSet</code></a>) were treated as opaque "values": there was no way to view or modify their contents via reflection. With these changes, we can now properly represent sets of all kinds, which is particularly handy for runtime debugging tools like <a href=https://github.com/jakobhellermann/bevy-inspector-egui><code>bevy-inspector-egui</code></a>!<h2 id=change-detection-source-location-tracking>Change Detection Source Location Tracking <a class=anchor-link href=#change-detection-source-location-tracking>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/aevyrie>@aevyrie</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14034>#14034</a></div></div><p>Keeping track of when and where values are changed can be tricky in any complex program, and Bevy applications are no exception. Thankfully, our unified ECS-backed data model makes it easy for us to add debugging tools that work right out of the box, with no user configuration required.<p>When you turn on the <code>track_change_detection</code> feature flag, Bevy will record the exact line of code that mutated your component or resource side-by-side with the value. While this is obviously too expensive for ordinary use, it's a godsend for debugging tricky issues, as the value can be logged or read directly via the debugger of your choice.<p>As shown in the <a href=https://github.com/bevyengine/bevy/blob/main/examples/ecs/change_detection.rs><code>change_detection</code> example</a>, simply turn on the feature and call <code>my_component.changed_by()</code> on any <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/change_detection/struct.Ref.html><code>Ref</code></a>, <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/change_detection/struct.Mut.html><code>Mut</code></a>, <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/change_detection/struct.Res.html><code>Res</code></a> or <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/change_detection/struct.ResMut.html><code>ResMut</code></a> smart pointer to get a helpful string pointing you straight to the last line of code that mutated your data!<h2 id=optimized-iteration-of-mixed-sparse-set-and-table-components>Optimized Iteration of Mixed Sparse Set and Table Components <a class=anchor-link href=#optimized-iteration-of-mixed-sparse-set-and-table-components>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/re0312>@re0312</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14049>#14049</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14673>#14673</a></div></div><p>In Bevy, components can be <a href=https://docs.rs/bevy/0.15/bevy/ecs/component/trait.Component.html#associatedconstant.STORAGE_TYPE>stored</a> using one of two different mechanisms, according to the <a href=https://docs.rs/bevy/0.15/bevy/ecs/component/enum.StorageType.html><code>StorageType</code></a> set when implementing the <a href=https://docs.rs/bevy/0.15/bevy/ecs/component/trait.Component.html#associatedconstant.STORAGE_TYPE><code>Component</code></a> trait.<p>Table storage is the traditional archetypal ECS storage, where component data is densely packed into tables of raw data with other entities who share the same set of components. By contrast, sparse set storage keeps the component information out of the table, separating entities by archetype (the set of components they have) without fragmenting otherwise shared tables.<p>As a result of the map-like storage strategy used by sparse set components, they have faster insertion and removal speed, at the cost of slower random-access iteration. This is a reasonable tradeoff, but historically, one that Bevy developers were unlikely to use.<p>That's because a long-standing bug caused iteration to use the slower, fallback sparse-style iteration if even one of the components in the query or its filters were sparse sets, regardless of whether or not this was necessary. The fix has resulted in query iteration speeds that are between 1.8 and 3.5 times faster (when using parallel iteration) for these scenarios!<p>Iterating over the data in sparse set components is still relatively slow, but they should finally be a good default choice for any repeatedly inserted or dataless components.<h2 id=expose-winit-s-monitorhandle>Expose winit's <code>MonitorHandle</code> <a class=anchor-link href=#expose-winit-s-monitorhandle>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/tychedelia>@tychedelia</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13669>#13669</a></div></div><p>The new <code>Monitor</code> component simplifies the process of working with multi-monitor setups by providing easy access to monitor properties such as resolution, refresh rate, position, and scaling factor. This feature is especially useful for developers who need to spawn windows on specific displays, gather monitor details, or adjust their application based on available hardware. This is especially useful for creative setups like multi-projector installations or LED video walls, where precise control over display environments is critical.<p><code>Monitor</code> can be queried for and used for things like spawning or resizing Windows:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_windows</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">monitors</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-keyword z-operator z-rust">&</span>Monitor<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity<span class="z-punctuation z-separator z-rust">,</span> monitor</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> monitors_added<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Window <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            mode<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">WindowMode<span class="z-punctuation z-accessor z-rust">::</span></span>Fullscreen<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">MonitorSelection<span class="z-punctuation z-accessor z-rust">::</span></span>Entity<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            position<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">WindowPosition<span class="z-punctuation z-accessor z-rust">::</span></span>Centered<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">MonitorSelection<span class="z-punctuation z-accessor z-rust">::</span></span>Entity<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=custom-cursors>Custom Cursors <a class=anchor-link href=#custom-cursors>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/eero-lehtinen>@eero-lehtinen</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14284>#14284</a></div></div><p>Previously Bevy's native window cursors supported only a fixed set of built-in OS cursors. Bevy now also supports arbitrary images as "custom cursors". Custom cursors still use native facilities of the OS, which allows them to stay perfectly responsive even when the frame rate of the application drops.<p>Insert the <a href=https://docs.rs/bevy/0.15/bevy/winit/cursor/enum.CursorIcon.html><code>CursorIcon</code></a> component with a <a href=https://docs.rs/bevy/0.15/bevy/winit/cursor/enum.CustomCursor.html><code>CustomCursor</code></a> to set a <a href=https://docs.rs/bevy/0.15/bevy/prelude/struct.Window.html><code>Window</code></a> entity's cursor:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>window</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">CursorIcon<span class="z-punctuation z-accessor z-rust">::</span></span>Custom<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">CustomCursor<span class="z-punctuation z-accessor z-rust">::</span></span>Image <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        handle<span class="z-punctuation z-separator z-rust">:</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>cursor_icon.png<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        hotspot<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">5</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=uniform-mesh-sampling>Uniform Mesh Sampling <a class=anchor-link href=#uniform-mesh-sampling>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14071>#14071</a></div></div><p>The surfaces of meshes can now be randomly sampled. This can be used for things like placing scenery or particle effects.<p>This consists of:<ol><li>The <code>Mesh::triangles</code> method, which allows the extraction of a <code>Mesh</code>'s list of triangles (<code>Triangle3d</code>).<li>The <code>UniformMeshSampler</code> type, which allows the creation of a <a href=https://docs.rs/rand/0.8.5/rand/distributions/trait.Distribution.html><code>Distribution</code></a> that uniformly samples points in space (<code>Vec3</code>) from a collection of triangles.</ol><p>The functionality comes from putting these together:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> rng <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">StdRng<span class="z-punctuation z-accessor z-rust">::</span></span>seed_from_u64<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">8765309</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Get an iterator over triangles in the mesh. This can fail if the mesh has
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the wrong format or if its vertex/index data is malformed.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> triangles <span class="z-keyword z-operator z-assignment z-rust">=</span> my_mesh<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">triangles</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Construct the distribution. This can fail in some cases - most notably if 
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the mesh surface has zero area.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> distribution <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">UniformMeshSampler<span class="z-punctuation z-accessor z-rust">::</span></span>try_new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>triangles</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Get 1000 points uniformly sampled from the surface of the mesh.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> samples<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Vec3<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> distribution<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">take</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1000</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">collect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=eventmutator><code>EventMutator</code> <a class=anchor-link href=#eventmutator>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/BobG1983>@BobG1983</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13818>#13818</a></div></div><p>When working with complex event-driven logic, you may find that you want to conditionally modify events without changing their type or re-emitting them. While this has always been possible, it was quite onerous:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We need to manually track which events this system has read
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> using a system-local `EventCursor`, previously called `ManualEventReader`.
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">mutate_events</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">events</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Events<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyEvent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">local_cursor</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Local<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">EventCursor<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyEvent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>    
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> event <span class="z-keyword z-operator z-rust">in</span> local_cursor<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>events</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        event<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">some_mutation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Now, you can simply use the new <a href=https://docs.rs/bevy/0.15/bevy/ecs/event/struct.EventMutator.html><code>EventMutator</code></a> system param, which keeps track of this bookkeeping for you.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">mutate_events</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">event_mutator</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventMutator<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyEvent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>    
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> event <span class="z-keyword z-operator z-rust">in</span> event_mutator<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        event<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">some_mutation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=isometry-types>Isometry Types <a class=anchor-link href=#isometry-types>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a>, <a class=heading-meta__item href=https://github.com/Jondolf>@Jondolf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14269>#14269</a></div></div><p>Vectors and quaternions are commonly used in 3D to describe relative and absolute positions and orientations of objects. However, when performing more complicated transformations, such as going from a global frame of reference to an object's local space and back, or composing multiple translations and rotations together, they can get rather unwieldy and difficult to reason about.<p>The new <a href=https://docs.rs/bevy/0.15/bevy/math/struct.Isometry2d.html><code>Isometry2d</code></a> and <a href=https://docs.rs/bevy/0.15/bevy/math/struct.Isometry3d.html><code>Isometry3d</code></a> types introduced in <strong>Bevy 0.15</strong> are a simple yet powerful tool for efficiently describing these kinds of transformations. An isometry represents a rotation followed by a translation, similar to a <a href=https://docs.rs/bevy/0.15/bevy/transform/components/struct.Transform.html><code>Transform</code></a> with a scale of 1.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create an isometry from a translation and rotation.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> iso1 <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Isometry3d<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Quat<span class="z-punctuation z-accessor z-rust">::</span></span>from_rotation_z<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">FRAC_PI_2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Transform a point using the isometry.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> point <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">4.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">4.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">4.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> result <span class="z-keyword z-operator z-assignment z-rust">=</span> iso1<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">transform_point</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>point</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or iso1 * point
</span></span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_relative_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>result<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">7.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create another isometry.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> iso2 <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Isometry3d<span class="z-punctuation z-accessor z-rust">::</span></span>from_rotation<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Quat<span class="z-punctuation z-accessor z-rust">::</span></span>from_rotation_z<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">FRAC_PI_2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Compute the relative translation and rotation.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> relative_iso <span class="z-keyword z-operator z-assignment z-rust">=</span> iso1<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">inverse_mul</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>iso2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or iso1.inverse() * iso2
</span></span></code></pre><p>Isometries are most useful in mathematical contexts where scaling is not desired, such as when describing relative positions of objects for intersection tests and other geometric queries. However, they are now also used in some APIs, including gizmo methods:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Specify rectangle position and orientation with an isometry.
</span></span><span class="z-source z-rust">gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">rect_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Isometry2d<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>translation<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Rot2<span class="z-punctuation z-accessor z-rust">::</span></span>degrees<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">45.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>splat<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">250.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-other z-rust">CYAN</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Many methods take an `impl Into&LTIsometry3d>`, so it is enough to only provide
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> translation or rotation if a full isometry isn't needed.
</span></span><span class="z-source z-rust">gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sphere</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>translation<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-other z-rust">PURPLE</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p><a href=https://docs.rs/bevy/0.15/bevy/transform/components/struct.Transform.html><code>Transform</code></a> and <a href=https://docs.rs/bevy/0.15/bevy/transform/components/struct.GlobalTransform.html><code>GlobalTransform</code></a> can also be converted to an <a href=https://docs.rs/bevy/0.15/bevy/math/struct.Isometry3d.html><code>Isometry3d</code></a> using the <a href=https://docs.rs/bevy/0.15/bevy/transform/components/struct.Transform.html#method.to_isometry><code>to_isometry</code></a> method, providing a convenient way to use these APIs when you already have access to entity transforms.<p>Note that unlike <a href=https://docs.rs/bevy/0.15/bevy/transform/components/struct.Transform.html><code>Transform</code></a>, these isometry types are <em>not</em> components. They are purely convenience types for math.<h2 id=lifecycle-hook-observer-trigger-for-replaced-values>Lifecycle Hook & Observer Trigger for Replaced Values <a class=anchor-link href=#lifecycle-hook-observer-trigger-for-replaced-values>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/BigWingBeat>@BigWingBeat</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14212>#14212</a></div></div><p>Bevy 0.14 introduced <a href=https://bevy.org/news/bevy-0-14/#ecs-hooks-and-observers>Component Lifecycle Hooks and Observers</a>, and included several built-in observer triggers for each way that components could be added to or removed from entities: <code>OnAdd</code>, <code>OnInsert</code> and <code>OnRemove</code>. However, there was a hole in this API. While <code>OnRemove</code> is a counterpart to <code>OnAdd</code>, <code>OnInsert</code> had no such counterpart, meaning certain operations had no corresponding lifecycle hook or observer trigger:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">ecs<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">component<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>ComponentHooks<span class="z-punctuation z-separator z-rust">,</span> StorageType</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>Commands<span class="z-punctuation z-separator z-rust">,</span> Component<span class="z-punctuation z-separator z-rust">,</span> Deref<span class="z-punctuation z-separator z-rust">,</span> DerefMut<span class="z-punctuation z-separator z-rust">,</span> Entity<span class="z-punctuation z-separator z-rust">,</span> Query<span class="z-punctuation z-separator z-rust">,</span> Resource</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">utils<span class="z-punctuation z-accessor z-rust">::</span></span>HashMap<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Hash<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Copy</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">SomeId</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-type z-rust">u32</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource<span class="z-punctuation z-separator z-rust">,</span> Deref<span class="z-punctuation z-separator z-rust">,</span> DerefMut</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">EntityLookupById</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">HashMap<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>SomeId, Entity<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Component <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">SomeId</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">STORAGE_TYPE</span><span class="z-punctuation z-separator z-rust">:</span> StorageType <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">StorageType<span class="z-punctuation z-accessor z-rust">::</span></span>Table<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">register_component_hooks</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">hooks</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> ComponentHooks</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        hooks
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">on_insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">entity</span><span class="z-punctuation z-separator z-rust">,</span> _<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">                <span class="z-storage z-type z-rust">let</span> this <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">get<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">                world
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">                    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">resource_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EntityLookupById<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">                    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>this<span class="z-punctuation z-separator z-rust">,</span> entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">on_remove</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">entity</span><span class="z-punctuation z-separator z-rust">,</span> _<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">                <span class="z-storage z-type z-rust">let</span> this <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">get<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">                world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">resource_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EntityLookupById<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">remove</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>this</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">some_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands, <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-keyword z-operator z-rust">&</span>SomeId<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> iter <span class="z-keyword z-operator z-assignment z-rust">=</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>a_entity<span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-rust">_</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> iter<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">next</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">return</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>b_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> iter<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">next</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">return</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>a_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>b_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>In this example, the system inserts a new component value onto an entity that already has one, which overwrites the previous component value. This causes the <code>on_insert</code> lifecycle hook to run for the new value, but the <code>on_remove</code> hook doesn't run for the previous value. As a result, the hashmap entry for the previous ID value is still present, even though it has been replaced.<p>Bevy 0.15 introduces a new component lifecycle hook and observer trigger for this scenario: <code>on_replace</code>/<code>OnReplace</code>. This hook runs just before the <code>on_remove</code> hook in all cases, and additionally runs in the aforementioned scenario where a component value is entirely replaced. The hook runs just before the replacement occurs, letting you access the soon-to-be-dropped value to perform bookkeeping and cleanup.<p>The above example would be fixed by simply replacing the <code>on_remove</code> hook with the new <code>on_replace</code> hook:<pre class="language-diff z-code" data-lang=diff><code class=language-diff data-lang=diff><span class="z-source z-diff">21                     .resource_mut::&LTEntityLookupById>()                                          
</span><span class="z-source z-diff">22                     .insert(this, entity);       
</span><span class="z-source z-diff">23             })                                   
</span><span class="z-source z-diff"><span class="z-markup z-deleted z-diff"><span class="z-punctuation z-definition z-deleted z-diff">-</span>24             .on_remove(|mut world, entity, _| {  
</span></span><span class="z-source z-diff"><span class="z-markup z-inserted z-diff"><span class="z-punctuation z-definition z-inserted z-diff">+</span>24             .on_replace(|mut world, entity, _| {
</span></span><span class="z-source z-diff">25                 let this = *world.entity(entity).get::&LTSelf>().unwrap();                         
</span><span class="z-source z-diff">26                 world.resource_mut::&LTEntityLookupById>().remove(&this);                          
</span><span class="z-source z-diff">27             });                                  
</span></code></pre><p>Note that it <em>does not</em> run if a component value is merely <em>mutated</em> - in those cases you want to use change detection instead.<h2 id=pack-multiple-vertex-and-index-arrays-together-into-growable-buffers>Pack multiple vertex and index arrays together into growable buffers <a class=anchor-link href=#pack-multiple-vertex-and-index-arrays-together-into-growable-buffers>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14257>#14257</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15566>#15566</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15569>#15569</a></div></div><p><strong>Bevy 0.15</strong> changes the way meshes are stored on the GPU to greatly improve CPU performance. Instead of using separate vertex and index buffers for every mesh as is done in Bevy 0.14, now they are coalesced respectively into 'slabs' of configurable size. This cuts down on how frequently we need to change bind groups, winning us up to 2x speedups!<p>The <code>MeshAllocatorSettings</code> resource allows tuning slab sizes, growth rate, and cut-offs to best fit your application's needs. The defaults should already be a significant win for most scenes.<p>WebGL2 does not support packing vertex buffers together, so only index buffers get combined on this platform.<p>Some measurements on the <a href=https://github.com/DGriffin91/bevy_bistro_scene>Bistro</a> scene:<p>Overall frame time improves from 8.74 ms to 5.53 ms (1.58x speedup) Render system time improves from 6.57 ms to 3.54 ms (1.86x speedup) Opaque pass time improves from 4.64 ms to 2.33 ms (1.99x speedup)<h2 id=rewrite-screenshots>Rewrite screenshots <a class=anchor-link href=#rewrite-screenshots>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/tychedelia>@tychedelia</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14833>#14833</a></div></div><p>Screenshots can now be taken with a new observer based API that allows targeting any <code>RenderTarget</code> that can be used with a <code>Camera</code>, not just windows.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Capture the primary window
</span></span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Screenshot<span class="z-punctuation z-accessor z-rust">::</span></span>primary_window<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">save_to_disk</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or a `Handle&LTImage>`
</span></span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Screenshot<span class="z-punctuation z-accessor z-rust">::</span></span>image<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>render_target</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">save_to_disk</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>The observer triggers with a <code>ScreenshotCaptured</code> event containing an Image that can be used for saving to disk, post-processing, or generating thumbnails. This flexible approach makes it easier to capture content from any part of your rendering pipeline, whether itâ€™s a window, an off-screen render target, or a texture in a custom render pass.<h2 id=systemparambuilder><code>SystemParamBuilder</code> <a class=anchor-link href=#systemparambuilder>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/chescock>@chescock</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14050>#14050</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14821>#14821</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14818>#14818</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15189>#15189</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14817>#14817</a></div></div><p>Bevy 0.14 introduced <a href=https://bevy.org/news/bevy-0-14/#systembuilder>the <code>SystemBuilder</code> type</a> to allow systems to be created with dynamic queries. In Bevy 0.15, this has been extended to many more types of system parameters!<p>The <code>SystemBuilder</code> type has been replaced with a <code>SystemParamBuilder&LTP></code> trait to make it easier to compose builders. Aggregates of parameters, including <a href=https://github.com/bevyengine/bevy/pull/14050>tuples, <code>ParamSet</code></a>, <a href=https://github.com/bevyengine/bevy/pull/14821><code>Vec&LTT></code></a>, and <a href=https://github.com/bevyengine/bevy/pull/14818>custom parameters using <code>#[derive(SystemParam)]</code></a>, can now be used in dynamic systems. For example, a <code>ParamSet&LTVec&LTQuery&LTFilteredEntityMut>>></code> can be used to pass a variable number of dynamic queries that may conflict.<p>New <a href=https://github.com/bevyengine/bevy/pull/15189><code>FilteredResources</code> and <code>FilteredResourcesMut</code></a> types can access a set of resources configured at runtime, similar to how the existing <code>FilteredEntityRef</code> and <code>FilteredEntityMut</code> access a set of components on one entity.<p>Finally, a new <a href=https://github.com/bevyengine/bevy/pull/14817><code>DynSystemParam</code></a> type allows systems to use parameters of dynamic type and then downcast them. This is especially useful for implementing part of a system with trait objects, where each trait implementation can use a different system parameter type.<p>Taken together, these can be used to build a system that runs a script defined at runtime, where the script needs a variable number of query and resource parameters. Or, they can be used to build systems out of parts assembled at runtime!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">buildable_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">query_a</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">query_b</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>B<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">queries_with_locals</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>FilteredEntityMut<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-meta z-generic z-rust">Local<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">usize</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">dynamic_params</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ParamSet<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>DynSystemParam<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">resources</span><span class="z-punctuation z-separator z-rust">:</span> FilteredResourcesMut,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Parameters in a `ParamSet&LTVec>` are accessed by index.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> dyn_param_0<span class="z-punctuation z-separator z-rust">:</span> DynSystemParam <span class="z-keyword z-operator z-assignment z-rust">=</span> dynamic_params<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Parameters in a `DynSystemParam` are accessed by downcasting to the original type.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> param<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Local<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-type z-rust">str</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> dyn_param_0<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">downcast_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Local<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-type z-rust">str</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> `FilteredResources` and `FilteredResourcesMut` have methods to get resources by type or by ID.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> res<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Ref<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> resources<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">get<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> param_builder <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Parameters that don't need configuration can be built using `ParamBuilder` or its factory methods.
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    ParamBuilder<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">ParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>query<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A `Vec` of parameters can be built using a `Vec` of builders.
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-support z-macro z-rust">vec!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A tuple of parameters can be built using a tuple of builders.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Queries are built with a callback that supplies a `QueryBuilder` to configure the query.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">QueryParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">builder</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> builder<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">data<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Locals are built by passing the initial value for the local.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            LocalBuilder<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">123</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A `ParamSet` can be built for either a tuple or a `Vec`.
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    ParamSetBuilder<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-macro z-rust">vec!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A `DynSystemParam` is built using a builder for any type, and can be downcast to that type.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">DynParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>LocalBuilder<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">DynParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">resource<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The type may be any system parameter, even a tuple or a `Vec`!
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">DynParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">ParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>B<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> `FilteredResources` and `FilteredResourcesMut` are built with a callback
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> that supplies a builder to configure the resource access.
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">FilteredResourcesMutParamBuilder<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">builder</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> builder<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_read<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> system <span class="z-keyword z-operator z-assignment z-rust">=</span> param_builder
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build_state</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>buildable_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The built system is just like any other system, and can be added to a schedule.
</span></span><span class="z-source z-rust">schedule<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=state-scoped-events>State Scoped Events <a class=anchor-link href=#state-scoped-events>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/UkoeHB>@UkoeHB</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15085>#15085</a></div></div><p>State scoped events will be automatically cleared when exiting a state (similar to <a href=https://bevy.org/news/bevy-0-14/#state-scoped-entities>StateScoped entities</a>). This is useful when you want to guarantee clean state transitions.<p>Normally, you would configure your event via:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">app</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> App</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_event<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyGameEvent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>If you want the events to be cleared when you exit a specific state, change this to:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">app</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> App</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_state_scoped_event<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyGameEvent<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GameState<span class="z-punctuation z-accessor z-rust">::</span></span>Play</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=entityrefexcept-and-entitymutexcept><code>EntityRefExcept</code> and <code>EntityMutExcept</code> <a class=anchor-link href=#entityrefexcept-and-entitymutexcept>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15207>#15207</a></div></div><p><a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.EntityMut.html><code>EntityMut</code></a> and <a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.EntityRef.html><code>EntityRef</code></a> are powerful tools for interacting with all components of a given entity at once in arbitrary ways. These types implement <code>QueryData</code>, so you can add them to any <code>Query</code> you'd like!<p>However, because they can access <em>any</em> component information, Rust's prohibition against mutable aliasing prevent you from simultaneously accessing other component information, even if you pinky promise not to read any data that's being written to.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This system is forbidden!
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Inside the body of the function, we could choose to mutate the `AnimationPlayer` itself
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> while reading its value!
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">animate_anything</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span>AnimationPlayer, EntityMut<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>To let you work around this limitation, we've introduced a matching pair of tools: <a href=https://docs.rs/bevy/0.15/bevy/ecs/world/struct.EntityMutExcept.html><code>EntityMutExcept</code></a> and <a href=https://docs.rs/bevy/0.15/bevy/ecs/world/struct.EntityRefExcept.html><code>EntityRefExcept</code></a>, which work just like the <a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.EntityMut.html><code>EntityMut</code></a> and <a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.EntityRef.html><code>EntityRef</code></a> but <em>don't</em> provide access to a bundle of components that you declare off-limits.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Look mom, no mutable aliasing!
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">animate_anything</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span>AnimationPlayer, <span class="z-meta z-generic z-rust">EntityMutExcept<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AnimationPlayer<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=cached-one-shot-systems>Cached One-shot Systems <a class=anchor-link href=#cached-one-shot-systems>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/benfrankel>@benfrankel</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14920>#14920</a></div></div><p><strong>Bevy 0.15</strong> introduces a convenient new "cached" API for running one-shot systems:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Old, uncached API:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> foo_id <span class="z-keyword z-operator z-assignment z-rust">=</span> commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>foo</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>foo_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> New, cached API:
</span></span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_cached</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>foo</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This allows you to call <code>register_system_cached</code> without needing to worry about producing duplicate systems.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Uncached API:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> id1 <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>quux</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> id2 <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>quux</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id1 <span class="z-keyword z-operator z-comparison z-rust">!=</span> id2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Cached API:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> id1 <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system_cached</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>quux</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> id2 <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system_cached</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>quux</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id1 <span class="z-keyword z-operator z-comparison z-rust">==</span> id2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=comparison-to-run-system-once>Comparison to <code>run_system_once</code></h3><p><code>run_system_once</code> sets up a system, runs it once, and tears it down. This means system parameters like <code>Local</code> and <code>EventReader</code> that rely on persistent state between runs will be lost. Any system parameters like <code>Query</code> that rely on cached computations to improve performance will have to rebuild their cache each time, which can be costly. As a consequence, <code>run_system_once</code> is only recommended for diagnostic use (e.g. unit tests), and <code>run_system</code> or <code>run_system_cached</code> should be preferred for "real" code.<h3 id=limitations>Limitations</h3><p>With the cached API, different systems cannot be cached under the same <code>CachedSystemId&LTS></code>. There can be no more than one distinct system of type <code>S</code>. This is true when <code>size_of::&LTS>() == 0</code>, which is almost always true in practice. To enforce correctness, the new API will give you a compile-time error if you try to use a non-zero-sized function (like a function pointer or a capturing closure).<h2 id=fallible-system-parameters>Fallible System Parameters <a class=anchor-link href=#fallible-system-parameters>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MiniaczQ>@MiniaczQ</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15276>#15276</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15476>#15476</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15488>#15488</a></div></div><p>In Bevy 0.14 and prior, the following code would panic:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyResource</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">my_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">my_resource</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyResource<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>DefaultPlugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Panic here: `my_system` cannot fetch `MyResource`, because it was never added.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>but in Bevy 0.15, <code>my_system</code> simply won't be executed and a warning will be logged.<p>This works for all system-based features:<ul><li>Systems and Observers will be skipped.<li>Run Conditions will be skipped and return <code>false</code>.</ul><p>Compound systems, like <code>system_a.pipe(system_b)</code>, are currently skipped if any required data is missing.<p>Pre-existing parameters which now benefit from this feature are: <code>Res</code> and <code>ResMut</code> as well as their siblings <code>NonSend</code> and <code>NonSendMut</code>. Parameters that build on top of other parameters: tuples, <code>DynSystemParam</code> and <code>ParamSet</code> are considered present if and only if all of their system parameters are present.<p>Additionally, few new system params were introduced to simplify existing code:<ul><li><a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.Single.html><code>Single&LTD, F></code></a> - Works like <code>Query&LTD, F>::single</code>, fails if query contains 0 or more than 1 match,<li><code>Option&LTSingle&LTD, F>></code> - Works like <code>Query&LTD, F>::single</code>, fails if query contains more than 1 match,<li><a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.Populated.html><code>Populated&LTD, F></code></a> - Works like a <code>Query&LTD, F></code>, fails if query contains no matches.</ul><h3 id=warnings>Warnings</h3><p>Fallible system params come with a primitive warning mechanic. Currently, systems can behave in one of two ways:<ul><li>(default) warn exactly once,<li>never warn.</ul><p>The default can be changed as following:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> For systems
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_system<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">never_param_warn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> For observers
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_observer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_observer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">never_param_warn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> For run conditions
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_system<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_if</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_condition<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">never_param_warn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Let us know what other warning strategies you'd like!<h2 id=passing-data-into-systems-by-reference>Passing Data Into Systems By Reference <a class=anchor-link href=#passing-data-into-systems-by-reference>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/ItsDoot>@ItsDoot</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15184>#15184</a></div></div><p>System piping is a powerful (if relatively niche) tool to pass data directly from one system to another. While this is useful for <a href=https://github.com/bevyengine/bevy/blob/main/examples/ecs/system_piping.rs>error handling</a>, it's a general purpose tool for composing fragments of logic by gluing together matching inputs and outputs.<p>This machinery has since been repurposed for use with <a href=https://bevy.org/news/bevy-0-12/#one-shot-systems>one-shot systems</a>, allowing you to call <a href=https://docs.rs/bevy/0.15.0/bevy/ecs/prelude/struct.World.html#method.run_system_with_input><code>World::run_system_with_input</code></a> to evaluate systems with whatever input you supply, and get the return value back out. Great for writing tests!<p>However, this set of tools has always had a frustrating and confusing limitation: any data passed into a system must have a static lifetime. This seems absurd; the data is passed directly from one owner to the next and the systems are run as if they were a single unit.<p>With the liberal application of some type magic pixie dust, this limitation has been lifted!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> world <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">World<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> value <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">2</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This always worked:
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">square</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>In<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">input</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>: <span class="z-meta z-generic z-rust">In<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">usize</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">usize</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    input <span class="z-keyword z-operator z-arithmetic z-rust">*</span> input
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">value <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_with_input</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>value<span class="z-punctuation z-separator z-rust">,</span> square</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Now possible:
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">square_ref</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>InRef<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">input</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>: <span class="z-meta z-generic z-rust">InRef<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">usize</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">usize</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-arithmetic z-rust">*</span>input <span class="z-keyword z-operator z-arithmetic z-rust">*</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>input
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">value <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_with_input</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>value<span class="z-punctuation z-separator z-rust">,</span> square_ref</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Mutably:
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">square_mut</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>InMut<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">input</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>: <span class="z-meta z-generic z-rust">InMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">usize</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-arithmetic z-rust">*</span>input <span class="z-keyword z-operator z-assignment z-rust">*=</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>input<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_with_input</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> value<span class="z-punctuation z-separator z-rust">,</span> square_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>We're excited to see what you do with this newfound power.<h2 id=list-components-in-queryentityerror-querydoesnotmatch>List Components in QueryEntityError::QueryDoesNotMatch <a class=anchor-link href=#list-components-in-queryentityerror-querydoesnotmatch>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/SpecificProtagonist>@SpecificProtagonist</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15435>#15435</a></div></div><p>When accessing an entity through a query fails due to mismatched components, the error now includes the names of the components the entity has:<pre class=z-code><code><span class="z-text z-plain">QueryDoesNotMatch(0v1 with components Sprite, Transform, GlobalTransform, Visibility, InheritedVisibility, ViewVisibility, SyncToRenderWorld)
</span></code></pre><h2 id=no-std-progress><code>no_std</code> Progress <a class=anchor-link href=#no-std-progress>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/bushrat011899>@bushrat011899</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15281>#15281</a></div></div><p>Bevy relies heavily on Rust's <a href=https://doc.rust-lang.org/std/>standard library</a>, making it challenging to use on embedded, niche platforms, and even certain consoles. But what if that <em>wasn't</em> the case?<p>We've undertaken a new initiative to challenge the reliance on the standard library, with the eventual goal of providing a <a href=https://docs.rust-embedded.org/book/intro/no-std.html><code>no_std</code></a> compatible subset of Bevy which could be used on a much wider range of platforms.<p>The first very simple step is to enable a new set of lints:<ul><li><a href=https://rust-lang.github.io/rust-clippy/master/index.html#std_instead_of_core><code>std_instead_of_core</code></a><li><a href=https://rust-lang.github.io/rust-clippy/master/index.html#std_instead_of_alloc><code>std_instead_of_alloc</code></a><li><a href=https://rust-lang.github.io/rust-clippy/master/index.html#alloc_instead_of_core><code>alloc_instead_of_core</code></a></ul><p>For those unfamiliar with <code>no_std</code> Rust, the standard library, <code>std</code>, gets a lot of its functionality from two smaller crates, <a href=https://doc.rust-lang.org/core/><code>core</code></a> and <a href=https://doc.rust-lang.org/alloc/><code>alloc</code></a>. The <code>core</code> crate is available on every Rust target with very few exceptions, providing the fundamental infrastructure that the Rust language relies on, such as iterators, <code>Result</code>, and many more. Complementing that the <code>alloc</code> crate provides access to allocation-related functionality, such as <code>Vec</code>, <code>Box</code>, and <code>String</code>.<p>Rust's support for platforms follows a <a href=https://doc.rust-lang.org/rustc/platform-support.html>three tiered policy</a>, where tier 1 is guaranteed to work and will always provide the <code>std</code> crate, and tiers 2 and 3 <em>may</em> have the <code>std</code> crate, but often do not. The reason for this is some platforms simply don't support the features the <code>std</code> crate requires, such as a filesystem, networking, or threading.<p>But why should Bevy care about these platforms? When a new platform is added to Rust, it is often lacking tier 1 support. Even modern consoles such as the Nintendo Switch, PlayStation 5, or Xbox Series don't have tier 1 support due to non-disclosure agreements and platform specifics. Adding <code>no_std</code> support to Bevy will make it easier for commercial teams developing for these platforms to get started and stay up to date.<p>Beyond the commercially-relevant modern consoles, there is a vibrant community of embedded and retro enthusiasts developing for platforms that may never support the standard library. Crates such as <a href=https://crates.io/crates/agb><code>agb</code></a> and <a href=https://crates.io/crates/psx><code>psx</code></a> provide support for developing games on the GameBoy Advance and PlayStation One respectively. With <code>no_std</code> support in Bevy, users may be able to leverage the wider Rust ecosystem to run their software on these platforms.<p>We're still a while away from true <code>no_std</code> support in Bevy, but the first few changes have already been accepted, with many more lined up for the next release in 0.16.<p>If this work sounds interesting, check out the <a href=https://github.com/bevyengine/bevy/issues/15460><code>no_std</code> tracking issue</a> on GitHub, where you can find a list of pull requests, and even prototypes of Bevy running in <code>no_std</code> environments.<h2 id=gltfmaterialname-component><code>GltfMaterialName</code> Component <a class=anchor-link href=#gltfmaterialname-component>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Soulghost>@Soulghost</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13912>#13912</a></div></div><p>The glTF 3D model file format allows a single mesh to be associated with multiple materials. For example, a teapot may consist of a single mesh, yet each part may have a different material. When a single mesh is assigned multiple materials, it is divided into several primitive nodes, with each primitive assigned a unique material.<pre class="language-json z-code" data-lang=json><code class=language-json data-lang=json><span class="z-source z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-json">  </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>meshes<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-punctuation z-section z-sequence z-begin z-json">[</span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">    <span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-json">      </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>name<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>Cube<span class="z-punctuation z-definition z-string z-end z-json">"</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">      </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>primitives<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-punctuation z-section z-sequence z-begin z-json">[</span>
</span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">        <span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>attributes<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>POSITION<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">0</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>NORMAL<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">1</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>TEXCOORD_0<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">2</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>indices<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">3</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>material<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">0</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">        <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-sequence z-json">,</span>
</span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">        <span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>attributes<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>POSITION<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">4</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>NORMAL<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">5</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>TEXCOORD_0<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">6</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>indices<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">7</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>material<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">1</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">        <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-sequence z-json">,</span>
</span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">        <span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>attributes<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>POSITION<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">8</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>NORMAL<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">9</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>TEXCOORD_0<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">10</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>indices<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">11</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>material<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">2</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">        <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-sequence z-json">,</span>
</span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">        <span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>attributes<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-mapping z-json"><span class="z-punctuation z-section z-mapping z-begin z-json">{</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>POSITION<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">12</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>NORMAL<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">13</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span> </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>TEXCOORD_0<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">14</span> <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>indices<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">15</span><span class="z-punctuation z-separator z-mapping z-pair z-json">,</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">          </span><span class="z-meta z-mapping z-key z-json"><span class="z-string z-quoted z-double z-json"><span class="z-punctuation z-definition z-string z-begin z-json">"</span>material<span class="z-punctuation z-definition z-string z-end z-json">"</span></span></span><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-separator z-mapping z-key-value z-json">:</span> </span><span class="z-meta z-mapping z-value z-json"><span class="z-constant z-numeric z-integer z-decimal z-json">3</span>
</span></span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">        <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">      <span class="z-punctuation z-section z-sequence z-end z-json">]</span></span>
</span></span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json"><span class="z-meta z-mapping z-value z-json">    <span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-meta z-sequence z-json">  <span class="z-punctuation z-section z-sequence z-end z-json">]</span></span>
</span></span><span class="z-source z-json"><span class="z-meta z-mapping z-value z-json"><span class="z-punctuation z-section z-mapping z-end z-json">}</span></span>
</span></code></pre><p>In Bevy 0.14 and before, these primitives are named using the format "Mesh.Index", which complicates querying. A new component <a href=https://docs.rs/bevy/0.15/bevy/gltf/struct.GltfMaterialName.html>GltfMaterialName</a> is now added to each primitive node that has a material, letting you quickly look up the primitive by using this component with the material name.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">find_top_material_and_mesh</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">materials</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>StandardMaterial<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">meshes</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Mesh<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">time</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Time<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">mesh_materials</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-keyword z-operator z-rust">&</span><span class="z-meta z-generic z-rust">MeshMaterial3d<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>StandardMaterial<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-keyword z-operator z-rust">&</span>Mesh3d,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-keyword z-operator z-rust">&</span>GltfMaterialName,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mat_handle<span class="z-punctuation z-separator z-rust">,</span> mesh_handle<span class="z-punctuation z-separator z-rust">,</span> name</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>mesh_materials <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> locate the material and associated submesh by name
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> name<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-comparison z-rust">==</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Top<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">if</span> <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>material</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> materials<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mat_handle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">if</span> <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>mesh_handle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=gpu-readback>GPU Readback <a class=anchor-link href=#gpu-readback>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/tychedelia>@tychedelia</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15419>#15419</a></div></div><p>The new <code>Readback</code> component simplifies the tricky process of getting data back from the GPU to the CPU using an observer-based API.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Readback<span class="z-punctuation z-accessor z-rust">::</span></span>buffer<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>buffer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clone</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ReadbackComplete<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> data <span class="z-keyword z-operator z-assignment z-rust">=</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_shader_type</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Normally, manually retrieving data from the GPU involves a lot of boilerplate and careful management of GPU resources. You have to deal with synchronization, ensure the GPU has finished processing, and handle copying data between memory spacesâ€”which isnâ€™t straightforward!<p>The new <code>Readback</code> component streamlines this process. When spawned into the main world, <code>Readback</code> will queue a <code>Handle&LTImage></code> or <code>Handle&LTShaderStorageBuffer></code> to be asynchronously read and copied back from the GPU to CPU in a future frame where it will trigger a <code>ReadbackComplete</code> event containing the raw bytes of the resource.<p>This is especially useful for debugging, saving GPU-generated data, or performing CPU-side computations with results from the GPU. Itâ€™s perfect for scenarios where you need to analyze simulation data, capture rendered frames, or process large datasets on the GPU and retrieve the results for further use on the CPU.<h2 id=android-configurable-gameactivity-and-nativeactivity>Android: Configurable <code>GameActivity</code> and <code>NativeActivity</code> <a class=anchor-link href=#android-configurable-gameactivity-and-nativeactivity>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Litttlefish>@Litttlefish</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12095>#12095</a></div></div><p>Bevy now uses <code>GameActivity</code> as the default <code>Activity</code> for Android projects, replacing <code>NativeActivity</code>. <code>NativeActivity</code> is still available, but has been placed behind a feature flag.<p>This change updates Bevy to a more modern Android stack, and includes an SDK minimum version bump to <a href=https://developer.android.com/distribute/best-practices/develop/target-sdk>PlayStore's current version requirement</a>. We've also switched to a <a href=https://docs.rs/crate/cargo-ndk/3.5.4><code>cargo-ndk</code></a> based build, which gives us more control by default. Gradle projects for both <code>GameActivity</code> and <code>NativeActivity</code> are provided.<p><code>GameActivity</code> brings with it improvements to game interaction (<code>SurfaceView</code> rendering, improved touch and input handling), more frequent updates, and access to other parts of the <a href=https://developer.android.com/jetpack>JetPack</a> ecosystem. It is better placed to integrate with Rust code without excessive JNI wrangling. You can read more about <code>GameActivity</code> <a href=https://developer.android.com/games/agdk/game-activity>here</a>.<h2 id=reflection-serialization-improvements>Reflection Serialization Improvements <a class=anchor-link href=#reflection-serialization-improvements>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a>, <a class=heading-meta__item href=https://github.com/aecsocket>@aecsocket</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/8611>#8611</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15482>#15482</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15548>#15548</a>, <a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13888>#13888</a></div></div><h4 id=serialization-with-registry-context>Serialization with registry context</h4><p><a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/><code>bevy_reflect</code></a> provides a way to easily serialize and deserialize nearly any type that implement <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.Reflect.html><code>Reflect</code></a>. It does so by relying purely on the reflection APIs and the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/struct.TypeRegistry.html><code>TypeRegistry</code></a>, without having to know the type at compile-time.<p>However, sometimes serialization/deserialization for a type requires more explicit control. In such cases, a custom <code>Serialize</code>/<code>Deserialize</code> implementation can be provided by registering the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.ReflectSerialize.html><code>ReflectSerialize</code></a>/<a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/trait.ReflectDeserialize.html><code>ReflectDeserialize</code></a> type data for the type in the <code>TypeRegistry</code>.<p>This approach generally works well enough for most cases. However, sometimes you want to handle the case for your type alone and continue using reflection for the rest of the fields. For example, you might want to serialize your type as a map that includes a few extra entries, but you still want to use the reflection serializer for each value.<p>Unfortunately, not only does this not nest well within serializers, but it also means you need to manually capture a reference to the <code>TypeRegistry</code> so that you can pass it down to the nested reflection serializers. What this basically means is that you can't use custom logic along with reflection-based serialization.<p>Thankfully, Bevy 0.15 introduces the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/serde/trait.SerializeWithRegistry.html><code>SerializeWithRegistry</code></a> and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/serde/trait.DeserializeWithRegistry.html><code>DeserializeWithRegistry</code></a> traits, which work much like <code>Serialize</code> and <code>Deserialize</code> but with an additional <code>TypeRegistry</code> parameter. This allows you to perform your custom logic while still being able to continue using reflection for the rest.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">SerializeWithRegistry <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyType</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">serialize</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>S<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">serializer</span><span class="z-punctuation z-separator z-rust">:</span> S, <span class="z-variable z-parameter z-rust">registry</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>TypeRegistry</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust"><span class="z-storage z-type z-rust"><span class="z-storage z-type z-rust">S</span><span class="z-punctuation z-accessor z-rust">::</span></span></span><span class="z-support z-type z-rust">Ok</span>, <span class="z-meta z-path z-rust"><span class="z-storage z-type z-rust"><span class="z-storage z-type z-rust">S</span><span class="z-punctuation z-accessor z-rust">::</span></span></span>Error<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-return-type z-rust">    </span></span><span class="z-meta z-function z-rust"><span class="z-keyword z-other z-rust">where</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">        S<span class="z-punctuation z-separator z-rust">:</span> Serializer,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> state <span class="z-keyword z-operator z-assignment z-rust">=</span> serializer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">serialize_map</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-type z-rust">None</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...custom logic...
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        state<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">serialize_entry</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">            <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>data<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Continue using reflection-based serialization
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">            <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-path z-rust">ReflectSerializer<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">                <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>data<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">                registry<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        state<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">end</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>With your custom serialization and deserialization logic in place, you can then register the <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/serde/trait.ReflectSerializeWithRegistry.html><code>ReflectSerializeWithRegistry</code></a> and <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/serde/trait.ReflectDeserializeWithRegistry.html><code>ReflectDeserializeWithRegistry</code></a> type data for your type to have the reflection serializer/deserializer make use of your custom logic for all instances of your type.<h4 id=reflect-de-serializer-processors>Reflect de/serializer processors</h4><p>Alongside <code>SerializeWithRegistry</code> and <code>DeserializeWithRegistry</code>, a new tool has been added for users who use the reflect machinery for de/serialization. When using the <code>ReflectSerializer</code> or <code>ReflectDeserializer</code>, you can now use <code>with_processor</code> and pass in a <em>de/serializer processor</em>. This processor allows you to override the de/serialization logic for specific values and specific types, while also capturing any context you might need inside the processor itself.<p>The motivating example for this is being able to deserialize <code>Handle&LTT></code>s properly inside an asset loader when reflect-deserializing. Let's imagine that we have an asset that looks like this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Debug<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">AnimationGraph</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">nodes</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Box</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>dyn AnimationNode<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-storage z-type z-trait z-rust">trait</span> <span class="z-entity z-name z-trait z-rust">AnimationNode</span>: Send + Sync + Reflect <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> .. <span class="z-punctuation z-definition z-comment z-rust">*/</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Debug<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">ClipNode</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">clip</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AnimationClip<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">AnimationNode <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">ClipNode</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> .. <span class="z-punctuation z-definition z-comment z-rust">*/</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Debug<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">AdjustSpeedNode</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">speed_multiplier</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">AnimationNode <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">AdjustSpeedNode</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> .. <span class="z-punctuation z-definition z-comment z-rust">*/</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><pre class="language-ron z-code" data-lang=ron><code class=language-ron data-lang=ron><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-punctuation z-section z-dictionary z-begin z-ron">(</span>
</span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron">    <span class="z-entity z-name z-tag z-ron">animation_graph</span><span class="z-punctuation z-separator z-dictionary z-key-value z-ron">:</span> <span class="z-meta z-structure z-entity z-ron"><span class="z-punctuation z-section z-dictionary z-begin z-ron">(</span>
</span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron">        <span class="z-entity z-name z-tag z-ron">nodes</span><span class="z-punctuation z-separator z-dictionary z-key-value z-ron">:</span> <span class="z-meta z-structure z-array z-ron"><span class="z-punctuation z-section z-array z-begin z-ron">[</span>
</span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron">            <span class="z-meta z-structure z-dictionary z-ron"><span class="z-punctuation z-section z-dictionary z-begin z-ron">{</span>
</span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron">                <span class="z-string z-quoted z-double z-ron"><span class="z-punctuation z-definition z-string z-begin z-ron">"</span>my_app::animation::node::ClipNode<span class="z-punctuation z-definition z-string z-end z-ron">"</span></span><span class="z-punctuation z-separator z-dictionary z-key-value z-ron">:</span> <span class="z-meta z-structure z-entity z-ron"><span class="z-punctuation z-section z-dictionary z-begin z-ron">(</span>
</span></span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron"><span class="z-meta z-structure z-entity z-ron">                    <span class="z-entity z-name z-tag z-ron">clip</span><span class="z-punctuation z-separator z-dictionary z-key-value z-ron">:</span> <span class="z-string z-quoted z-double z-ron"><span class="z-punctuation z-definition z-string z-begin z-ron">"</span>animations/run.anim.ron<span class="z-punctuation z-definition z-string z-end z-ron">"</span></span><span class="z-punctuation z-separator z-dictionary z-ron">,</span>
</span></span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron"><span class="z-meta z-structure z-entity z-ron">                <span class="z-punctuation z-section z-dictionary z-end z-ron">)</span></span>
</span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron">            <span class="z-punctuation z-section z-dictionary z-end z-ron">}</span></span><span class="z-punctuation z-separator z-array z-ron">,</span>
</span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron">            <span class="z-meta z-structure z-dictionary z-ron"><span class="z-punctuation z-section z-dictionary z-begin z-ron">{</span>
</span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron">                <span class="z-string z-quoted z-double z-ron"><span class="z-punctuation z-definition z-string z-begin z-ron">"</span>my_app::animation::node::AdjustSpeedNode<span class="z-punctuation z-definition z-string z-end z-ron">"</span></span><span class="z-punctuation z-separator z-dictionary z-key-value z-ron">:</span> <span class="z-meta z-structure z-entity z-ron"><span class="z-punctuation z-section z-dictionary z-begin z-ron">(</span>
</span></span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron"><span class="z-meta z-structure z-entity z-ron">                    <span class="z-entity z-name z-tag z-ron">speed_multiplier</span><span class="z-punctuation z-separator z-dictionary z-key-value z-ron">:</span> <span class="z-constant z-numeric z-ron">1.5</span><span class="z-punctuation z-separator z-dictionary z-ron">,</span>
</span></span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron"><span class="z-meta z-structure z-entity z-ron">                <span class="z-punctuation z-section z-dictionary z-end z-ron">)</span></span>
</span></span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron"><span class="z-meta z-structure z-dictionary z-ron">            <span class="z-punctuation z-section z-dictionary z-end z-ron">}</span></span>
</span></span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-array z-ron">        <span class="z-punctuation z-section z-array z-end z-ron">]</span></span>
</span></span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-meta z-structure z-entity z-ron">    <span class="z-punctuation z-section z-dictionary z-end z-ron">)</span></span>
</span></span><span class="z-source z-ron"><span class="z-meta z-structure z-entity z-ron"><span class="z-punctuation z-section z-dictionary z-end z-ron">)</span></span>
</span></code></pre><p>When we write an <code>AssetLoader</code> for this <code>AnimationGraph</code>, we have access to a <code>&mut LoadContext</code> which we can use to start new asset load operations, and get a <code>Handle</code> to that asset. We can also use the existing <code>ReflectDeserializer</code> to deserialize <code>Box&LTdyn AnimationNode></code>s. However, when the deserializer encounters a <code>Handle&LTAnimationClip></code>, this will be deserialized as <code>Handle::default</code> and no asset load will be kicked off, making the handle useless.<p>With a <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/serde/trait.ReflectDeserializerProcessor.html><code>ReflectDeserializerProcessor</code></a>, we can pass in a processor which captures the <code>&mut LoadContext</code> and, if it encounters a <code>Handle&LTT></code>, it will kick off an asset load for <code>T</code>, and assigns the result of that load to the field it's deserializing.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-generic z-rust"><span class="z-entity z-name z-struct z-rust">HandleProcessor</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span></span><span class="z-meta z-struct z-rust"> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">load_context</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span> <span class="z-storage z-modifier z-rust">mut</span> LoadContext,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">ReflectDeserializerProcessor <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">HandleProcessor</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>'<span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">try_deserialize</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-modifier z-lifetime z-rust">'de</span>, D<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">registration</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>TypeRegistration,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">_registry</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>TypeRegistry,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">deserializer</span><span class="z-punctuation z-separator z-rust">:</span> D,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Box</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>dyn PartialReflect<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, D<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-meta z-path z-rust"><span class="z-storage z-type z-rust"><span class="z-storage z-type z-rust">D</span><span class="z-punctuation z-accessor z-rust">::</span></span></span>Error<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-return-type z-rust">    </span></span><span class="z-meta z-function z-rust"><span class="z-keyword z-other z-rust">where</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">        D<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Deserializer<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-modifier z-lifetime z-rust">'de</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>reflect_handle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> registration<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">data<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ReflectHandle<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> we don't want to deserialize this - give the deserializer back
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> and do default deserialization logic
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">return</span> <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-type z-rust">Err</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>deserializer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> asset_type_id <span class="z-keyword z-operator z-assignment z-rust">=</span> reflect_handle<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">asset_type_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> asset_path <span class="z-keyword z-operator z-assignment z-rust">=</span> deserializer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">deserialize_str</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>AssetPathVisitor</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> handle<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>LoadedUntypedAsset<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>load_context
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">loader</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_dynamic_type</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>asset_type_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>asset_path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-type z-rust">Box</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>handle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Combined with <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/serde/trait.ReflectSerializerProcessor.html><code>ReflectSerializerProcessor</code></a>, this can be used to round-trip <code>Handle</code>s to/from string asset paths.<p>The processors take priority over all other serde logic, including <code>De/SerializeWithRegistry</code>, so it can be used to override any reflect serialization logic.<h4 id=contextual-serialization-errors>Contextual Serialization Errors</h4><p>Sometimes when working with the reflection serializer and deserializer, it can be difficult to track down the source of an error. Since we can't tell whether a type can be serialized or not until runtime, an un-serializable type might slip into a type that is supposed to be serializable.<p>In Bevy 0.15, a new default <a href=https://docs.rs/bevy_reflect/0.15/bevy_reflect/index.html#debug><code>debug</code></a> feature has been added to the <code>bevy_reflect</code> crate, which allows the serializers and deserializers to retain contextual information in order to provide the type's "stack" when an error occurs.<p>These messages can be used to more easily track down the source of the error:<pre class=z-code><code><span class="z-text z-plain">type `bevy_utils::Instant` did not register the `ReflectSerialize` type data. For certain types, this may need to be registered manually using `register_type_data` (stack: `bevy_time::time::Time&LTbevy_time::real::Real>` -> `bevy_time::real::Real` -> `bevy_utils::Instant`)
</span></code></pre><h2 id=simplified-multi-entity-access>Simplified Multi-Entity Access <a class=anchor-link href=#simplified-multi-entity-access>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/ItsDoot>@ItsDoot</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15614>#15614</a></div></div><p>When using some of the more advanced features of Bevy's ECS, like hooks or exclusive systems, it's common to want to fetch entities straight out of a <code>World</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">component</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">on_add <span class="z-keyword z-operator z-rust">=</span> on_foo_added</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Foo</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_foo_added</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">:</span> DeferredWorld, <span class="z-variable z-parameter z-rust">entity</span><span class="z-punctuation z-separator z-rust">:</span> Entity, <span class="z-keyword z-operator z-rust">_</span>: ComponentId</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> has_foo <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span><span class="z-constant z-other z-placeholder z-rust">{:?}</span> has a Foo<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> has_foo<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>In previous versions of Bevy, you could grab multiple entities from a <code>World</code> using a variety of different functions:<ul><li><code>World::many_entities&LTN>(&self, [Entity; N]) -> [EntityRef; N]</code><li><code>World::many_entities_mut&LTN>(&mut self, [Entity; N]) -> [EntityMut; N]</code><li><code>World::get_many_entities&LTN>(&self, [Entity; N]) -> Result<[EntityRef; N], Entity></code><li><code>World::get_many_entities_dynamic(&self, &[Entity]) -> Result&LTVec&LTEntityRef>, Entity></code><li><code>World::get_many_entities_mut&LTN>(&mut self, [Entity; N]) -> Result<[EntityMut; N], QueryEntityError></code><li><code>World::get_many_entities_dynamic_mut(&self, &[Entity]) -> Result&LTVec&LTEntityMut>, QueryEntityError></code><li><code>World::get_many_entities_from_set_mut(&mut self, &EntityHashSet) -> Result&LTVec&LTEntityMut>, QueryEntityError></code></ul><p>As you can see, that's a lot of functions with very long names! But the gist of them is that we want to support the ability to give a bunch of entity IDs, and receive a bunch of entity references. Surely there's a better way!<p>In <code>0.15</code>, all of those functions have been deprecated and now all you need is the panicking <code>World::entity</code>/<code>World::entity_mut</code> or the non-panicking <code>World::get_entity</code>/<code>World::get_entity_mut</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> e1<span class="z-punctuation z-separator z-rust">:</span> Entity <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_empty</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> e2<span class="z-punctuation z-separator z-rust">:</span> Entity <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn_empty</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Note: use World::get_entity or World::get_entity_mut instead to receive a Result
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> You can still pass a single ID as normal:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> eref <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>e1</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>  
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> emut <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>e1</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> But you can also pass in an array of IDs (any amount N supported!):
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>eref1<span class="z-punctuation z-separator z-rust">,</span> eref2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>EntityRef<span class="z-punctuation z-separator z-rust">;</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">2</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>e1<span class="z-punctuation z-separator z-rust">,</span> e2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>emut1<span class="z-punctuation z-separator z-rust">,</span> emut2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>EntityMut<span class="z-punctuation z-separator z-rust">;</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">2</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>e1<span class="z-punctuation z-separator z-rust">,</span> e2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or a slice of IDs:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> ids <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-macro z-rust">vec!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>e1<span class="z-punctuation z-separator z-rust">,</span> e2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> eref_vec<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EntityRef<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>ids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> emut_vec<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EntityMut<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>ids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or even a set of IDs:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> ids <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">EntityHashSet<span class="z-punctuation z-accessor z-rust">::</span></span>from_iter<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>e1<span class="z-punctuation z-separator z-rust">,</span> e2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> eref_map<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EntityHashMap<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EntityRef<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>ids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> emut_map<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EntityHashMap<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EntityMut<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>ids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>It might <em>feel</em> like magic, but it's all standard Rust code! The <code>Entity</code> id parameter that the <code>World::entity</code> family of functions accept was changed to instead accept anything that implements a newly introduced trait: <a href=https://docs.rs/bevy/0.15/bevy/ecs/world/trait.WorldEntityFetch.html><code>WorldEntityFetch</code></a>. Check out the trait and <a href=https://docs.rs/bevy/0.15/bevy/ecs/prelude/struct.World.html#method.entity><code>World::entity</code></a> to learn more about how it was accomplished.<h2 id=hierarchy-traversal-tools>Hierarchy Traversal Tools <a class=anchor-link href=#hierarchy-traversal-tools>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/15627>#15627</a></div></div><p>We've spruced up the <a href=https://docs.rs/bevy/0.15/bevy/hierarchy/trait.HierarchyQueryExt.html><code>HierarchyQueryExt</code></a> <a href=https://rust-lang.github.io/rfcs/0445-extension-trait-conventions.html>extension trait</a>, making it easier to traverse entity hierarchies defined by the <a href=https://docs.rs/bevy/0.15/bevy/hierarchy/struct.Parent.html><code>Parent</code></a> and <a href=https://docs.rs/bevy/0.15/bevy/hierarchy/struct.Children.html><code>Children</code></a> components.<p>The full set of methods is now:<ul><li><code>parent</code> (new)<li><code>children</code> (new)<li><code>root_ancestor</code> (new)<li><code>iter_leaves</code> (new)<li><code>iter_siblings</code> (new)<li><code>iter_descendants</code><li><code>iter_descendants_depth_first</code> (new)<li><code>iter_ancestors</code></ul><p>All of these operations were previously possible, but we hope that this API makes working with hierarchies more pleasant, especially for UI and animation.<h2 id=shader-storage-buffer-asset>Shader Storage Buffer Asset <a class=anchor-link href=#shader-storage-buffer-asset>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/tychedelia>@tychedelia</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14663>#14663</a></div></div><p>A new asset <code>ShaderStorageBuffer</code> has been added to simplify working with storage buffers in custom materials and compute shaders. Storage buffers are large, GPU-accessible memory buffers designed for storing data that can be read from or written to by shaders. Unlike smaller, more restricted uniform buffers, storage buffers allow you to store large amounts of data, making them perfect for general purpose tasks where large datasets need to be processed. Examples include managing complex data in physics simulations (like particle systems), holding the transformation data for thousands of objects in a scene, or storing procedural geometry information for dynamic terrain generation. Storage buffers are particularly useful when different stages of the rendering pipeline (such as compute shaders and rendering passes) need to share and update large amounts of data efficiently.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Asset<span class="z-punctuation z-separator z-rust">,</span> TypePath<span class="z-punctuation z-separator z-rust">,</span> AsBindGroup<span class="z-punctuation z-separator z-rust">,</span> Debug<span class="z-punctuation z-separator z-rust">,</span> Clone</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">CustomMaterial</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">storage</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">0<span class="z-punctuation z-separator z-rust">,</span> read_only</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">colors</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ShaderStorageBuffer<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">buffers</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ShaderStorageBuffer<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">materials</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>CustomMaterial<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Example data for the storage buffer
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> color_data<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-separator z-rust">;</span></span> <span class="z-constant z-numeric z-integer z-decimal z-rust">4</span><span class="z-punctuation z-section z-group z-end z-rust">]</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-macro z-rust">vec!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> colors <span class="z-keyword z-operator z-assignment z-rust">=</span> buffers<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">ShaderStorageBuffer<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>color_data</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create the custom material with the storage buffer
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> custom_material <span class="z-keyword z-operator z-assignment z-rust">=</span> CustomMaterial <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> colors </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    materials<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>custom_material</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>By declaring <code>Handle&LTShaderStorageBuffer></code> on the material using <code>AsBindGroup</code>, this buffer can now be accessed in the shader:<pre class="language-wgsl z-code" data-lang=wgsl><code class=language-wgsl data-lang=wgsl><span class="z-source z-wgsl"><span class="z-punctuation z-attribute z-wgsl">@</span><span class="z-entity z-other z-attribute z-wgsl">group</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-constant z-numeric z-decimal z-int z-wgsl">2</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span> <span class="z-punctuation z-attribute z-wgsl">@</span><span class="z-entity z-other z-attribute z-wgsl">binding</span><span class="z-punctuation z-brackets z-round z-wgsl">(</span><span class="z-constant z-numeric z-decimal z-int z-wgsl">0</span><span class="z-punctuation z-brackets z-round z-wgsl">)</span> <span class="z-keyword z-other z-declarations-and-types z-wgsl">var</span><span class="z-punctuation z-brackets z-angle z-wgsl"><</span><span class="z-variable z-other z-wgsl">storage</span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-variable z-other z-wgsl">read</span><span class="z-punctuation z-brackets z-angle z-wgsl">></span> <span class="z-variable z-other z-wgsl">colors</span><span class="z-keyword z-operator z-type z-annotation z-wgsl">:</span> <span class="z-storage z-type z-wgsl">array</span><span class="z-punctuation z-brackets z-angle z-wgsl"><</span><span class="z-storage z-type z-vectors z-wgsl">vec4</span><span class="z-punctuation z-brackets z-angle z-wgsl"><</span><span class="z-storage z-type z-floating-point z-wgsl">f32</span><span class="z-punctuation z-brackets z-angle z-wgsl">></span><span class="z-punctuation z-comma z-wgsl">,</span> <span class="z-constant z-numeric z-decimal z-int z-wgsl">5</span><span class="z-punctuation z-brackets z-angle z-wgsl">></span><span class="z-punctuation z-semi z-wgsl">;</span>
</span></code></pre><h2 id=accumulated-mouse-inputs>Accumulated Mouse Inputs <a class=anchor-link href=#accumulated-mouse-inputs>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Aztro-dev>@Aztro-dev</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/14044>#14044</a></div></div><p>"How much has the player moved their mouse this frame" is a natural question for games when the player is trying to aim or scroll a map. Unfortunately, the operating system, and thus <a href=https://docs.rs/winit/latest/winit/><code>winit</code></a>, only provides us with a stream of events, in the form of individual <a href=https://docs.rs/bevy/0.15.0/bevy/input/mouse/struct.MouseMotion.html><code>MouseMotion</code></a> events.<p>To get the summarized information (and the equivalent <a href=https://docs.rs/bevy/0.15.0/bevy/input/mouse/struct.MouseScroll.html><code>MouseScroll</code></a>) information that most game systems care about, you had to sum them yourself.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">accumulate_mouse_motion_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">mouse_motion_event</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventReader<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MouseMotion<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">accumulated_mouse_motion</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AccumulatedMouseMotion<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> delta <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> event <span class="z-keyword z-operator z-rust">in</span> mouse_motion_event<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        delta <span class="z-keyword z-operator z-assignment z-rust">+=</span> event<span class="z-punctuation z-accessor z-dot z-rust">.</span>delta<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    accumulated_mouse_motion<span class="z-punctuation z-accessor z-dot z-rust">.</span>delta <span class="z-keyword z-operator z-assignment z-rust">=</span> delta<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Bevy now does this for you, exposed in the new <a href=https://docs.rs/bevy/0.15.0/bevy/input/mouse/struct.AccumulatedMouseMotion.html><code>AccumulatedMouseMotion</code></a> and <a href=https://docs.rs/bevy/0.15.0/bevy/input/mouse/struct.AccumulatedMouseScroll.html><code>AccumulatedMouseScroll</code></a> resources.<h2 id=stable-interpolation-and-smooth-following>Stable Interpolation and Smooth Following <a class=anchor-link href=#stable-interpolation-and-smooth-following>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13741>#13741</a></div></div><p>When animating cameras or programming unit AI (not that kind of AI!), moving something continuously towards a target is an essential basic operation. Simply <a href=https://en.wikipedia.org/wiki/Linear_interpolation>lerping</a> to the target seems easy enough, but as <a href="https://www.youtube.com/watch?v=LSNQuFEDOyQ">Freya Holmer explains</a>, making sure that this interpolation is timestep independent is both vital and surprisingly tricky.<p>We've done the math for you; you just need to use the <a href=https://docs.rs/bevy/0.15/bevy/math/trait.StableInterpolate.html><code>StableInterpolate</code></a> trait's <code>interpolate_stable</code> and <code>smooth_nudge</code> methods and tune the <code>decay_rate</code> parameter to really optimize your <em>game feel</em>. Fear not: it even works on quaternions! Stable, smooth camera controllers have never been easier.<h2 id=what-s-next>What's Next? <a class=anchor-link href=#what-s-next>#</a></h2><p>The features above may be great, but what else does Bevy have in flight? Peering deep into the mists of time (predictions are <em>extra</em> hard when your team is almost all volunteers!), we can see some exciting work taking shape:<ul><li><strong>Bevy Scene Notation:</strong> Required components mark the first step on Cart's <a href=https://github.com/bevyengine/bevy/discussions/14437>master plan</a> for BSN. Over the next few months, he's going to be heads-down developing a Bevy-specific file format (complete with matching macro and IDE support), the <code>Construct</code> trait (to easily include asset data in scenes), patches (to layer modifications to scenes) and experimenting with approaches to reactivity for UI.<li><strong>Better font support:</strong> While <code>cosmic_text</code> is a huge leap forward for text shaping and rendering, our approach to handling fonts and type-faces is still quite crude. Bidirectional text, working with system fonts, a convenient Markdown-style "bold this section of the text" API, font fallback and more are planned.<li><strong>Picking-Powered UI Interaction:</strong> <code>bevy_picking</code> introduces a much more powerful and expressive way to handle pointer interactions, but we're <a href=https://github.com/bevyengine/bevy/issues/15550>not leveraging its full power</a> within <code>bevy_ui</code> itself. While picking events are great, a single source of truth for "what's the user doing with this button" is vital for responsive widget styling.<li><strong><code>bevy_lint</code>:</strong> Try as we might, it <em>is</em> possible to misuse Bevy's API! As part of a broader <a href=https://github.com/theBevyFlock/bevy_cli><code>bevy_cli</code></a> project, the Bevy community has developed a Bevy-specific linter to catch common mistakes or hazards and are looking for early adopters to try it out!<li><strong>Focus abstraction:</strong> Keeping track of which UI element is focused is vital to allow users of screen readers, gamepads and keyboards to comfortably navigate the UI. We're planning to build on our success with <code>bevy_picking</code> and develop a complementary <a href=https://github.com/bevyengine/bevy/issues/15378>focus-tracking solution</a>, along with a few simple backends to opt-in to keyboard or gamepad-based UI navigation.<li><strong>Immutable components:</strong> Component hooks and observers are really powerful for responding to changes and upholding invariants, but they're easily bypassed by simply mutating the component. The mad science crew has been <a href=https://github.com/bevyengine/bevy/issues/16208>experimenting with</a> a way to opt-out of direct mutation, opening the door to more robust hierarchies, complex observer-powered reactions and a first-party component indexing solution.<li><strong>Actually Retained Rendering:</strong> While the render world is <em>technically</em> retained in Bevy 0.15, most of our existing code still spawns and despawns entities every frame to reduce the risk of introducing bugs during the migration. We're looking forward to gradually changing this and profiling the performance impact!<li><strong><code>no_std</code> Bevy:</strong> To better support weird platforms (like the <a href=https://play.date/>Playdate</a>!) and make life easier for devs experimenting with Bevy on modern consoles, we've been <a href=https://github.com/bevyengine/bevy/issues/15460>working towards</a> ensuring that (much of) Bevy can compile and run without Rust's standard library.</ul><h2 id=support-bevy>Support Bevy <a class=anchor-link href=#support-bevy>#</a></h2><p>Bevy will always be free and open-source, but it isn't free to make! Because Bevy is free, we rely on the generosity of the Bevy community to fund our efforts. If you are a happy user of Bevy or you believe in our mission, please consider <a href=/donate>donating to the Bevy Foundation</a>... every bit helps!<p><a class="button button--pink" href=/donate>Donate <img alt="heart icon" class=button__icon src=/assets/heart.svg></a><h2 id=contributors>Contributors <a class=anchor-link href=#contributors>#</a></h2><p>A huge thanks to the 294 contributors that made this release (and associated docs) possible! In random order:<ul class=contributors><li>@Gingeh<li>@cBournhonesque<li>@benfrankel<li>@SarthakSingh31<li>@ItsDoot<li>@kornelski<li>@NiklasEi<li>@adrylain<li>@TrialDragon<li>@lubomirkurcak<li>@BD103<li>@eero-lehtinen<li>@TheDudeFromCI<li>@PPakalns<li>@mirsella<li>@seabassjh<li>@Bluefinger<li>@mamekoro<li>@K-JBoon<li>@jatimix<li>@esensar<li>@Sigma-dev<li>@kristoff3r<li>@jpetkau<li>@rewin123<li>@Jondolf<li>@mrchantey<li>@aevyrie<li>@mockersf<li>@lee-orr<li>@barsoosayque<li>@Azorlogh<li>@databasedav<li>@tychedelia<li>@DataTriny<li>@bugsweeper<li>@jakeswenson<li>@awtterpip<li>@recatek<li>@fernanlukban<li>@ActuallyHappening<li>@doup<li>@Shatur<li>@mahkoh<li>@dmyyy<li>@Victoronz<li>@freiksenet<li>@Litttlefish<li>@dragostis<li>@papow65<li>@rudderbucky<li>@dmlary<li>@DasLixou<li>@doonv<li>@Lubba-64<li>@long-long-float<li>@theredfish<li>@LiamGallagher737<li>@luca-della-vedova<li>@soqb<li>@NiseVoid<li>@SludgePhD<li>@pcwalton<li>@simbleau<li>@bes<li>@Trashtalk217<li>@clarfonthey<li>@johannesvollmer<li>@fluffiac<li>@miniex<li>@Zeenobit<li>@coreh<li>@sampettersson<li>@villor<li>@hut<li>@ickk<li>@vladinator1000<li>@NWPlayer123<li>@AndrewDanial<li>@nealtaylor98<li>@andristarr<li>@gagnus<li>@flash-freezing-lava<li>@ickshonpe<li>@Aztro-dev<li>@NthTensor<li>@cactusdualcore<li>@Cioraz<li>@SOF3<li>@spacemen0<li>@LucDrenth<li>@bytemunch<li>@Dimchikkk<li>@LikeLakers2<li>@djeedai<li>@wiggleforlife<li>@IsseW<li>@CupOfTeaJay<li>@johanhelsing<li>@oceantume<li>@foxzool<li>@SpecificProtagonist<li>@Dentosal<li>@Wcubed<li>@torsteingrindvik<li>@tbillington<li>@GuillaumeGomez<li>@james-j-obrien<li>@JohnTheCoolingFan<li>@bushrat011899<li>@Vrixyz<li>@blazepaws<li>@Chubercik<li>@s-puig<li>@ecoskey<li>@nilsiker<li>@Katsutoshii<li>@ChosenName<li>@dpeke<li>@chendaohan<li>@Elabajaba<li>@mgi388<li>@hamirmahal<li>@nixpulvis<li>@AFKessen<li>@jnhyatt<li>@dav-wolff<li>@dependabot[bot]<li>@Nilirad<li>@imrn99<li>@YohDeadfall<li>@thebluefish<li>@bash<li>@nicoburns<li>@VitalyAnkh<li>@atornity<li>@SkiFire13<li>@JMS55<li>@Octorine<li>@theotherphil<li>@eidloi<li>@FastestMolasses<li>@tom-frantz<li>Mason Kramer<li>@hooded-shrimp<li>@thatchedroof<li>@mintlu8<li>@brandon-reinhart<li>@hymm<li>@StarArawn<li>@venhelhardt<li>@re0312<li>@crvarner<li>@13ros27<li>@Luminoth<li>@Luracasmus<li>@Wuketuke<li>@AlexanderStein<li>@IceSentry<li>@zeux<li>@mweatherley<li>@Henauxg<li>@icorbrey<li>@m-edlund<li>@joshka<li>@wduminy<li>@JoNil<li>@JoJoJet<li>@alphastrata<li>@Earthmark<li>@Kanabenki<li>@Kees-van-Beilen<li>@BigWingBeat<li>@MiniaczQ<li>@cart<li>@akimakinai<li>@CrazyRoka<li>@james7132<li>@Jenya705<li>@Soulghost<li>@NotAFile<li>@aecsocket<li>@jrobsonchase<li>@Brezak<li>@CrazyboyQCD<li>@Friz64<li>@tjlaxs<li>@masonk<li>@janhohenheim<li>@callym<li>@lynn-lumen<li>@chronicl<li>WX\shixi<li>@moOsama76<li>@rparrett<li>@EdJoPaTo<li>@jirisvd<li>@UkoeHB<li>@GauravTalreja<li>@tigregalis<li>@ayamaev-se<li>@MonaMayrhofer<li>@ndarilek<li>@grind086<li>@andresovela<li>@notmd<li>@mrtracy<li>@Coder-Joe458<li>@StrikeForceZero<li>@wilk10<li>@kivi<li>@mrgzi<li>@ramon-bernardo<li>@chescock<li>@killercup<li>@msvbg<li>@LoweredgamesDev<li>@DragonGamesStudios<li>Luc Drenth<li>@tomi-font<li>@nicopap<li>@navneetankur<li>@MarcoMeijer<li>@brianreavis<li>@ChristopherBiscardi<li>@no-materials<li>@MScottMcBee<li>@rafalh<li>@Nihilistas<li>@komadori<li>@nsarlin<li>@targrub<li>@tomara-x<li>@andriyDev<li>@chompaa<li>@alice-i-cecile<li>@inodentry<li>@ThomasAlban<li>@HackerFoo<li>@atlv24<li>@Shfty<li>@TotalKrill<li>@RobWalt<li>@Adamkob12<li>@BenjaminBrienen<li>@FarmingtonS9<li>@richchurcher<li>@roblesch<li>@Piefayth<li>@Dokkae6949<li>@pablo-lua<li>@KirmesBude<li>@daxpedda<li>@robtfm<li>@Wiwip<li>@JJJimbo1<li>@MrGVSV<li>@tim-blackbird<li>@therealbnut<li>@superdump<li>@patrickariel<li>@AllenPocketGamer<li>@Neo-Zhixing<li>@kettei-sproutty<li>@ldubos<li>@IQuick143<li>@mnmaita<li>@WillTheCodeWork<li>@futile<li>@CatThingy<li>@maslabgamer<li>@ShoyuVanilla<li>@Shadowcat650<li>@yrns<li>@shanecelis<li>@extrawurst<li>@Stanleeeeey<li>@JaySpruce<li>@jdm<li>@hexroll<li>@matiqo15<li>@Sorseg<li>@TurtIeSocks<li>@eckz<li>@stepancheg<li>Fernan Lukban<li>@kumikaya<li>@chrisjuchem<li>@jgayfer<li>@BlakeBedford<li>@cryscan<li>@Niashi24<li>@urben1680<li>@BobG1983</ul><h2 id=full-changelog>Full Changelog <a class=anchor-link href=#full-changelog>#</a></h2><p>The changes mentioned above are only the most appealing, highest impact changes that we've made this cycle. Innumerable bug fixes, documentation changes and API usability tweaks made it in too. For a complete list of changes, check out the PRs listed below.<h3 id=accessibility>Accessibility <a class=anchor-link href=#accessibility>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16234><p>Bump accesskit and accesskit_winit.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16418><p>Properly set accessible value on label nodes</p> </a></ul><h3 id=accessibility-reflection>Accessibility + Reflection <a class=anchor-link href=#accessibility-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15192><p>Reflected traits for resources and components: bevy_a11y</p> </a></ul><h3 id=accessibility-rendering>Accessibility + Rendering <a class=anchor-link href=#accessibility-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13828><p>Add first person view model example</p> </a></ul><h3 id=accessibility-ui>Accessibility + UI <a class=anchor-link href=#accessibility-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13841><p>Update accesskit and accesskit_winit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14091><p>Bump <code>accesskit</code> to 0.16</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14763><p>Add <code>Reflect</code> derive to <code>bevy_a11y::Focus</code></p> </a></ul><h3 id=animation>Animation <a class=anchor-link href=#animation>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13736><p>Make the component types of the new animation players clonable.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14104><p>Added <code>get_main_animation</code> for <code>AnimationTransitions</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14387><p>Deprecate <code>is_playing_animation</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14344><p>Fix single keyframe animations.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14411><p>Fix repeated animation transition bug</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14546><p>Make <code>AnimationPlayer::start</code> and <code>::play</code> work accordingly to documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14743><p>apply finished animations</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14914><p>Make ActiveAnimation::set_weight return &mut Self</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14853><p>Add <code>AnimationGraph::from_clips</code> and simplify <code>animated_fox</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14983><p>Reorganize some of <code>bevy_animation</code>'s imports into a more consistent style</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14979><p>Don't require going through <code>bevy_animation::prelude</code> to get to certain items in <code>bevy_animation</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15013><p>Implement animation masks, allowing fine control of the targets that animations affect.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15424><p>feature gate <code>use bevy_animation</code> in <code>bevy_gltf</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15413><p>Include AnimationTarget directly in the animation query rather than reading it through the EntityMut</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15598><p>Remove <code>TransformCurve</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15589><p>Impose a more sensible ordering for animation graph evaluation.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15642><p>Remove bevy_animation dependency on bevy_text</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15631><p>Implement additive blending for animation graphs.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15662><p>Fix additive blending of quaternions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15538><p>Add Support for Triggering Events via <code>AnimationEvent</code>s</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15677><p>Don't trigger animation events when paused</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15682><p>Don't trigger animation events when paused 2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15689><p>Fixes to animation graph evaluation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15742><p>Replace <code>Handle&amplt;AnimationGraph&ampgt;</code> component with a wrapper</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15780><p>Remove <code>thiserror</code> from <code>bevy_animation</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15831><p>Make <code>AnimatableCurve::curve</code> public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15860><p>Some animation doc improvements</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15996><p>Fix <code>animation_masks</code> example's buttons</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16036><p>Replace TwoIterators with Either in bevy_animation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16121><p>Undeprecate is_playing_animation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16173><p>Remove the invalid system ordering in the animation example.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16279><p>Incorporate all node weights in additive blending</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16440><p>AnimationEvent -> Event and other improvements</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16484><p>AnimatedField and Rework Evaluators</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16542><p>Fix newline in AnimationEvaluationState docs</p> </a></ul><h3 id=animation-ecs-reflection-ui>Animation + ECS + Reflection + UI <a class=anchor-link href=#animation-ecs-reflection-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14259><p>Add some missing reflect attributes</p> </a></ul><h3 id=animation-math>Animation + Math <a class=anchor-link href=#animation-math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14019><p>Remove unnecessary compute for rotation interpolation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15434><p>Curve-based animation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14788><p>add curve utilities to create curves interpolating/easing between two values</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15620><p>Eliminate redundant clamping from sample-interpolated curves</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15675><p>Add most common interpolations</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15703><p>add example for ease functions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15706><p>fix some of the ease functions from interpolation</p> </a></ul><h3 id=animation-reflection>Animation + Reflection <a class=anchor-link href=#animation-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15209><p>Reflect derived traits on all components and resources: bevy_animation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15282><p>Allow animation clips to animate arbitrary properties.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15495><p>Simplify <code>AnimatableProperty::Property</code> trait bounds</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16476><p>Fix dynamic linking failures from the <code>AnimationEventFn</code> change.</p> </a></ul><h3 id=animation-rendering>Animation + Rendering <a class=anchor-link href=#animation-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14065><p>don't put previous skin/morph in the morphed_skinned_mesh_layout</p> </a></ul><h3 id=animation-ui>Animation + UI <a class=anchor-link href=#animation-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15634><p>Invert the dependency between bevy_animation and bevy_ui</p> </a></ul><h3 id=app>App <a class=anchor-link href=#app>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13779><p>Let init_non_send_resource require FromWorld instead of Default</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13833><p>Add missing plugins to doc of DefaultPlugins</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13817><p>Fix is_plugin_added::&LTSelf>() being true during build</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13941><p>feat: add insert_after and insert_startup_before</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14285><p>Remove second generic from <code>.add_before</code>, <code>.add_after</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14339><p><code>plugin_group!</code> macro (adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14198><p>Remove need for EventLoopProxy to be NonSend</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14534><p>Remove deprecated <code>bevy_dynamic_plugin</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14600><p>Improve documentation on Update vs FixedUpdate schedule dichotomy</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14881><p>Allow ordering variable timesteps around fixed timesteps</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15260><p>Added <code>HeadlessPlugins</code> (#15203)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12095><p>Add features to switch <code>NativeActivity</code> and <code>GameActivity</code> usage</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15779><p>Remove <code>thiserror</code> from <code>bevy_app</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16401><p>Headless by features</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16527><p>Clarify that <code>bevy_app::App.world()</code> (and mut variant) returns the main <code>SubApp</code>'s <code>World</code></p> </a></ul><h3 id=app-ecs>App + ECS <a class=anchor-link href=#app-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13939><p>Move <code>StateTransitionSteps</code> registration to states plugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14703><p>Use <code>#[doc(fake_variadic)]</code> to improve docs readability</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14760><p>Improve ambiguity detection example / test</p> </a></ul><h3 id=app-states>App + States <a class=anchor-link href=#app-states>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15085><p>Add state scoped events</p> </a></ul><h3 id=app-windowing>App + Windowing <a class=anchor-link href=#app-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14001><p>Handle <code>Ctrl+C</code> in the terminal properly</p> </a></ul><h3 id=assets>Assets <a class=anchor-link href=#assets>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13745><p>Improve error handling for <code>AssetServer::add_async</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13902><p>bug: Don't panic. Warn on missing file_watcher path. (new branch)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14082><p>Optimize common usages of <code>AssetReader</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14200><p>EmptyPathStream is only used in android/wasm32</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14123><p>Fix crash when an asset load failure event is processed after asset drop</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13820><p>add debug logging to ascertain the base path the asset server is using</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14809><p>catch asset loader panics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10823><p>Generalized <code>Into&amplt;AssetSourceId&ampgt;</code> and <code>Into&amplt;AssetPath&ampgt;</code> Implementations over Lifetime</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14912><p>Allow removing asset from embedded asset registry</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14808><p>drop pending asset loads</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14981><p>Use CowArc::Static</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15057><p>Add basic docs to AssetMode</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15090><p>Depreciate <code>LoadAndSave</code> Asset Processor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15176><p>Reccomend using <code>AssetPlugin.file_path</code> instead of CARGO_MANIFEST_DIR</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15056><p>Add module and supporting documentation to <code>bevy_assets</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15058><p>Add basic docs explaining what asset processing is and where to look</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15237><p>AssetServer LoadState API consistency</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15399><p>Fix untyped asset loads after #14808.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15533><p>Fix AssetServer lifetimes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15546><p>Cleanup unneeded lifetimes in bevy_asset</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14194><p>Replace <code>AsyncSeek</code> trait by <code>AsyncSeekForward</code> for <code>Reader</code> to address #12880</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11495><p>Add directory related functions to <code>AndroidAssetReader</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15509><p>bevy_asset: Improve <code>NestedLoader</code> API</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15522><p>drop info locks in single threaded</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15778><p>Remove <code>thiserror</code> from <code>bevy_asset</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15808><p>Fix potential deadlock in <code>AssetServer</code> on single-threaded modes.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15890><p>Remove incorrect equality comparisons for asset load error types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15913><p>[Adopted] Add a method for asynchronously waiting for an asset to load</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16001><p>Resolve unused_qualifications warnings</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16027><p>Add <code>AsyncSeekForwardExt</code> trait to allows a similar API to the previous Bevy version</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16133><p>Update notify-debouncer-full requirement from 0.3.1 to 0.4.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16220><p>Support creating asset directories</p> </a></ul><h3 id=assets-diagnostics>Assets + Diagnostics <a class=anchor-link href=#assets-diagnostics>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15432><p>Better info message</p> </a></ul><h3 id=assets-ecs>Assets + ECS <a class=anchor-link href=#assets-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14537><p>Fix rust beta lints</p> </a></ul><h3 id=assets-rendering>Assets + Rendering <a class=anchor-link href=#assets-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14038><p>Improve MeshletMesh::from_mesh performance further</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13707><p>Make gLTF node children Handle instead of objects</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14193><p>Faster MeshletMesh deserialization</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15298><p>Add sprite and mesh alteration examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15344><p>Split <code>TextureAtlasSources</code> out of <code>TextureAtlasLayout</code> and make <code>TextureAtlasLayout</code> serializable</p> </a></ul><h3 id=assets-scenes>Assets + Scenes <a class=anchor-link href=#assets-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14343><p>Export glTF skins as a Gltf struct</p> </a></ul><h3 id=assets-utils>Assets + Utils <a class=anchor-link href=#assets-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14977><p>Replace <code>bevy_utils::CowArc</code> with <code>atomicow</code></p> </a></ul><h3 id=audio>Audio <a class=anchor-link href=#audio>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14090><p>Bump rodio to 0.19</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15638><p>Fix audio not playing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15863><p>fix spatial audio examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16287><p>AudioPlayer::new()</p> </a></ul><h3 id=audio-ecs>Audio + ECS <a class=anchor-link href=#audio-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15573><p>Migrate audio to required components</p> </a></ul><h3 id=audio-reflection>Audio + Reflection <a class=anchor-link href=#audio-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15211><p>Reflect derived traits on all components and resources: bevy_audio</p> </a></ul><h3 id=build-system>Build-System <a class=anchor-link href=#build-system>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13834><p>run windows ci on rust 1.78</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13908><p>Shader code paths</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14035><p>example showcase: keep the order of the shaders imported</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13863><p>Windows CI example runner: back to using rust stable</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14103><p>Fix footgun for Windows users in <code>fast_config.toml</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13553><p>Use rust-lld on windows rustdoc in config_fast_builds.toml</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14330><p>Specify test group names in github summary for compile fail tests</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14347><p>Fix the dev docs robots.txt containing a literal instead of a newline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14345><p>update bunny meshlet url</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14477><p>remove check-cfg job</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12965><p>Generate links to definition in source code pages on docs.rs and dev-docs.bevyengine.org</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14500><p>Stop website examples from linking to old URL with multiple redirects</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14728><p>Fix CI bench compile check</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14734><p>Sync flags in docs.yml with <code>package.metadata.docs.rs</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14745><p>Fix window position patch</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14769><p>Document private items in dev-docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14829><p>compile_fail_utils: Ignore <code>target</code> directory</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14827><p>compile_fail_utils: Verify path exists</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14839><p>Use lld for rustdoc on Linux in config_fast_builds.toml</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15024><p>Bump crate-ci/typos from 1.24.1 to 1.24.3</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15063><p>remove cfg-check in ci tool</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15112><p>Bump peter-evans/create-pull-request from 6 to 7</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15123><p>Fix Welcome Contributors CI</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15333><p>Broaden "Check for bevy_internal imports" CI Task</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15430><p>Fix action.yml syntax</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15629><p>send_events is ambiguous_with_all</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15648><p>Fix cargo-ndk build command</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15700><p>Add new crates to publish.sh</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15843><p>Add <code>compile-check-no-std</code> Command to CI Tool</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15882><p>use previous ubuntu version for example validation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13248><p>Compare screenshots with main on PRs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15895><p>Bump crate-ci/typos from 1.25.0 to 1.26.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15894><p>Fix screenshot comparison</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15911><p>screenshot comparison: prepare macos folder in the expected format by upload-artifact action</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15914><p>screenshot comparison: fix upload for macOS... again</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15901><p>Make <code>contributors</code> example deterministic in CI</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15935><p>Improve and Debug CI <code>compile-check-no-std</code> Command</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16035><p>Typo-check .hidden files</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16060><p>crate publish order: bevy_animation depends on bevy_animation_derive</p> </a></ul><h3 id=build-system-cross-cutting>Build-System + Cross-Cutting <a class=anchor-link href=#build-system-cross-cutting>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16037><p>Use <code>en-us</code> locale for <code>typos</code></p> </a></ul><h3 id=build-system-dev-tools>Build-System + Dev-Tools <a class=anchor-link href=#build-system-dev-tools>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14765><p>Enables bevy_render feature for bevy_gizmos dependency in bevy_dev_tools</p> </a></ul><h3 id=build-system-meta>Build-System + Meta <a class=anchor-link href=#build-system-meta>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15958><p>Update label used for breaking changes</p> </a></ul><h3 id=build-system-rendering>Build-System + Rendering <a class=anchor-link href=#build-system-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15954><p>Introduce testbed examples starting with 2d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15993><p>Testbed for 3d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16010><p>Check examples screenshots on windows</p> </a></ul><h3 id=color>Color <a class=anchor-link href=#color>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13759><p>Adds back in way to convert color to u8 array, implemented for the two RGB color types, also renames Color::linear to Color::to_linear.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13870><p>Allow bevy_color use without bevy_reflect support</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14256><p>Prevent division by zero in HWBA to HSVA conversions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14468><p>Fix hue mixing for <code>Lcha</code> and <code>Oklcha</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14976><p>Color gradient curve</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15777><p>Remove <code>thiserror</code> from <code>bevy_color</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15938><p>Fix <code>bevy_color</code> not compiling standalone.</p> </a></ul><h3 id=color-gizmos>Color + Gizmos <a class=anchor-link href=#color-gizmos>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14886><p>Update Grid Gizmo to use Color</p> </a></ul><h3 id=core>Core <a class=anchor-link href=#core>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16337><p>Fix missing import</p> </a></ul><h3 id=core-editor>Core + Editor <a class=anchor-link href=#core-editor>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14211><p>Rename <code>bevy_core::name::DebugName</code> to <code>bevy_core::name::NameOrEntity</code></p> </a></ul><h3 id=core-reflection>Core + Reflection <a class=anchor-link href=#core-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14179><p>bevy_core: make bevy_reflect optional</p> </a></ul><h3 id=cross-cutting>Cross-Cutting <a class=anchor-link href=#cross-cutting>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14015><p>Apply Clippy lints regarding lazy evaluation and closures</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14076><p>Fix intra-doc links and make CI test them</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13950><p>Test for ambiguous system ordering in CI</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14376><p>Remove manual --cfg docsrs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14562><p>Fix common capitalization errors in documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14828><p>Apply unused_qualifications lint</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15031><p>Remove all existing system order ambiguities in <code>DefaultPlugins</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15080><p>Unify crate-level preludes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15301><p>Allow to expect (adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15376><p>Simpler lint fixes: makes <code>ci lints</code> work but disables a lint for now</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15281><p>Add <code>core</code> and <code>alloc</code> over <code>std</code> Lints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15796><p>Remove the <code>Component</code> trait implementation from <code>Handle</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15872><p>Migrate from <code>Query::single</code> and friends to <code>Single</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15906><p>Fix <em>most</em> clippy lints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15966><p>Adjust some example text to match visual guidelines</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16108><p>More <code>#[doc(fake_variadic)]</code> goodness</p> </a></ul><h3 id=cross-cutting-math>Cross-Cutting + Math <a class=anchor-link href=#cross-cutting-math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14630><p>A Curve trait for general interoperation â€” Part I</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14700><p>A Curve trait for general interoperation â€” Part II</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15239><p>Fix floating point math</p> </a></ul><h3 id=cross-cutting-meta>Cross-Cutting + Meta <a class=anchor-link href=#cross-cutting-meta>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14219><p>Bump Version after Release</p> </a></ul><h3 id=cross-cutting-rendering>Cross-Cutting + Rendering <a class=anchor-link href=#cross-cutting-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16163><p>Don't reÃ«xport <code>bevy_image</code> from <code>bevy_render</code></p> </a></ul><h3 id=cross-cutting-ui-windowing>Cross-Cutting + UI + Windowing <a class=anchor-link href=#cross-cutting-ui-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14284><p>Add custom cursors</p> </a></ul><h3 id=dev-tools>Dev-Tools <a class=anchor-link href=#dev-tools>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13217><p>allow more configuration for showcase from the CLI</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15438><p>Refactor BRP to allow for 3rd-party transports</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15552><p>Add content-type header to BRP HTTP responses</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15516><p>Include errors along side successful components in BRP <code>bevy&amp#x2F;get</code> method</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15601><p>Allow access a method handler</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15651><p>Add with_headers() method to RemoteHttpPlugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15680><p>simplify adding headers and improve consistency for RemoteHttpPlugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15608><p>Watching versions of <code>bevy&amp#x2F;get</code> and <code>bevy&amp#x2F;list</code> with HTTP SSE</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15739><p>Improve <code>fps_overlay</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16019><p>Feature gate <code>bevy_remote</code> http transport.</p> </a></ul><h3 id=dev-tools-diagnostics>Dev-Tools + Diagnostics <a class=anchor-link href=#dev-tools-diagnostics>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13693><p>Poll system information in separate tasks</p> </a></ul><h3 id=diagnostics>Diagnostics <a class=anchor-link href=#diagnostics>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13897><p>Improve error handling for log filter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13984><p>Document use of <code>NO_COLOR</code> in <code>LogPlugin</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13755><p>Document trace_tracy_memory in profiling.md</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14163><p>add entity to error message</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14164><p>use Display for entity id in log_components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13826><p>Add Mac OS tracy info to profiling docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14160><p>Add error message if states schedule missing (usually because StatesPlugin hasn't been added)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14551><p>Update sysinfo version to 0.31.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14553><p>Add freebsd support for sysinfo</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14741><p>Add example demonstrating how to enable / disable diagnostics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14958><p>Move the default LogPlugin filter to a public constant</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13364><p>Use oslog for ios</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15949><p>Visual improvements to <code>log_layers_ecs</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16298><p>Fixed issue with <code>derive_more</code> <code>Display</code> Implementations</p> </a></ul><h3 id=diagnostics-rendering>Diagnostics + Rendering <a class=anchor-link href=#diagnostics-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13240><p>Don't ignore draw errors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14984><p>Updated <code>LogPlugin</code> Documentation with Performance Warning</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16079><p>Fix AsBindGroupError display for InvalidSamplerType</p> </a></ul><h3 id=ecs>ECS <a class=anchor-link href=#ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13721><p>rename bevy_state_macros to bevy_state_macros_official</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13722><p>Update crate metadata for bevy state</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13727><p>Add <code>mappings</code> to <code>EntityMapper</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13737><p>Clear messed up feature flag on AppExitStates impl</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13774><p>Fix EntityCommands::despawn docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13763><p>Add more granular system sets for state transition schedule ordering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13772><p>fix docs around <code>StateTransition</code> and remove references to `apply_staâ€¦</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13784><p>Re-name and Extend Run Conditions API</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13740><p>Update serialize flag for bevy_ecs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13762><p>Remove extra call to clear_trackers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13801><p>Split event.rs into a full module.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13804><p>Revert "constrain WorldQuery::init_state argument to ComponentInitialâ€¦</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13812><p>Fix minor typos in query join docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13848><p>Restore overwrite capabilities of <code>insert_state</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10839><p>Generalised ECS reactivity with Observers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13862><p>remove inaccurate warning from <code>in_state</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13877><p>Warn about missing <code>StatesPlugin</code> when installing states</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13884><p>observers example doesn't follow standards</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13789><p>Use a unstable sort to sort component ids in <code>bevy_ecs</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13886><p>Update observer archetype flags for sparse components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13916><p>Fix typo in <code>Query::single_mut</code> docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13919><p><code>IntoSystemConfigs::chain_ignore_deferred</code>'s return type fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13929><p>docs(bevy_state): fix broken links in init_state and insert_state</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13932><p>Fix typo in <code>ComponentId</code> docs: <code>of</code> -> <code>or</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13934><p>Change World::inspect_entity to return an Iterator instead of Vec</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13975><p>improved error message when forgetting to call system apply function â€¦</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13777><p>Add example enum Component usage to ecs_guide</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14009><p>feat(bevy_app): expose an API to perform updates for a specific sub-app.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13836><p>Mark events as read during <code>EventReader::par_read</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14011><p>Don't show <code>.to_bits</code> in <code>Display</code> impl for <code>Entity</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14013><p>AnyOf soundness fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11173><p>Fair Change Detection Benchmarking</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11210><p>Use an opaque type for <code>EntityCommand::with_entity</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14028><p>Emit a warning if the result of <code>EntityCommand::with_entity</code> is not used</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14040><p>add missing sort_unstable_by_key to QueryIter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14051><p>Add missing StaticSystemParam::queue implementation.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14027><p>Fix error in AnyOf</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14083><p>deregister events</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14109><p>Fix <code>push_children</code> inserting a <code>Children</code> component even when no children are supplied</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14108><p>add missing mention of sort_unstable_by_key in QuerySortedIter docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14107><p>use associated type bounds in QueryManyIter and QueryIter::sort()</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14005><p>Component Hook functions as attributes for Component derive macro</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14209><p>Fix state example urls</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13818><p>Created an EventMutator for when you want to mutate an event before reading</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14159><p>Allow observer systems to have outputs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14208><p>Make initial <code>StateTransition</code> run before <code>PreStartup</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14212><p>Component Lifecycle Hook & Observer Trigger for replaced values</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14234><p>Fix inaccurate docs for <code>Commands::spawn_empty</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14327><p>Allow non-static trigger targets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14283><p>Add insert_by_id and try_insert_by_id to EntityCommands</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14354><p>Update <code>trigger_observers</code> to operate over slices of data</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14377><p>docs: Fix incorrect docs in the run conditions example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14128><p>implement DoubleEndedIterator for QueryManyIter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14441><p>Simplify run conditions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14459><p>Require <code>&ampamp;mut self</code> for <code>World::increment_change_tick</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14458><p>Add intradoc links for observer triggers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14492><p>Fix typo in <code>World::observe</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14499><p>Don't debug <code>SystemId</code>'s entity field twice</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14352><p>Add <code>FilteredAccess::empty</code> and simplify the implementatin of <code>update_component_access</code> for <code>AnyOf</code>/<code>Or</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14502><p>Optimize cloning for Access-related structs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14034><p>Track source location in change detection</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14539><p>Fix Entity Debug Format</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14556><p>B0003: Print caller</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14049><p>Opportunistically use dense iteration for archetypal iteration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14604><p>Add link to <code>with_children</code> in <code>with_child</code> doc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14631><p>Make <code>QueryState::transmute</code>&co validate the world of the <code>&ampamp;Components</code> used</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13460><p>Add a ComponentIndex and update QueryState creation/update to use it</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14561><p>Separate component and resource access</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14579><p>Fix soudness issue with Conflicts involving <code>read_all</code> and <code>write_all</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14635><p>Fix access conflicts for resources</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14670><p>Explicit using clone_from</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14680><p>inline iter_combinations</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14706><p>Replace UnsafeCell&LTWorld> usage with UnsafeWorldCell in CombinatorSystem</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14050><p>Support more kinds of system params in buildable systems.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14669><p>document using <code>ObserverState</code> as filter for <code>Observer</code> <code>Entity</code>s</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14584><p>add <code>SystemIdMarker</code> <code>Component</code> to enable filtering for <code>SystemId</code> <code>Entity</code>s</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14744><p>Fix world borrow for DeferredWorld::query</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14751><p>Add <code>Command</code> and co. to prelude</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14749><p>Skip empty archetype/table</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14752><p>Add entity <code>.trigger()</code> methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14691><p>Remove redundant <code>ArchetypeComponentId</code> lookup in <code>Res</code> and <code>ResMut</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14690><p>Add query reborrowing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14646><p>feat: add <code>insert_if_new</code> (#14397)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14787><p>Add <code>try_insert_with_new</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14392><p>Fix commands not being Send / Sync in 0.14</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14580><p>add docs explaining the two accesses of a System meta</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14837><p>Add <code>filter_map_unchanged</code> to <code>Mut&amplt;T&ampgt;</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14895><p>Use observers for removal detection in example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14899><p>Remove dead links to example code in the bevy_ecs README</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14910><p>Rename <code>Commands::register_one_shot_system</code> -> <code>register_system</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14896><p>Make the field of <code>ParamSetBuilder</code> pub so it's actually usable.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14840><p>Added <code>on_unimplemented</code> Diagnostic for <code>IntoObserverSystem</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14857><p>Implement <code>std::fmt::Debug</code> for <code>ecs::observer::Trigger</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14897><p>Have EntityCommands methods consume self for easier chaining</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14917><p>Add <code>condition_changed</code> and <code>condition_became_true</code> to <code>common_conditions</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14821><p>SystemParamBuilder - Support buildable Vec parameters</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14615><p>Fix query transmute from table to archetype iteration unsoundness</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14791><p>Required Components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14933><p>Commands::send_event</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14820><p>SystemParamBuilder - Enable type inference of closure parameter when building dynamic systems</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14954><p>Updated <code>FromWorld</code> Documentation to mention <code>Default</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14818><p>SystemParamBuilder - Allow deriving a SystemParamBuilder struct when deriving SystemParam.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14963><p>Fix observer unregistering unsetting archetype flags</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14985><p>Interpolate <code>WorldQuery</code> path in docs of generated types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14962><p>Use <code>#[doc(fake_variadic)]</code> for <code>SystemParamBuilder</code> tuple impls.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14673><p>Opportunistically use dense iter for archetypal iteration in Par_iter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14790><p>Make QueryFilter an unsafe trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15066><p>Add <code>observer</code> to <code>Trigger</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15040><p>Use associated type bounds for <code>iter_many</code> and friends</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15089><p>EntityRef/Mut get_components (immutable variants only)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15151><p>Removed Type Parameters from <code>Observer</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15150><p>Optimize observer unregistration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15178><p>Added ordering information to observer tests (#14332)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14986><p>Improve schedule note of .after/.before & encourage to use .chain insâ€¦</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15216><p>Example for bevy_ecs::event::Events uses deprecated function get_reader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12929><p>Remove redundent information and optimize dynamic allocations in <code>Table</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15103><p>Improve type inference in <code>DynSystemParam::downcast()</code> by making the type parameter match the return value.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15166><p>Add missing insert API commands</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15196><p>Rename push children to add children</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15247><p>Don't leak SEND resource, even if thread is panicking.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15234><p>Rename Add to Queue for methods with deferred semantics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15207><p>Add <code>EntityRefExcept</code> and <code>EntityMutExcept</code> world queries, in preparation for generalized animation.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15254><p>Group <code>IntoSystemConfigs</code> <code>impl</code>s together</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15161><p>Enable <code>clippy::check-private-items</code> so that <code>missing_safety_doc</code> will apply to private functions as well</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15274><p>command based entry api with <code>EntityCommands::entry</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15295><p>Fix memory leak in world's command queue</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15309><p>Fix subtle/weird UB in the multi threaded executor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15168><p>Choose more descriptive field names for <code>ReserveEntitiesIterator</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15263><p>change return type of <code>World::resource_ref</code> to <code>Ref</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14894><p>Add World::trigger_ref and World::trigger_targets_ref</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14920><p>Add cached <code>run_system</code> API</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15276><p>Reduce runtime panics through <code>SystemParam</code> validation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15184><p>Support systems that take references as input</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15397><p>Fix system param warnings on systems that cannot run anyways</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15398><p>bevy_ecs: flush entities after running observers and hooks in despawn</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15410><p>Follow up to cached <code>run_system</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15415><p>fix observer docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15435><p>List components for QueryEntityError::QueryDoesNotMatch</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15454><p>Rename init_component & friends</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15283><p>Reduce memory usage in component fetches and change detection filters</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15491><p>Improve unclear docs about spawn(_batch) and ParallelCommands</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15476><p><code>QuerySingle</code> family of system params</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15507><p>rename <code>QuerySingle</code> to <code>Single</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15526><p>System param validation for observers, system registry and run once</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15102><p>Reorganize SystemParamBuilder docs and examples.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15411><p>Small addition to <code>World::flush_commands</code> explaining how <code>spawn</code> will cause it to panic.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15488><p><code>Populated</code> (query) system param</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15501><p>Add <code>register_resource_with_descriptor</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15536><p>Fix typos in bevy_ecs system.rs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15542><p>Fix #15496 missing doc links</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15458><p>Runtime required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15553><p>15540 Make World::flush_commands private</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15523><p>Revert "Have EntityCommands methods consume self for easier chaining"</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15593><p>Enable <code>EntityRef::get_by_id</code> and friends to take multiple ids and get multiple pointers back</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15599><p>Implement <code>SystemParam::queue()</code> method for blanket implementation of <code>ParamSet</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15500><p>Better warnings about invalid parameters</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15610><p>Despawn and despawn_recursive benchmarks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15480><p>Add try_despawn methods to World/Commands</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15616><p>Rename observe to observe_entity on EntityWorldMut</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15189><p>System param for dynamic resources</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15026><p>Add method to remove component and all required components for removed component</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15269><p>Allow a closure to be used as a required component default</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15658><p>Deprecate <code>Events::oldest_id</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15667><p>Fix QuerySingle -> Single missed in example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15614><p>Allow <code>World::entity</code> family of functions to take multiple entities and get multiple references back</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15652><p>Deprecate <code>get_or_spawn</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15691><p>bevy_ecs: Replace panics in <code>QueryData</code> derive compile errors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15774><p>Remove <code>thiserror</code> from <code>bevy_ecs</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15754><p>Rename <code>App&amp#x2F;World::observe</code> to <code>add_observer</code>, <code>EntityWorldMut::observe_entity</code> to <code>observe</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15758><p>Add <code>World::get_resource_or_init</code> as an alternative to <code>World::get_resource_or_insert_with</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15839><p>bevy_ecs: Special-case <code>Entity::PLACEHOLDER</code> formatting</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15702><p>Add <code>insert_batch</code> and variations</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15811><p>Add <code>Trigger::components</code>, which lists the component targets that were triggered</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15885><p>Validate param benchmarks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16032><p>QueryEntityError: Use short name for components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16191><p>Derive same attributes as MainEntity for RenderEntity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16218><p>Fix fallible param notes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16206><p>Adding <code>ScheduleGraph::contains_set</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16228><p>Remove unused debug identifiers for <code>ComponentHooks</code> methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16281><p>Fix <code>alien_cake_addict</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16357><p>undeprecate <code>component_reads_and_writes</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16340><p>Add <code>unregister_system</code> command</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16378><p>Use the fully qualified name for <code>Component</code> in the <code>require</code> attribute</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16415><p>Add missing exports in bevy_ecs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16410><p>Fix bubbling of runtime requirements for <code>#[require(...)]</code> attribute</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16436><p>Fix runtime required components not registering correctly</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16449><p>Add a note to the on_unimplemented message for <code>QueryData</code> recommending <code>&ampamp;T</code> and <code>&ampamp;mut T</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16441><p>Fix adding a subtree of required components to an existing tree replacing shallower required component constructors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16493><p>Fix <code>Single</code> doc links</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16546><p>Clarify inheritance behavior of required components</p> </a></ul><h3 id=ecs-editor>ECS + Editor <a class=anchor-link href=#ecs-editor>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14369><p>Make names of closure systems changable</p> </a></ul><h3 id=ecs-hierarchy>ECS + Hierarchy <a class=anchor-link href=#ecs-hierarchy>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14052><p>Merge <code>BuildWorldChildren</code> and <code>BuildChildren</code> traits.</p> </a></ul><h3 id=ecs-hierarchy-picking>ECS + Hierarchy + Picking <a class=anchor-link href=#ecs-hierarchy-picking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13991><p>Minimal Bubbling Observers</p> </a></ul><h3 id=ecs-networking>ECS + Networking <a class=anchor-link href=#ecs-networking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16269><p>Make <code>ComponentTicks</code> field public</p> </a></ul><h3 id=ecs-networking-reflection-scenes>ECS + Networking + Reflection + Scenes <a class=anchor-link href=#ecs-networking-reflection-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15425><p>Add <code>VisitEntities</code> for generic and reflectable Entity iteration</p> </a></ul><h3 id=ecs-networking-scenes>ECS + Networking + Scenes <a class=anchor-link href=#ecs-networking-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15422><p>Change ReflectMapEntities to operate on components before insertion</p> </a></ul><h3 id=ecs-picking>ECS + Picking <a class=anchor-link href=#ecs-picking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14381><p>Recalibrated observe benchmark</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15385><p>Bubbling observers traversal should use query data</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15690><p>Migrate bevy picking</p> </a></ul><h3 id=ecs-reflection>ECS + Reflection <a class=anchor-link href=#ecs-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14156><p>impl Reflect + Clone for StateScoped</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14416><p>feat: Add <code>World::get_reflect()</code> and <code>World::get_reflect_mut()</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14620><p>Add <code>Reflect</code> to <code>OnReplace</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14692><p>Use <code>map_unchanged</code> in reflection instead of creating a <code>Mut</code> manually.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14817><p>SystemParamBuilder - Support dynamic system parameters</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15128><p>Enhance ReflectCommandExt</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15152><p>Finish enhancing <code>ReflectCommandExt</code> to work with Bundles</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15496><p>Allow registering of resources via ReflectResource / ReflectComponent</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15556><p>Make <code>SystemIdMarker</code> reflect-able</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16139><p><code>ReflectBundle::remove</code> improvement</p> </a></ul><h3 id=ecs-reflection-utils>ECS + Reflection + Utils <a class=anchor-link href=#ecs-reflection-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15372><p>Use crate: <code>disqualified</code></p> </a></ul><h3 id=ecs-rendering>ECS + Rendering <a class=anchor-link href=#ecs-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15474><p>Migrate visibility to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15320><p>The Cooler 'Retain Rendering World'</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15568><p>Migrate fog volumes to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15524><p>Migrate meshes and materials to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15572><p>Migrate motion blur, TAA, SSAO, and SSR to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15641><p>Migrate cameras to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15582><p>Synchronize removed components with the render world</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15737><p>Migrate reflection probes to required components</p> </a></ul><h3 id=ecs-time>ECS + Time <a class=anchor-link href=#ecs-time>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13808><p>Ensure that events are updated even when using a bare-bones Bevy App</p> </a></ul><h3 id=ecs-transform>ECS + Transform <a class=anchor-link href=#ecs-transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14964><p>Migrate <code>bevy_transform</code> to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15830><p>Deprecate SpatialBundle</p> </a></ul><h3 id=editor>Editor <a class=anchor-link href=#editor>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16400><p>Expose BRP system scheduling and add system set</p> </a></ul><h3 id=editor-reflection>Editor + Reflection <a class=anchor-link href=#editor-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14880><p>Initial implementation of the Bevy Remote Protocol (Adopted)</p> </a></ul><h3 id=gizmos>Gizmos <a class=anchor-link href=#gizmos>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13883><p>Add cross gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13927><p>Use u32 for all resolution/subdivision fields in bevy_gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13973><p>Use CameraController in 3d_gizmos example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14448><p>Making <code>bevy_render</code> an optional dependency for <code>bevy_gizmos</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14633><p>Fix gizmos regression</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14720><p>Consistency between <code>Wireframe2d</code> and <code>Wireframe</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14812><p>Fix key bindings in 3d_gizmos example after camera controller</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14887><p>Fix Gizmos warnings and doc errors when a subset of features are selected</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14721><p>Fix Gizmo joint rendering in webgpu</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14731><p>Fix <code>arc_2d</code> Gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14676><p>Use <code>Isometry</code> in <code>bevy_gizmos</code> wherever we can</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14932><p>Gizmos: <code>arc_2d</code> utility helpers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14650><p>Improve the gizmo for <code>Plane3d</code>, reusing grid</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15022><p>Utilise new method for 2d circle example.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15713><p>Stop using <code>Handle&amplt;T&ampgt;</code> as a component in <code>bevy_gizmos</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15743><p>Fix failing <code> cargo check</code> with only the bevy_dev_tools feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15836><p>Fix gizmos</p> </a></ul><h3 id=gizmos-math>Gizmos + Math <a class=anchor-link href=#gizmos-math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14656><p>Switch rotation & translation in grid gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14971><p><code>Curve</code> gizmos integration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15602><p>Use circle gizmos for capsule</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15733><p>Implement <code>From</code> translation and rotation for isometries</p> </a></ul><h3 id=gizmos-rendering>Gizmos + Rendering <a class=anchor-link href=#gizmos-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13756><p>view.inverse_clip_from_world should be world_from_clip</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14653><p>Fix 3D Gizmo webgpu rendering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14916><p>Make TrackedRenderPass::set_vertex_buffer aware of slice size</p> </a></ul><h3 id=hierarchy>Hierarchy <a class=anchor-link href=#hierarchy>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14594><p>Add <code>with_child</code> to simplify spawning when there will only be one child</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15009><p>Fix <code>with_child</code> not inserting <code>Parent</code> component</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15627><p>Add more tools for traversing hierarchies</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16428><p>Fix <code>bevy_hierarchy</code> failing to compile without <code>reflect</code> feature</p> </a></ul><h3 id=hierarchy-transform>Hierarchy + Transform <a class=anchor-link href=#hierarchy-transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14022><p>impl <code>BuildChildrenTransformExt</code> for <code>EntityWorldMut</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14373><p>Optimize transform propagation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14384><p>Only propagate transforms entities with GlobalTransforms.</p> </a></ul><h3 id=input>Input <a class=anchor-link href=#input>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13696><p>Fix phantom key presses in winit on focus change (#13299)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14044><p>Mouse input accumulation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14161><p>Expose Winit's <code>KeyEvent::repeat</code> in <code>KeyboardInput</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14263><p>feature: Derive Hash for KeyboardInput.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15126><p>Remove <code>ReceivedCharacter</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15221><p>Use of deprecated function in example for ButtonInput</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12770><p>Implement gamepads as entities</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15685><p>Add some missing features from the gamepads-as-entities change that were needed to update <code>leafwing-input-manager</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15773><p>Remove <code>thiserror</code> from <code>bevy_gilrs</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15770><p>Remove <code>thiserror</code> from <code>bevy_input</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15854><p>Fix panic in <code>gamepad_viewer</code> example when gamepad is connected</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16222><p>Gamepad improvements</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16233><p>Use <code>Name</code> component for gamepad</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16425><p>Revert most of #16222 and add gamepad accessors</p> </a></ul><h3 id=input-picking>Input + Picking <a class=anchor-link href=#input-picking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15293><p>Various picking bugfixes</p> </a></ul><h3 id=input-picking-ui>Input + Picking + UI <a class=anchor-link href=#input-picking-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16231><p>Picking out order</p> </a></ul><h3 id=input-picking-windowing>Input + Picking + Windowing <a class=anchor-link href=#input-picking-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14862><p>Picking event ordering</p> </a></ul><h3 id=input-reflection>Input + Reflection <a class=anchor-link href=#input-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14167><p>bevy_input: allow use without bevy_reflect</p> </a></ul><h3 id=input-rendering>Input + Rendering <a class=anchor-link href=#input-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15135><p>Split zoom/orbit into separate examples</p> </a></ul><h3 id=input-ui>Input + UI <a class=anchor-link href=#input-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16522><p>use scale factor for touches in UI focus</p> </a></ul><h3 id=input-ui-windowing>Input + UI + Windowing <a class=anchor-link href=#input-ui-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15407><p>Fix horizontal scrolling in scroll example for macOS</p> </a></ul><h3 id=input-windowing>Input + Windowing <a class=anchor-link href=#input-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12372><p>Fix window spawning triggering ButtonInput&LTKeyCode>::just_pressed/just_released</p> </a></ul><h3 id=math>Math <a class=anchor-link href=#math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13719><p>Add segments to <code>ExtrusionBuilder</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13741><p>Stable interpolation and smooth following</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13788><p>Added an illustration to the compass direction docs (issue 13664)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13795><p>Custom primitives example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13907><p>Use smooth_nudge in 2d_top_down_camera example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13837><p>Use a well defined type for sides in RegularPolygon</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13937><p>Updated descriptions for some geometric primitives to include more detail</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14171><p>Optimize unnecessary normalizations for <code>Transform::local_{xyz}</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14245><p>Make <code>bevy_math::common_traits</code> public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14249><p>Moves smooth_follow to movement dir</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14240><p>fix: Possible NaN due to denormalised quaternions in AABB implementations for round shapes.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14269><p>Basic isometry types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14307><p>Fix swapped docs for <code>Rot2::rotation_to&amp#x2F;from_y</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14312><p>Add <code>Isometry2d::from_xy</code> and <code>Isometry3d::from_xyz</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14311><p>Add <code>inverse_mul</code> and <code>inverse_transform_point</code> for isometries</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14168><p>bevy_math: faster sphere sampling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14318><p>Improve isometry docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14326><p>Implement <code>Bounded2d</code> for <code>Annulus</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14325><p>Added <code>new</code> method to Cone 3D primitive</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14106><p>Cyclic splines</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14316><p>Fast renormalize</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14382><p>Disallow empty cubic and rational curves</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14485><p>Refactor Bounded2d/Bounded3d to use isometries</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14587><p>Add <code>Dir2::from_xy_unchecked</code> and <code>Dir3::from_xyz_unchecked</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14613><p>Glam 0.28 update - adopted</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14677><p>Fix broken bezier curve benchmark</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14693><p>Make bevy_math's <code>libm</code> feature use <code>libm</code> for all <code>f32</code>methods with unspecified precision</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14785><p>add <code>const</code>s to curve module functions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14651><p>New utility methods on <code>InfinitePlane3d</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14863><p>Expose bevy math ops</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14913><p>Fix tiny seam in Annulus geometry.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14815><p>Add methods to sample curves from <code>IntoIterator</code> types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14923><p>add <code>Interval::UNIT</code> constant</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14939><p>Fixing Curve trait not being object safe.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15191><p>Fix <code>Capsule2d::sample_interior</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15169><p>Rotation api extension</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15249><p>Update <code>glam</code> to 0.29, <code>encase</code> to 0.10.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14794><p>add more <code>Curve</code> adaptors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15469><p>Basic integration of cubic spline curves with the Curve API</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15388><p>Add <code>to_inner_rectangle</code>, <code>area</code> and <code>perimeter</code> methods to <code>Capsule2d</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15714><p>Curves: <code>FromReflect</code> boogaloo part 2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15735><p>Use <code>Dir2</code>/<code>Dir3</code> instead of <code>Vec2</code>/<code>Vec3</code> for <code>Ray2d::new</code>/<code>Ray3d::new</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15711><p>Simplified easing curves</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15748><p>remove the interpolation dependency from bevy_math</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15744><p>easing_functions example: draw point closer to its curve</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15769><p>Remove <code>thiserror</code> from <code>bevy_math</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15790><p>Put curve-related stuff behind a feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15881><p>Improve <code>PhantomData</code> held by curve adaptors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15905><p>Add module-level docs for Curve</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15931><p>Infer <code>StableInterpolate</code> on tuples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15933><p>Use <code>#[doc(fake_variadic)]</code> on <code>StableInterpolate</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15965><p>Remove write access to <code>ConvexPolygon.vertices</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16213><p>Implement <code>Measured2d</code> for <code>Arc2d</code>-based primitives.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16327><p>Rename <code>Rot2::angle_between</code> to <code>Rot2::angle_to</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16367><p>Use normal constructors for EasingCurve, FunctionCurve, ConstantCurve</p> </a></ul><h3 id=math-reflection>Math + Reflection <a class=anchor-link href=#math-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14978><p>Migrated <code>NonZero*</code> to <code>NonZero&amplt;*&ampgt;</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15402><p>bevy_reflect: Update <code>EulerRot</code> to match <code>glam</code> 0.29</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15493><p>Make <code>SampleCurve</code>/<code>UnevenSampleCurve</code> succeed at reflection</p> </a></ul><h3 id=math-rendering>Math + Rendering <a class=anchor-link href=#math-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13930><p>Use u32 for resolution/subdivision in primitive meshing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14071><p>Uniform mesh sampling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15544><p>introduction of <code>ConvexPolygon</code> and <code>ConvexPolygonMeshBuilder</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16038><p>Add a test for Mesh::compute_smooth_normals</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16039><p>Unnecessary division in compute_smooth_normals</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16026><p>Add a test for Mesh::triangles and fix for TriangleStrip</p> </a></ul><h3 id=math-transform>Math + Transform <a class=anchor-link href=#math-transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14478><p>Conversions for Isometry3d âŸ· Transform/GlobalTransform</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14488><p>Use AccumulatedMouseMotion, AccumulatedMouseScroll in examples</p> </a></ul><h3 id=math-ui>Math + UI <a class=anchor-link href=#math-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15065><p>Simplify <code>pick_rounded_rect</code></p> </a></ul><h3 id=math-utils>Math + Utils <a class=anchor-link href=#math-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15528><p>Add <code>no_std</code> support to <code>bevy_mikktspace</code></p> </a></ul><h3 id=meta>Meta <a class=anchor-link href=#meta>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13718><p>Document the Release Candidate process</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13849><p>Mention updating Bevy book code validation for release candidates</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11750><p>meta: Add <code>Showcase</code> section to PR template</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14170><p>prepare next version: update regexes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14321><p>Add a direct link in the docs to the Discord's #working-groups channel</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14564><p>remove changelog file</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14885><p>Deprecate old contributing documentation / information</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15054><p>Revert accidentally added asset docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15483><p>Fix out of date template and grammar</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15637><p>Fix <code>bevy_window</code> and <code>bevy_winit</code> readme badges</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15798><p>Improvements .gitignore</p> </a></ul><h3 id=networking>Networking <a class=anchor-link href=#networking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16198><p>BRP System Ordering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16464><p>Dont enable bevy_remote by default</p> </a></ul><h3 id=picking>Picking <a class=anchor-link href=#picking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13677><p>Upstream <code>CorePlugin</code> from <code>bevy_mod_picking</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14686><p>Mod picking upstream 2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14926><p>rename Drop to bevy::picking::events::DragDrop to unclash std::ops:Drop</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15267><p>Use <code>FloatOrd</code> for sprite Z comparison and ignore sprites with NaN</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15369><p>feature gate picking backends</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15462><p>Rename UiPickingBackend to UiPickingBackendPlugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15630><p>Get rid of unnecessary mutable access in ui picking backend</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15633><p>Clean up the <code>simple_picking</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15707><p>Rename the <code>Pickable</code> component and fix incorrect documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15819><p>Picking: Filter out invisible sprites early</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15800><p>Add mesh picking backend and <code>MeshRayCast</code> system parameter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15964><p>Add read-only access to <code>PointerInteraction</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16082><p>Fix <code>bevy_picking</code> plugin suffixes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16110><p>Mesh picking fixes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16105><p>Emit picking event streams</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16129><p>Picking example touchups</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16176><p>Add <code>button_just_down</code> and <code>button_just_up</code> methods to <code>PointerInput</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16229><p>Expose picking pointer state as a resource</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16265><p>Fix typos in <code>bevy_picking</code> module docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16386><p>Fix sprite picking backend not considering the viewport of the camera.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16470><p>Fix the picking backend features not actually disabling the features</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16473><p>Add flags to <code>SpritePlugin</code> and <code>UiPlugin</code> to allow disabling their picking backend (without needing to disable features).</p> </a></ul><h3 id=picking-rendering>Picking + Rendering <a class=anchor-link href=#picking-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14590><p>Add <code>depth_ndc_to_view_z</code> for cpu-side</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14757><p>Add bevy_picking sprite backend</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15803><p>Fix sprite and picking examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15899><p>Fix panic due to malformed mesh in <code>specialized_mesh_pipeline</code></p> </a></ul><h3 id=picking-ui>Picking + UI <a class=anchor-link href=#picking-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14695><p>hooking up observers and clicking for ui node</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14957><p>Ignore clicks on uinodes outside of rounded corners</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15053><p>Fix <code>bevy_ui</code> compile error when <code>bevy_picking</code> feature is disabled</p> </a></ul><h3 id=pointers>Pointers <a class=anchor-link href=#pointers>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14479><p><code>ptr</code>: allow <code>Ptr</code> and <code>PtrMut</code> construction for references to values of <code>?Sized</code> types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15311><p>Remove int2ptr cast in <code>bevy_ptr::dangling_with_align</code> and remove <code>-Zmiri-permissive-provenance</code> in CI</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15644><p>Reduce compile time of bevy_ptr::OwnedPtr::make function</p> </a></ul><h3 id=reflection>Reflection <a class=anchor-link href=#reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13706><p>improved the error message by insert_boxed (issue #13646) (again)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13867><p>bevy_reflect: Improve reflection serialization error messages</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13961><p>Add a test asserting that reflected cloning a Handle increments strong count</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13152><p>bevy_reflect: Function reflection</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14165><p>bevy_reflect: Re-enable reflection compile fail tests</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14225><p>Fix doc list indentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14174><p>bevy_reflect: Feature-gate function reflection</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13320><p>bevy_reflect: <code>TypeInfo</code> casting methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13321><p>bevy_reflect: Nested <code>TypeInfo</code> getters</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13903><p>examples: Add <code>Type Data</code> reflection example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14250><p>Implement FromIterator/IntoIterator for dynamic types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14141><p>bevy_reflect: Add <code>DynamicClosure</code> and <code>DynamicClosureMut</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14201><p>bevy_reflect: Improve <code>DynamicFunction</code> ergonomics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13014><p>Dedicated <code>Reflect</code> implementation for <code>Set</code>-like things</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14419><p>bevy_reflect: Adding support for Atomic values</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14543><p>Fix lints in nightly</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14098><p>bevy_reflect: Function registry</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14616><p>bevy_reflect: Update serde tests for <code>Set</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14641><p>bevy_reflect: Anonymous function parsing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14666><p>bevy_reflect: Update internal docs regarding anonymous function type names</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14665><p>bevy_reflect: Add <code>DynamicSet</code> to <code>dynamic_types</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14647><p>bevy_reflect: Function reflection benchmarks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/7207><p>reflect: implement the unique reflect rfc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14732><p>Making <code>DynamicEnum::is_dynamic()</code> return true</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14704><p>bevy_reflect: Store functions as <code>DynamicClosure&amplt;&amp#x27;static&ampgt;</code> in <code>FunctionRegistry</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14813><p>bevy_reflect: Function reflection terminology refactor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14861><p>Implement <code>Reflect</code> for <code>std::ops::Bound</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14838><p>bevy_reflect: Add <code>Type</code> type</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14865><p>Split <code>GenericTypeCell::get_or_insert</code> into smaller pieces</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14982><p>Reflect <code>SmolStr</code>'s <code>De&amp#x2F;Serialize</code> implementation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15107><p>bevy_reflect: Refactor <code>serde</code> module</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15110><p>bevy_reflect: Update <code>on_unimplemented</code> attributes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13888><p>bevy_reflect: Contextual serialization error messages</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15147><p>bevy_reflect: Mention <code>FunctionRegistry</code> in <code>bevy_reflect::func</code> docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15108><p>bevy_reflect: Add <code>DynamicTyped</code> trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15180><p>ParsedPath::try_from<&str></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15259><p>Add <code>DynamicTyped</code> link to <code>TypeInfo</code> docs (#15188)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15148><p>bevy_reflect: Add <code>FunctionRegistry::call</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15205><p>bevy_reflect: Add <code>Function</code> trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15354><p>split <code>bevy_reflect::derive::utilities</code> into proper modules</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15235><p>bevy_reflect: Add <code>ReflectRef</code>/<code>ReflectMut</code>/<code>ReflectOwned</code> convenience casting methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15145><p>bevy_reflect: Automatic arg count validation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15347><p>bevy_reflect: Add dynamic type data access and iteration to <code>TypeRegistration</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15349><p><code>impl_reflect!</code> for EulerRot instead of treating it as an opaque value</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15240><p>bevy_reflect: Replace "value" terminology with "opaque"</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15498><p>Fix <code>ReflectKind</code> description wording</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15484><p>Remove <code>Return::Unit</code> variant</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15158><p>Use <code>HashTable</code> in <code>DynamicMap</code> and fix bug in <code>remove</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15406><p>Make <code>drain</code> take a mutable borrow instead of <code>Box&amplt;Self&ampgt;</code> for reflected <code>Map</code>, <code>List</code>, and <code>Set</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15475><p>bevy_reflect: Generic parameter info</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/8611><p>bevy_reflect: Add <code>DeserializeWithRegistry</code> and <code>SerializeWithRegistry</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15387><p>Documentation for variadics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15628><p>Serialize and deserialize tuple struct with one field as newtype struct</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15766><p>Remove <code>thiserror</code> from <code>bevy_reflect</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15086><p>bevy_reflect: Add crate level <code>functions</code> feature docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15873><p><code>spirv_shader_passthrough</code> must enable <code>wgpu&amp#x2F;spirv</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14380><p>bevy_reflect: get_represented_kind_info APIs for reflected kinds</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16013><p>Mute non-local definition warnings in bevy_reflect</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15482><p>bevy_reflect: Add <code>ReflectDeserializerProcessor</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15548><p>bevy_reflect: Add <code>ReflectSerializerProcessor</code></p> </a></ul><h3 id=reflection-rendering>Reflection + Rendering <a class=anchor-link href=#reflection-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14588><p>Reflection for <code>DepthOfFieldSettings</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15078><p>Register reflect type <code>CursorIcon</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15355><p><code>Reflect</code> for <code>TextureFormat</code></p> </a></ul><h3 id=reflection-rendering-scenes>Reflection + Rendering + Scenes <a class=anchor-link href=#reflection-rendering-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14320><p>Register VisibleMeshEntities</p> </a></ul><h3 id=reflection-scenes>Reflection + Scenes <a class=anchor-link href=#reflection-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15174><p>Use <code>FromReflect</code> when extracting entities in dynamic scenes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16018><p>fix: add reflect to <code>SceneInstanceReady</code> and other observers/events</p> </a></ul><h3 id=reflection-states>Reflection + States <a class=anchor-link href=#reflection-states>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14643><p>Adding Reflect data types for <code>States</code> and <code>FreelyMutableState</code>.</p> </a></ul><h3 id=reflection-text>Reflection + Text <a class=anchor-link href=#reflection-text>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15950><p>register <code>TextFont</code> and <code>TextColor</code> in app type registry</p> </a></ul><h3 id=reflection-ui>Reflection + UI <a class=anchor-link href=#reflection-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14443><p>Add and reflect <code>Default</code> impls for CSS grid types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15721><p>fix: <code>register_type::&amplt;ScrollPosition&ampgt;</code></p> </a></ul><h3 id=reflection-utils>Reflection + Utils <a class=anchor-link href=#reflection-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15340><p>move ShortName to bevy_reflect</p> </a></ul><h3 id=rendering>Rendering <a class=anchor-link href=#rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13419><p>Allow mix of hdr and non-hdr cameras to same render target</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12720><p>2D top-down camera example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13752><p>Remove unused mip_bias parameter from apply_normal_mapping</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13761><p>Meshlet misc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13766><p>Clarify error message due to missing shader file</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13783><p>Make FOG_ENABLED a shader_def instead of material flag</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13775><p>Fix meshlet vertex attribute interpolation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13791><p>Add <code>from_color</code> to <code>StandardMaterial</code> and <code>ColorMaterial</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13803><p>Revert "Make FOG_ENABLED a shader_def instead of material flag (#13783)"</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13824><p>Highlight dependency on shader files in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13540><p>Use dynamic uniform buffer in post processing example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13186><p>Wgpu 0.20</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13830><p>Made some things in bevy_render <code>Debug</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13894><p>Reuse VisibleEntities in check_light_mesh_visibilty</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13905><p>Refactor check_light_mesh_visibility for performance #1</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13904><p>Improve MeshletMesh::from_mesh performance</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13297><p>Specify units in <code>AmbientLight::brightness</code> docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13913><p>Make meshlet processing deterministic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13951><p>Use default window and font sizes in sprite_slice example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13816><p>Fix meshlet interactions with regular shading passes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14016><p>Fix MeshletMesh material system ordering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14020><p>don't crash without features <code>bevy_pbr</code>, <code>ktx2</code>, <code>zstd</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13780><p>Print warning when using llvmpipe</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13906><p>Refactor check_light_mesh_visibility for performance #2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14037><p>Fix typo in CPU adapter warning</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14042><p>Fix incorrect computation of mips for cluster occlusion lookup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14029><p>Allow phase items not associated with meshes to be binned.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14031><p>Update ui_material example to be a slider instead</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14053><p>Made Material2dBindGroupId instantiable</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14081><p>Fix compile failure in WASM without <code>wgpu</code> backend</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13310><p>Support operations for render layers and fix equality comparisons</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14075><p>Clarify the difference between default render layers and <code>none</code> render layers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14048><p>Added feature switch to default Standard Material's new anisotropy texture to off</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14140><p>impl Debug for ExtendedMaterial</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14176><p>disable gpu preprocessing on android with Adreno 730 GPU and earilier</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14073><p>Lighting Should Only hold Vec&LTEntity> instead of TypeId&LTVec&LTEntity>></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13943><p>Fix prepass batch</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13695><p>Start a built-in postprocessing stack, and implement chromatic aberration in it.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14264><p>Fix overflow in <code>RenderLayers::iter_layers</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14267><p>Add support for skybox transformation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14293><p>Clearer spatial bundle pub const docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14338><p>Fix error/typo in SMAA shader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14099><p>Allow volumetric fog to be localized to specific, optionally voxelized, regions.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14257><p>Pack multiple vertex and index arrays together into growable buffers.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14364><p>Derive and reflect <code>Debug</code> for <code>CameraRenderGraph</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14290><p>Add support for environment map transformation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14372><p>Make <code>Viewport::default()</code> return a 1x1 viewport</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14287><p>Set scissor on upscale to match camera viewport</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14357><p>Using Cas instead of CAS #14341</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14421><p>Fix breaking image 0.25.2 release.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14260><p>Fix incorrect function calls to hsv_to_rgb in render debug code.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14273><p>Move <code>Msaa</code> to component</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14367><p>Unignore <code>Camera.target</code> field for reflection</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14375><p>Fix the example regressions from packed growable buffers.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14410><p>Added <code>AstcBlock</code> and <code>AstcChannel</code> to the forwarded wgpu types.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14442><p>Fixup Msaa docs.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14446><p>fix examples after the switch for msaa to a component</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14481><p>Donâ€™t prepare 2D view bind groups for 3D cameras</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14482><p>Made ViewUniform fields public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14486><p>Fix <code>bevy_gltf</code> PBR features not enabling corresponding <code>bevy_pbr</code> flags</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14423><p>Handle 0 height in prepare_bloom_textures</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14480><p>Fix TextureCache memory leak and add is_empty() method</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14505><p>Fix <code>bevy_render</code>'s <code>image</code> dependency version</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14420><p>Correct minimum range-alloc version</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14402><p>Disabled usage of the POLYGON_MODE_LINE gpu feature in the examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14370><p>Add example showing how to use SpecializedMeshPipeline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14574><p>Donâ€™t prepare lights (and shadow map textures) for 2D cameras</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14296><p>Skip batching for phase items from other pipelines</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14601><p>Fix num_cascades in split_screen exmample for WebGL</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14555><p>Add <code>invert_winding</code> for triangle list meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13069><p>Add 2d opaque phase with depth buffer</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14582><p>Fix TAA on camera with viewport</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13091><p>Use BinnedRenderPhase for Opaque2d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14394><p>Changed <code>Mesh::attributes*</code> functions to return <code>MeshVertexAttribute</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14713><p>View filter for batch_and_prepare_render_phase</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14401><p>Update WGPU to version 22</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14512><p>Expose max_mip_dimension and uv_offset in BloomSettings.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14724><p>Add AlphaMask2d phase</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14761><p>Remove Component derive for DepthOfFieldMode</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14762><p>Don't ask for ResMut in <code>queue_view_auto_exposure_pipelines</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14758><p>Fix pass_span drop panic obscuring transparent 2d render errors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14764><p>Add <code>RenderSet::FinalCleanup</code> for <code>World::clear_entities</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13712><p>Add feature requirement info to image loading docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14772><p>Ignore <code>PipelineCache</code> ambiguities</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/6624><p>Fix size of MeshVertexAttributeId to be platform independent</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14784><p>Add conversions between Visibility and bool</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14831><p>Fix mesh2_manual exapmle.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14830><p>Revert "Add conversions between Visibility and bool (#14784)"</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12637><p>check sampler type in as_bind_group derives</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14849><p>Added Sprite::sized(custom_size)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14871><p>Clarify docs for <code>RenderLayers::layer</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14868><p>Allow fog density texture to be scrolled over time with an offset</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14900><p>Fix fog density texture offset seam</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14898><p>Add helper methods on <code>Visibility</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14893><p>Fix underflow panic in <code>InitTriInfo</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14833><p>Rewrite screenshots.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14855><p>Simplify render_to_texture examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14842><p>Replace the <code>wgpu_trace</code> feature with a field in <code>bevy_render::settings::WgpuSettings</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14909><p>Refactor <code>AsBindGroup</code> to use a associated <code>SystemParam</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/9805><p>Add <code>VertexBufferLayout::offset_locations</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14623><p>Meshlet software raster + start of cleanup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11113><p>ImageSampler::init_descriptor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14937><p>Fix Adreno 642L crash</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14953><p>Remove unnecessary muts in <code>RenderSet::QueueMeshes</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15000><p>Ensure more explicit system ordering for preparing view target.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14663><p>Adds <code>ShaderStorageBuffer</code> asset</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14989><p>Return <code>Result</code>s from <code>Camera</code>'s world/viewport conversion methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15023><p>More triangles/vertices per meshlet</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13871><p>Replaced implicit emissive weight with default.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15044><p>Add convenience methods for constructing and setting storage buffer data</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15062><p>Remove deprecated <code>SpriteSheetBundle</code> and <code>AtlasImageBundle</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15071><p>Fix <code>AsBindGroup</code> sampler validation.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15073><p>Split OrthographicProjection::default into 2d & 3d (Adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15091><p>Add common aspect ratio constants and improve documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15093><p>bevy_pbr: Make choosing of diffuse indirect lighting explicit.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15117><p>honour NoFrustumCulling for shadows</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15075><p>Remove OrthographicProjection.scale (adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15092><p>Add examples for orthographic and perspective zoom</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15035><p>Rename rendering components for improved consistency and clarity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15155><p>Fix mesh 2d non indexed draw.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14948><p><code>TrackedRenderPass</code> internal tracking state reset</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14560><p>Fix <code>MeshAllocator</code> panic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13497><p>Implement percentage-closer soft shadows (PCSS).</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15304><p>Cleanup legacy code from bevy_sprite</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15266><p>Add ASCII art to custom mesh example (#15261)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15352><p>Spirv passthrough main (adopted, part deux)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15164><p>Visibility range takes the model aabb into acount</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15084><p>Meshlet screenspace-derived tangents</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15361><p>Implement volumetric fog support for both point lights and spotlights</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15087><p>Clear view attachments before resizing window surfaces</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15202><p>Fix bevy_picking sprite backend panic in out of bounds atlas index</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15419><p>Gpu readback</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15441><p>Remove render_resource_wrapper</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15456><p>Clarify purpose of shader_instancing example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15539><p>Fix some typos in custom_post_processing.rs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15554><p>Migrate lights to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15537><p>Add <code>sub_camera_view</code>, enabling sheared projection</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15566><p>Fix Mesh allocator bug and reduce Mesh data copies by two</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13454><p>Added visibility bitmask as an alternative SSAO method</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15650><p>Split off bevy_image from bevy_render</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15569><p>Zero Copy Mesh</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15656><p>Fix deferred rendering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15646><p>fix: corrected projection calculation of camera sub view</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15666><p>Split out bevy_mesh from bevy_render</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10392><p>Add <code>Image</code> methods for easy access to a pixel's color</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15688><p>Use global clear color for camera driver node.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15693><p>Fix a system ordering issue with motion blur for skinned meshes.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15586><p>Feature-gate all image formats</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15567><p>Screen shake example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14876><p>Add Order Independent Transparency</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15728><p>Fix oit webgl</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15681><p>improve sub view example with dynamic viewports</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15643><p>Per-meshlet compressed vertex data</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15747><p>Use shader_def for oit resolve layer count</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15750><p>Ensure Bevy's rendering byte usage is little-endian</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15787><p>Fix missing Msaa::Off in scrolling_fog example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15775><p>Remove <code>thiserror</code> from <code>bevy_core_pipeline</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15771><p>Remove <code>thiserror</code> from <code>bevy_image</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15768><p>Remove <code>thiserror</code> from <code>bevy_mesh</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15767><p>Remove <code>thiserror</code> from <code>bevy_pbr</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15765><p>Remove <code>thiserror</code> from <code>bevy_render</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15763><p>Remove <code>thiserror</code> from <code>bevy_sprite</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15755><p>Fix meshlet materials</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15489><p>Migrate bevy_sprite to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15749><p>Remove <code>Handle&amplt;T&ampgt;</code> trait implementations that are dependent on <code>Component</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15804><p>Fix mesh flags</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15782><p>Fix OIT shaders error with DX12 backend</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15827><p>Fix auto_exposure example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15756><p>Type safe retained render world</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15838><p>Fix broken mesh2d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15745><p>Implement <code>WorldQuery</code> for <code>MainWorld</code> and <code>RenderWorld</code> components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15883><p>Alternative fix for <code>mesh2d_manual</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15812><p>Move <code>ImageLoader</code> and <code>CompressedImageSaver</code> to <code>bevy_image</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15904><p>Attempt to remove component from render world if not extracted.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15902><p>Despawn unused light-view entity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15917><p>Move <code>SUPPORTED_FILE_EXTENSIONS</code> to <code>ImageLoader</code> and remove unsupported formats.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15930><p>Revert default mesh materials</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15926><p>Remove <code>ExtractComponent::Out</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15939><p>Delete <code>ImageLoader::COUNT</code> in favour of <code>ImageLoader::SUPPORTED_FORMATS.len()</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15969><p>Improve API for scaling orthographic cameras</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15977><p>Fix <code>pbr</code> example camera scale</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14599><p>Fix lightmaps break when deferred rendering is enabled</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15865><p>examples(shaders/glsl): Update GLSL Shader Example Camera View uniform</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15991><p>Fix OIT depth test</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15946><p>Fix deactivated camera still being used in render world</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15948><p>Remove components if not extracted</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16014><p>Indices::push(u32)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16012><p>Mute unreachable patterns/code warnings</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15846><p>Meshlet new error projection</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16049><p>Meshlet fix software rasterization</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16062><p>Fix point light count limit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15886><p>Meshlet builder improvements redux</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15955><p>Meshlet fill cluster buffers rewritten</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16069><p>Reduce the clusterable object UBO size below 16384 for WebGL 2.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16068><p>Place percentage-closer soft shadows behind a feature gate to save on samplers.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16090><p>Adding alpha_threshold to OrderIndependentTransparencySettings for user-level optimization</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16196><p>Fix and improve MSAA documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16111><p>Meshlet normal-aware LOD and meshoptimizer upgrade</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16188><p>move mesh uniform construction out of Core3d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16157><p>Fix blending for CameraOutputMode::Skip</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16202><p>Fix WGSL formatting inconsistency on mesh_view_binding</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15988><p>Upgrade to wgpu 23</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16142><p>Make <code>BinnedRenderPhase</code> fields for accessing batchable and unbatchable entities public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16301><p>Expose Pipeline Compilation Zero Initialize Workgroup Memory Option</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15156><p>Do not re-check visibility or re-render shadow maps for point and spot lights for each view</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16382><p>Make PCSS experimental</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16399><p>remove ViewUniformOffset from inactive cameras</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16404><p>Fix meshlet private item regression</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16405><p>Bind only the written parts of storage buffers.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16393><p>Rename box shadow rendering variable names</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16475><p>Fix off-by-one error on <code>Image::get_color_at</code> and <code>Image::set_color_at</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16467><p>Refresh <code>RenderVisibilityRanges</code> when a visibility range is removed from the scene.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16468><p>Only use the AABB center for mesh visibility range testing if specified.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16461><p>Make render world sync marker components <code>Copy</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16462><p>Use default storage for <code>TemporaryRenderEntity</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16513><p>use wgpu patch 23.0.1</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16530><p>Fix CAS shader alpha accessor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16533><p>Fix CAS toggle broken by retained render world</p> </a></ul><h3 id=rendering-text>Rendering + Text <a class=anchor-link href=#rendering-text>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15625><p>Fix <code>extract_text2d_sprite</code> entity leak</p> </a></ul><h3 id=rendering-text-ui>Rendering + Text + UI <a class=anchor-link href=#rendering-text-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14848><p>Improved text batching</p> </a></ul><h3 id=rendering-transform>Rendering + Transform <a class=anchor-link href=#rendering-transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15710><p>Vary transforms for custom_skinned_mesh example</p> </a></ul><h3 id=rendering-ui>Rendering + UI <a class=anchor-link href=#rendering-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13814><p>reduce the antialias strength</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13990><p>fix panic: invalid SlotMap key used</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14017><p>Make default behavior for <code>BackgroundColor</code> and <code>BorderColor</code> more intuitive</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14122><p>Skip extract UiImage When its texture is default</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13620><p>Fix UI texture atlas with offset</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14148><p>fix asymmetrical 9-slicing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15020><p>Extract borders without border radius</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14990><p>UI texture atlas slice shader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15034><p>UI texture slice texture flipping reimplementation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15018><p>UI outlines radius</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15095><p>Add rect field to UI image</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15104><p>Retrieve the <code>stack_index</code> from <code>Node</code> in <code>extract_ui_material_nodes</code> instead of walking <code>UiStack</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15120><p>Add a border to the UI material example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15119><p>ui material node border calculations fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15170><p>Enable/disable UI anti-aliasing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15332><p><code>RenderUiSystem::ExtractTextureSlice</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15163><p>use precomputed border values</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15578><p>Update the UI texture slice pipeline to work with the retained render world changes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15626><p>Fix entity leak in <code>extract_uinode_borders</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15204><p>box shadow</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15795><p>promote atlas sources texture_ids to pub visibility</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15794><p>Dark text colors fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15953><p>Default UI shadow samples fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/8997><p>Optional UI rendering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16044><p>UI borders and outlines clipping fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16071><p>Fixes for a few minor borders and outlines bugs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16088><p>Improved <code>UiImage</code> and <code>Sprite</code> scaling and slicing APIs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16181><p>UI anti-aliasing fix</p> </a></ul><h3 id=rendering-windowing>Rendering + Windowing <a class=anchor-link href=#rendering-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15094><p>Fix screenshot example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15649><p>Inverse bevy_render bevy_winit dependency and move cursor to bevy_winit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15654><p>fix: Skip some rendering logics when the viewport width or height is zero</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16123><p>Fix linux nvidia + xwayland freeze at startup</p> </a></ul><h3 id=scenes>Scenes <a class=anchor-link href=#scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13714><p>Align <code>Scene::write_to_world_with</code> to match <code>DynamicScene::write_to_world_with</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13800><p>Revert Align Scene::write_to_world_with to match DynamicScene::write_to_world_with</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11741><p>Send <code>SceneInstanceReady</code> when spawning any kind of scene</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13855><p>Align <code>Scene::write_to_world_with</code> to match <code>DynamicScene::write_to_world_with</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14390><p>Make the <code>GltfNode::children</code> links actually point to children.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13859><p>Change <code>SceneInstanceReady</code> to trigger an observer.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15047><p>Sorts the scene entries by path before serializing.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15210><p>explicitly mention <code>component</code> in methods on <code>DynamicSceneBuilder</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15222><p>add <code>allow_all</code> and <code>deny_all</code> methods to <code>DynamicSceneBuilder</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15405><p>Fix for SceneEntityMapper + hooks panic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15579><p>Migrate scenes to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15679><p>Add scene summary</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15753><p>bevy_scene: Use <code>FromReflect</code> on extracted resources</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15764><p>Remove <code>thiserror</code> from <code>bevy_scene</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15829><p>Fix invalid scene file for <code>scene</code> example</p> </a></ul><h3 id=states>States <a class=anchor-link href=#states>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14489><p>Add note on StatesPlugin requirement for state code</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14667><p>bevy_state: Make <code>reflect</code> module public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15083><p>Add set_state extension method to Commands</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15284><p>Throw real error messages on all failed attempts to get <code>StateTransition</code> schedule</p> </a></ul><h3 id=tasks>Tasks <a class=anchor-link href=#tasks>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13889><p>Make <code>Task</code>s functional on WASM</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14636><p>Fixed typo</p> </a></ul><h3 id=text>Text <a class=anchor-link href=#text>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13717><p>Uncouple <code>DynamicTextureAtlasBuilder</code> from assets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13846><p>fix non-exact text h-alignment</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13858><p>text position: use size instead of bounds</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14185><p>Fix inconsistency in <code>KeyboardInput</code> examples to match migration guide</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14406><p>feat: expose the default font bytes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14991><p>Use cosmic-text shaping buffer</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14997><p>Reuse TextLayoutInfo in queue_text</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14999><p>Don't reallocate scale factors in measure_text_system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15017><p>Fix some examples having different instruction text positions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15016><p>Cosmetic improvements for <code>text_input</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15037><p>Trim cosmic-text's shape run cache</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15190><p>Fixing text sizes for examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15371><p>Zero fontsize panic workaround</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15479><p>Make <code>CosmicFontSystem</code> and <code>SwashCache</code> pub resources.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15581><p>Refactor TextPipeline::update_buffer to accept an interator</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15669><p>Fix text measurement when multiple font sizes are present</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15762><p>Remove <code>thiserror</code> from <code>bevy_text</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15591><p>Text rework</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15797><p>Rename TextBlock to TextLayout</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15857><p>split up <code>TextStyle</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15887><p>Text Rework cleanup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16063><p>Use CosmicFontSystem in public bevy_text APIs and remove cosmic_text re-export</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16264><p>Text2d scalefactor change detection fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16524><p>Skip empty spans when updating text buffers</p> </a></ul><h3 id=text-ui>Text + UI <a class=anchor-link href=#text-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10193><p>Cosmic text</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15003><p>Optimize UI text measurement</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15012><p>Avoid reallocating spans buffer in TextPipeline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15368><p>Add the ability to control font smoothing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15951><p>Remove <code>bevy_ui</code>'s "bevy_text" feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16358><p>Fix not being able to run bevy_ui tests</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16370><p>Adds some helpful methods to TextFont</p> </a></ul><h3 id=time>Time <a class=anchor-link href=#time>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13776><p>Fix minor doc typo</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13879><p>Make time_system public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15759><p>Remove <code>thiserror</code> from <code>bevy_time</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15874><p>Time&LTReal> documentation improvement</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15927><p>Fix overflow panic on Stopwatch at Duration::MAX</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15962><p>aligning public apis of Time,Timer and Stopwatch</p> </a></ul><h3 id=transform>Transform <a class=anchor-link href=#transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13935><p>Use a ship in Transform::align example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14292><p>Clarify GlobalTransform::transform_point</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14374><p>Fix tracing with <code>transform_hierarchy</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14858><p>Use quaternionic <code>smooth_nudge</code> in the <code>align</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15761><p>Remove <code>thiserror</code> from <code>bevy_transform</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16211><p>Improved the global transform api to access rotation and scale</p> </a></ul><h3 id=ui>UI <a class=anchor-link href=#ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13921><p>bug: Fix 9-slice textures with asymmetric borders.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14055><p>add PartialEq to Outline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14115><p>fix remaining issues with background color in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14079><p>Using simple approx round up in ui_layout_system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14121><p>Fix border color in <code>ui_texture_slice</code> and <code>ui_texture_atlas_slice</code> examples.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14064><p>Optimize ui_layout_system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14228><p>Clean up UiSystem system sets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14317><p>remove rounded_borders and merge with borders example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14405><p>Fix button placement in <code>split_screen</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14430><p>Fix error in <code>bevy_ui</code> when building without <code>bevy_text</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14457><p>Add BorderRadius field to ImageBundle</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14439><p>Remove <code>#[cfg]</code> from the <code>From</code> impls of <code>TextSection</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14450><p>Added serialize flag to bevy_math dep of bevy_ui</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14490><p>fix issue with phantom ui node children</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14768><p>Remove manual <code>apply_deferred</code> in <code>bevy_ui</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14777><p>#14143 - fix bevy_ui padding</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14793><p>Remove useless <code>Direction</code> field</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14944><p>don't use padding for layout</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14947><p>Resolve UI outlines using the correct target's viewport size</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15001><p>Reduce allocations in ui_layout_system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15050><p><code>Node::is_empty</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15173><p>Remove border radius scaling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15177><p>Increase border_rect for TextureSlicer to match image</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15246><p>Implement <code>enabled</code> flag for fps overlay</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15291><p>UI Scrolling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/9889><p>Simplified <code>ui_stack_system</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15583><p>Rename BreakLineOn to LineBreak</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15341><p>Add UI <code>GhostNode</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15622><p>Display the bounds of each text node in the <code>text_debug</code> ui example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15740><p>Replace <code>Handle&amplt;M: UiMaterial&ampgt;</code> component with <code>UiMaterialHandle</code> wrapper</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15736><p>Remove warning for children in UI hierarchies without Style</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15760><p>Remove <code>thiserror</code> from <code>bevy_ui</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15746><p>Filter UI traversal to only Node and GhostNode</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15442><p>Clip to the UI node's content box</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12803><p>[bevy_ui/layout] Add tests, missing asserts, and missing debug fields for UiSurface</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15925><p>don't clip text that is rotated</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15561><p>Overflow clip margin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15952><p>Add shadows to <code>ui</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15919><p>UI materials: don't reserve in loop when enough capacity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15961><p>Mark ghost nodes as experimental and partially feature flag them</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15898><p>Migrate UI bundles to required components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15975><p>Merge Style properties into Node. Use ComputedNode for computed properties.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15978><p>Fix red background in <code>ui_material</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16058><p>Ensure ghost nodes are skipped when getting parent clipping rect</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16072><p>Move TextureAtlas into UiImage and remove impl Component for TextureAtlas</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16083><p>Move <code>ContentSize</code> requirements from <code>Node</code> to the widget defining components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16131><p>Rename <code>ComputedNode::calculated_size</code> to <code>size</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16097><p>Remove custom rounding</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16138><p>Require <code>ContentSize</code> on <code>UiImage</code> again</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16134><p>Constify <code>ComputedNode</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16177><p>Remove the <code>Globals</code> binding from the box shadow shader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16151><p>Expanded <code>ui</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16271><p>UiImage -> ImageNode, UiImageSize -> ImageNodeSize</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16288><p>Fix panic in UiSurface if Node is removed and re-added</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16351><p>Remove the measure func for image nodes with the default UI texture</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16375><p>Only use physical coords internally in <code>bevy_ui</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16457><p>fix: setting content size to rect size if image has a rect</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16506><p><code>BorderRadius::percent</code> fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16536><p>Improve ZIndex docs</p> </a></ul><h3 id=ui-windowing>UI + Windowing <a class=anchor-link href=#ui-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14609><p>Explicitly order <code>CameraUpdateSystem</code> before <code>UiSystem::Prepare</code></p> </a></ul><h3 id=utils>Utils <a class=anchor-link href=#utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13896><p>Fix parameter name of all_tuples's document</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14178><p>Remove unused type parameter in <code>Parallel::drain()</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14603><p>update <code>hashbrown</code> to <code>0.14.2</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14832><p>Added Documentation to <code>all_tuples_with_size</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15039><p>Remove remnant <code>EntityHash</code> and related types from <code>bevy_utils</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15279><p>Allow <code>bevy_utils</code> in <code>no_std</code> Contexts</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15294><p>Remove allocation in <code>get_short_name</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15465><p>Modify <code>derive_label</code> to support <code>no_std</code> environments</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15463><p>Minor fixes for <code>bevy_utils</code> in <code>no_std</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15912><p>Fix <code>detailed_trace</code> module scope</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16452><p>Fix detailed_trace!</p> </a></ul><h3 id=windowing>Windowing <a class=anchor-link href=#windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13744><p>13743 app exit hang</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13880><p>fix typo</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13942><p>Correctly check physical size when updating winit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13967><p>apply window scale to window size when creating it</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13949><p>Have WindowPosition::Centered take scale_factor_override into account</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14023><p>only run one update per frame drawn</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14224><p>update example low_power</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14155><p>Dirty fix for App hanging when windows are invisible on WindowsOS</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14298><p>Fix <code>bevy_window</code> failing with <code>serialize</code> feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14313><p>Remove unused <code>default</code> feature from <code>bevy_window</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14469><p>Fix <code>bevy_winit</code> not building with <code>serialize</code> feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14573><p>Properly handle repeated window close requests</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13669><p>Expose winit's <code>MonitorHandle</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14804><p>Fix error when closing window in 2d_viewport_to_world example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14851><p>Made the naming for commands parameter more consistent</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15377><p>Log monitor and window information at startup in bevy_winit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15492><p>Use <code>try_insert</code> in <code>on_remove_cursor_icon</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15585><p>move ANDROID_APP to bevy_window</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15262><p>Fix transparent_window example on wayland</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15674><p>Add the functions <code>start_drag_move</code> and <code>start_drag_resize</code> to <code>Window</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15820><p>Add <code>bevy_window::Window</code> options for MacOS</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15888><p>force last update after setting state to Suspended</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15814><p>Add window drag move and drag resize without decoration example.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15989><p>Add docs for how to manually add a <code>WinitPlugin</code> to a <code>MinimalPlugins</code> setup.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16093><p>Correctly feature gate <code>custom_cursor</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16255><p>properly flag using <code>CustomCursor::Url</code> in wasm</p> </a></ul><h3 id=gltf>glTF <a class=anchor-link href=#gltf>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15512><p>Fix regression in <code>bevy_gltf</code> build</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13912><p>feat(gltf): add name component to gltf mesh primitive</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15772><p>Remove <code>thiserror</code> from <code>bevy_gltf</code></p> </a></ul><h3 id=no-area-label>No area label <a class=anchor-link href=#no-area-label>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13732><p>rename the crate bevy_state_macros_official back to its original name</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13786><p>Bump crate-ci/typos from 1.21.0 to 1.22.3</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13890><p>Bump crate-ci/typos from 1.22.3 to 1.22.7</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13898><p>Fix minor typo</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13899><p>Fix lints introduced in Rust beta 1.80</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13924><p>Fixed a link to Blender's mikktspace docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13952><p>Omit font size where it closely matches the default in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13955><p>Fix a few "repeated word" typos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13956><p>Fix a couple typos in contributing docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13954><p>Make Observer::with_event (and other variants) unsafe</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13997><p>Bump crate-ci/typos from 1.22.7 to 1.22.9</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13760><p>Add Display implementation to DebugName.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14033><p>fix examples color_grading and mobile after BackgroundColor changes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14173><p>Deduplicate Wasm optimization instructions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14220><p>fix typo processed_dir</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14217><p>Bump crate-ci/typos from 1.22.9 to 1.23.1</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14223><p>Add an example for doing movement in fixed timesteps</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14276><p>Fixed #14248 and other URL issues</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14218><p>update gltf example to use type-safe <code>GltfAssetLabel::Scene</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14324><p>Bump crate-ci/typos from 1.23.1 to 1.23.2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14360><p>fix building cargo_gltf with feature dds</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14471><p>fix meshlet example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14514><p>Bump crate-ci/typos from 1.23.2 to 1.23.5</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14527><p>Fix CI after #12965</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14544><p>time_system is ambiguous_with event_update_system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14626><p>Bump crate-ci/typos from 1.23.5 to 1.23.6</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14795><p>Fix ecs example thread_rng duplicate creation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14922><p>Bump crate-ci/typos from 1.23.6 to 1.24.1</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14973><p>Remove some asset examples from web showcase</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14987><p>Fix compile error caused by incorrect feature flag in <code>bevy_state</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15033><p>style: simplify string formatting for readability</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15064><p>fix imports in example ui_texture_slice_flip_and_tile</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15096><p>Fix comment in example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15082><p>Fix error link</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15111><p>Bump crate-ci/typos from 1.24.3 to 1.24.5</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15109><p>Improve first person camera in example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15146><p>fix spelling mistake</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15153><p>Fix "game_menu" example buttons not changing color on Interaction</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15157><p>Fix typo in bevy_reflect/src/reflect.rs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15167><p>Micro typo in <code>bevy_ecs</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15181><p>2580 Split examples PR feedback</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15213><p>Reflect derived traits on all components and resources: bevy_core_pipeline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15215><p>Reflect derived traits on all components and resources: bevy_ecs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15217><p>Reflect derived traits on all components and resources: bevy_gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15218><p>Reflect derived traits on all components and resources: bevy_gltf</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15220><p>Reflect derived traits on all components and resources: bevy_input</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15219><p>Reflect derived traits on all components and resources: bevy_hierarchy</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15224><p>Reflect derived traits on all components and resources: bevy_pbr</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15225><p>Reflect derived traits on all components and resources: bevy_picking</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15226><p>Reflect derived traits on all components and resources: bevy_render</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15227><p>Reflect derived traits on all components and resources: bevy_sprite</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15228><p>Reflect derived traits on all components and resources: bevy_state</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15229><p>Reflect derived traits on all components and resources: bevy_text</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15233><p>Reflect derived traits on all components and resources: bevy_window</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15231><p>Reflect derived traits on all components and resources: bevy_ui</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15230><p>Reflect derived traits on all components and resources: bevy_transform</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10846><p>Substitute trivial fallible conversions with infallible function calls</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15232><p>Note on compiling on FreeBSD</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15245><p>Update gilrs requirement from 0.10.1 to 0.11.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15292><p>Fix typo in sprite_picking.rs example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15315><p>simplify std::mem references</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15328><p>Fix warnings triggered by <code>elided_named_lifetimes</code> lint</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15337><p>Fix doc link import style to avoid unused_imports</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15383><p>Bump crate-ci/typos from 1.24.5 to 1.24.6</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15497><p>bump async-channel to 2.3.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15594><p>Cleanup <code>clearcoat</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15673><p>Fix doc comment</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15672><p>Fix wrong link in error</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15686><p>Spelling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15694><p>Bump crate-ci/typos from 1.24.6 to 1.25.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15695><p>Bump actions/setup-java from 3 to 4</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15697><p>Update sysinfo requirement from 0.31.0 to 0.32.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15715><p>Fix <code>query_gltf_primitives</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15719><p>Fix <code>shader_prepass</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15784><p>Add <code>register_type</code> for <code>UiMaterialHandle</code> and <code>AnimationGraphHandle</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15783><p>Add <code>register_type</code> for <code>UiAntiAlias</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15786><p>Remove eprintln from <code>2d_screen_shake</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15816><p>Update multi_asset_sync.rs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15842><p>Fix formatting of <code>irradiance_volumes</code> example instructions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15845><p>Fix <code>loading_screen</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15851><p>Fix <code>println</code> in <code>morph_targets</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15852><p>Fix <code>motion_blur</code> example instructions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15850><p>Fix <code>minimising</code> example minimizing every frame</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15867><p>Remove a <code>dbg!</code> statement left over from debugging</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15947><p>Fix typos from greyscale -> grayscale</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15945><p>Fix asset_settings example regression</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15973><p>Remove AVIF feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15999><p>OIT style tweaks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/15980><p>Fix some duplicate words in docs/comments</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16021><p>Fix a tiny mismatch between code and comment</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16025><p>Fix typos in <code>config_fast_builds.toml</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16057><p>remove reference to missing file in bevy_remote cargo.toml</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16099><p>fix bevy_dev_tools build</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16102><p>Cosmetic tweaks to <code>query_gltf_primitives</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16257><p>Remove <code>accesskit</code> re-export from <code>bevy_a11y</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16296><p>Reflect TextLayout and ComputedTextBlock</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/16548><p>Reduce iOS cpu usage</p> </a></ul></div><script type=module>import{enable_image_compare as a}from"/components.js";document.addEventListener(`DOMContentLoaded`,(()=>{a()}))</script></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>