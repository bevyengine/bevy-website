<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Bevy 0.13" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//news/bevy-0-13/ property=og:url><meta content=https://bevy.org/assets/bevy_logo_fill.png property=og:image><meta content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>Bevy 0.13</title><script defer src=/highlight-intrapage-link.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>News</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">Post</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu data-highlight-intrapage-link><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#initial-baked-lighting>Initial Baked Lighting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#minimal-reflection-probes>Minimal Reflection Probes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#approximate-indirect-specular-occlusion>Approximate Indirect Specular Occlusion</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#primitive-shapes>Primitive Shapes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#system-stepping>System Stepping</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#camera-exposure>Camera Exposure</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#camera-driven-ui>Camera-Driven UI</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#texture-slicing-and-tiling>Texture Slicing and Tiling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#dynamic-queries>Dynamic Queries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#query-transmutation>Query Transmutation</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#worldquery-trait-split>WorldQuery Trait Split</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#automatically-insert-apply-deferred-systems>Automatically Insert apply_deferred Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#more-flexible-one-shot-systems>More Flexible One-Shot Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#wgpu-0-19-upgrade-and-rendering-performance-improvements>wgpu 0.19 Upgrade and Rendering Performance Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#unload-rendering-assets-from-ram>Unload Rendering Assets from RAM</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#better-batching-through-smarter-sorting>Better Batching Through Smarter Sorting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#animation-interpolation-methods>Animation Interpolation Methods</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#animatable-trait>Animatable Trait</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#extensionless-asset-support>Extensionless Asset Support</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#texture-atlas-rework>Texture Atlas Rework</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#light-renderlayers>Light RenderLayers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#bind-group-layout-entries>Bind Group Layout Entries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#type-safe-labels-for-the-rendergraph>Type-Safe Labels for the RenderGraph</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#winit-upgrade>Winit Upgrade</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#multiple-gizmo-configurations>Multiple Gizmo Configurations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#gltf-extensions>glTF Extensions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#asset-transformers>Asset Transformers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#entity-optimizations>Entity Optimizations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#porting-query-for-each-to-queryiter-fold-override>Porting Query::for_each to QueryIter::fold override</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#reducing-tablerow-as-casting>Reducing TableRow as Casting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#events-live-longer>Events Live Longer</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#what-s-next>What's Next?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#support-bevy>Support Bevy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#contributors>Contributors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#full-changelog>Full Changelog</a></div></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class=main-menu__link href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><div class="page-with-menu page-with-menu--news"><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu data-highlight-intrapage-link><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#initial-baked-lighting>Initial Baked Lighting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#minimal-reflection-probes>Minimal Reflection Probes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#approximate-indirect-specular-occlusion>Approximate Indirect Specular Occlusion</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#primitive-shapes>Primitive Shapes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#system-stepping>System Stepping</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#camera-exposure>Camera Exposure</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#camera-driven-ui>Camera-Driven UI</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#texture-slicing-and-tiling>Texture Slicing and Tiling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#dynamic-queries>Dynamic Queries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#query-transmutation>Query Transmutation</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#worldquery-trait-split>WorldQuery Trait Split</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#automatically-insert-apply-deferred-systems>Automatically Insert apply_deferred Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#more-flexible-one-shot-systems>More Flexible One-Shot Systems</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#wgpu-0-19-upgrade-and-rendering-performance-improvements>wgpu 0.19 Upgrade and Rendering Performance Improvements</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#unload-rendering-assets-from-ram>Unload Rendering Assets from RAM</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#better-batching-through-smarter-sorting>Better Batching Through Smarter Sorting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#animation-interpolation-methods>Animation Interpolation Methods</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#animatable-trait>Animatable Trait</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#extensionless-asset-support>Extensionless Asset Support</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#texture-atlas-rework>Texture Atlas Rework</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#light-renderlayers>Light RenderLayers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#bind-group-layout-entries>Bind Group Layout Entries</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#type-safe-labels-for-the-rendergraph>Type-Safe Labels for the RenderGraph</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#winit-upgrade>Winit Upgrade</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#multiple-gizmo-configurations>Multiple Gizmo Configurations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#gltf-extensions>glTF Extensions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#asset-transformers>Asset Transformers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#entity-optimizations>Entity Optimizations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#porting-query-for-each-to-queryiter-fold-override>Porting Query::for_each to QueryIter::fold override</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#reducing-tablerow-as-casting>Reducing TableRow as Casting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#events-live-longer>Events Live Longer</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#what-s-next>What's Next?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#support-bevy>Support Bevy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#contributors>Contributors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-13/#full-changelog>Full Changelog</a></div></ul></div></div><div class=page-with-menu__content><h1 class=news-title>Bevy 0.13</h1><h2 class=news-subtitle>Posted on February 17, 2024 by Bevy Contributors</h2><div class="media-content news-content news-content__hero-image"><img alt="Gameplay from Jarl, an in-production fantasy colony builder made with Bevy" style="aspect-ratio:auto 16/9" src=jarl.webp><div class=news-image-subtitle><a href=https://www.jarl-game.com/>Gameplay from Jarl, an in-production fantasy colony builder made with Bevy</a></div></div><div class="media-content news-content"><p>Thanks to <strong>198</strong> contributors, <strong>672</strong> pull requests, community reviewers, and our <a href=/community/donate><strong>generous sponsors</strong></a>, we're happy to announce the <strong>Bevy 0.13</strong> release on <a href=https://crates.io/crates/bevy>crates.io</a>!<p>For those who don't know, Bevy is a refreshingly simple data-driven game engine built in Rust. You can check out our <a href=/learn/quick-start>Quick Start Guide</a> to try it today. It's free and open source forever! You can grab the full <a href=https://github.com/bevyengine/bevy>source code</a> on GitHub. Check out <a href=https://bevy.org/assets>Bevy Assets</a> for a collection of community-developed plugins, games, and learning resources. And to see what the engine has to offer hands-on, check out the entries in the <a href=https://itch.io/jam/bevy-jam-4/entries>latest Bevy Jam</a>, including the winner <a href=https://andrewb330.itch.io/thats-a-lot-of-beeeeees>That's a LOT of beeeeees</a>.<p>To update an existing Bevy App or Plugin to <strong>Bevy 0.13</strong>, check out our <a href=/learn/migration-guides/0-12-to-0-13/>0.12 to 0.13 Migration Guide</a>.<p>Since our last release a few months ago we've added a <em>ton</em> of new features, bug fixes, and quality of life tweaks, but here are some of the highlights:</p><span id=continue-reading></span><ul><li><strong>Lightmaps:</strong> A fast, popular baked global illumination technique for static geometry (baked externally in programs like The Lightmapper).<li><strong>Irradiance Volumes / Voxel Global Illumination:</strong> A baked form of global illumination that samples light at the centers of voxels within a cuboid (baked externally in programs like Blender).<li><strong>Approximate Indirect Specular Occlusion</strong>: Improved lighting realism by reducing specular light leaking via specular occlusion.<li><strong>Reflection Probes</strong>: A baked form of axis aligned environment map that allows for realistic reflections for static geometry (baked externally in programs like Blender)<li><strong>Primitive shapes:</strong> Basic shapes are a core building block of both game engines and video games: we've added a polished, ready-to-use collection of them!<li><strong>System stepping:</strong> Completely pause and advance through your game frame-by-frame or system-by-system to interactively debug game logic, all while rendering continues to update.<li><strong>Dynamic queries:</strong> Refining queries from within systems is extremely expressive, and is the last big puzzle piece for runtime-defined types and third-party modding and scripting integration.<li><strong>Automatically inferred command flush points:</strong> Tired of reasoning about where to put <code>apply_deferred</code> and confused about why your commands weren't being applied? Us too! Now, Bevy's scheduler uses ordinary <code>.before</code> and <code>.after</code> constraints and inspects the system parameters to automatically infer (and deduplicate) synchronization points.<li><strong>Slicing, tiling and nine-patch 2D images:</strong> Ninepatch layout is a popular tool for smoothly scaling stylized tilesets and UIs. Now in Bevy!<li><strong>Camera-Driven UI</strong>: UI entity trees can now be selectively added to <em>any</em> camera, rather than being globally applied to all cameras, enabling things like split screen UIs!<li><strong>Camera Exposure</strong>: Realistic / "real world" control over camera exposure via EV100, f-stops, shutter speed, and ISO sensitivity. Lights have also been adjusted to make their units more realistic.<li><strong>Animation interpolation modes:</strong> Bevy now supports non-linear interpolation modes in exported glTF animations.</ul><h2 id=initial-baked-lighting>Initial Baked Lighting <a class=anchor-link href=#initial-baked-lighting>#</a></h2><p>Computing lighting in real time is expensive; but for elements of a scene that never move (like rooms or terrain), we can get prettier lighting and shadows for cheaper by computing it ahead of time using <strong>global illumination</strong>, then storing the results in a "baked" form that never changes. Global illumination is a more realistic (and expensive) approach to lighting that often uses ray tracing. Unlike Bevy's default rendering, it takes light bouncing off of other objects into account, producing more realistic effects through the inclusion of indirect light.<h3 id=lightmaps>Lightmaps <a class=anchor-link href=#lightmaps>#</a></h3><div class=release-feature-authors>authors: @pcwalton</div><p><img alt=lightmaps src=https://bevy.org/news/bevy-0-13/lightmap.jpg><p><strong>Lightmaps</strong> are textures that store pre-computed global illumination results. They have been a mainstay of real-time graphics for decades. <strong>Bevy 0.13</strong> adds initial support for rendering lightmaps computed in other programs, such as <a href=https://github.com/Naxela/The_Lightmapper>The Lightmapper</a>. Ultimately we would like to add support for baking lightmaps directly in Bevy, but this first step unlocks lightmap workflows!<p>Like the <a href=https://github.com/bevyengine/bevy/blob/main/examples/3d/lightmaps.rs>lightmaps example</a> shows, just load in your baked lightmap image, and then insert a <a href=https://docs.rs/bevy/0.13.0/bevy/pbr/struct.Lightmap.html><code>Lightmap</code></a> component on the corresponding mesh.<h3 id=irradiance-volumes-voxel-global-illumination>Irradiance Volumes / Voxel Global Illumination <a class=anchor-link href=#irradiance-volumes-voxel-global-illumination>#</a></h3><div class=release-feature-authors>authors: @pcwalton</div><p><img alt="irradiance volume" src=https://bevy.org/news/bevy-0-13/irradiance_volume.jpg><p><strong>Irradiance volumes</strong> (or voxel global illumination) is a technique used for approximating indirect light by first dividing a scene into cubes (voxels), then sampling the amount of light present at the center of each of those voxels. This light is then added to objects within that space as they move through it, changing the ambient light level on those objects appropriately.<p>We've chosen to use the ambient cubes algorithm for this, based on Half Life 2. This allows us to match Blender's <a href=https://docs.blender.org/manual/en/latest/render/eevee/index.html>Eevee renderer</a>, giving users a simple and free path to creating nice-looking irradiance volumes for their own scenes.<p>Notice how this sphere subtly picks up the colors of the environment as it moves around, thanks to irradiance volumes:<p><video controls><source src=irradiance_volume.mp4 type=video/mp4></video><p>For now, you need to use external tools such as Blender to bake irradiance volumes, but in the future we would like to support baking irradiance volumes directly in Bevy!<h2 id=minimal-reflection-probes>Minimal Reflection Probes <a class=anchor-link href=#minimal-reflection-probes>#</a></h2><div class=release-feature-authors>authors: @pcwalton</div><p><strong>Environment maps</strong> are 2D textures used to simulate lighting, reflection, and skyboxes in a 3D scene. <strong>Reflection probes</strong> generalize environment maps to allow for multiple environment maps in the same scene, each of which has its own axis-aligned bounding box. This is a standard feature of physically-based renderers and was inspired by the <a href=https://docs.blender.org/manual/en/latest/render/eevee/light_probes/reflection_cubemaps.html>corresponding feature in Blender's Eevee renderer</a>.<p>In the <a href=https://github.com/bevyengine/bevy/pull/11366>reflection probes PR</a>, we've added basic support for these, laying the groundwork for pretty, high-performance reflections in Bevy games. Like with the baked global illumination work discussed above, these must currently be precomputed externally, then imported into Bevy. As discussed in the PR, there are quite a few caveats: WebGL2 support is effectively non-existent, sharp and sudden transitions will be observed because there's no blending, and all cubemaps in the world of a given type (diffuse or specular) must have the same size, format, and mipmap count.<p><img alt="reflection probes" src=https://bevy.org/news/bevy-0-13/reflection_probes.jpg><h2 id=approximate-indirect-specular-occlusion>Approximate Indirect Specular Occlusion <a class=anchor-link href=#approximate-indirect-specular-occlusion>#</a></h2><div class=release-feature-authors>authors: @aevyrie</div><p>Bevy's current PBR renderer over-brightens the image, especially at grazing angles where the fresnel effect tends to make surfaces behave like mirrors. This over-brightening happens because the surfaces must reflect <em>something</em>, but without path traced or screen-space reflections, the renderer has to guess <em>what</em> is being reflected. The best guess it can make is to sample the environment cube map, even if light would've hit something else before reaching the environment light. This artifact, where light occlusion is ignored, is called specular light leaking.<p>Consider a car tire; though the rubber might be shiny, you wouldn't expect it to have bright specular highlights inside a wheel well, because the car itself is blocking (occluding) the light that would otherwise cause these reflections. Fully checking for occlusion can be computationally expensive.<p><strong>Bevy 0.13</strong> adds support for <strong>Approximate Indirect Specular Occlusion</strong>, which uses our existing <a href=/news/bevy-0-11/#screen-space-ambient-occlusion>Screen Space Ambient Occlusion</a> to <em>approximate</em> specular occlusion, which can run efficiently in real time while still producing reasonably high quality results:<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1924/1080><div data-title-a="Specular Occlusion On" data-title-b="Specular Occlusion Off" class=image-compare style=aspect-ratio:1924/1080><img alt="Specular Occlusion On" class=image-a src=specular_occlusion_on.jpg><img alt="Specular Occlusion Off" class=image-b src=specular_occlusion_off.jpg></div></div><div class=release-feature-authors style=font-size:1rem>Model Credits: <a href=https://sketchfab.com/3d-models/bmw-r1200gs-motorcycle-6550451b0ae547039585a44286b2f530>BMW R1200GS Motorcycle</a> by Moto3D is licensed under <a href=http://creativecommons.org/licenses/by/4.0/>CC-BY-4.0</a>.</div><p>In the future, this could be further improved with screen space reflections (SSR). However, conventional wisdom is that you should use specular occlusion alongside SSR, because SSR still suffers from light leaking artifacts.<h2 id=primitive-shapes>Primitive Shapes <a class=anchor-link href=#primitive-shapes>#</a></h2><div class=release-feature-authors>authors: @Jondolf, @NiseVoid, @aevyrie</div><p>Geometric shapes are used all across game development, from primitive mesh shapes and debug gizmos to physics colliders and raycasting. Despite being so commonly used across several domains, Bevy hasn't really had any general-purpose shape representations.<p>This is changing in <strong>Bevy 0.13</strong> with the introduction of first-party <strong>primitive shapes</strong>! They are lightweight geometric primitives designed for maximal interoperability and reusability, allowing Bevy and third-party plugins to use the same set of basic shapes and increase cohesion within the ecosystem. See the original <a href=https://github.com/bevyengine/rfcs/blob/main/rfcs/12-primitive-shapes.md>RFC</a> for more details.<p>The built-in <a href=https://docs.rs/bevy/0.13.0/bevy/math/primitives/index.html>collection of primitives</a> is already quite sizeable:<table><thead><tr><th>2D<th>3D<tbody><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Rectangle.html><code>Rectangle</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Cuboid.html><code>Cuboid</code></a><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Circle.html><code>Circle</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Sphere.html><code>Sphere</code></a><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Ellipse.html><code>Ellipse</code></a><td><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Triangle2d.html><code>Triangle2d</code></a><td><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Plane2d.html><code>Plane2d</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Plane3d.html><code>Plane3d</code></a><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Line2d.html><code>Line2d</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Line3d.html><code>Line3d</code></a><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Segment2d.html><code>Segment2d</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Segment3d.html><code>Segment3d</code></a><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Polyline2d.html><code>Polyline2d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.BoxedPolyline2d.html><code>BoxedPolyline2d</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Polyline3d.html><code>Polyline3d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.BoxedPolyline3d.html><code>BoxedPolyline3d</code></a><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Polygon.html><code>Polygon</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.BoxedPolygon.html><code>BoxedPolygon</code></a><td><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.RegularPolygon.html><code>RegularPolygon</code></a><td><tr><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Capsule2d.html><code>Capsule2d</code></a><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Capsule3d.html><code>Capsule3d</code></a><tr><td><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Cylinder.html><code>Cylinder</code></a><tr><td><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Cone.html><code>Cone</code></a><tr><td><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.ConicalFrustum.html><code>ConicalFrustum</code></a><tr><td><td><a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Torus.html><code>Torus</code></a></table><p><a href=https://github.com/bevyengine/bevy/issues/10572>More primitives</a> will be added in future releases.<p>Some use cases for primitive shapes include meshing, gizmos, bounding volumes, colliders, and ray casting functionality. Several of these have landed in 0.13 already!<h3 id=rendering>Rendering <a class=anchor-link href=#rendering>#</a></h3><p>Primitive shapes can be rendered using both meshes and gizmos. In this section, we'll take a closer look at the new APIs.<p>Below, you can see a cuboid and a torus rendered using meshes and gizmos. You can check out all primitives that can be rendered in the new <a href=https://bevy.org/examples/Math/render-primitives>Rendering Primitives</a> example.<p><img alt="On the left: A cuboid rendered with gizmos. It consists of 12 white lines. On the right: A cuboid rendered with meshes. It consists of 6 white faces." src=https://bevy.org/news/bevy-0-13/cuboids.png><p><img alt="On the left: A torus rendered with gizmos. It consists of many small rings, all connected by 4 big rings. On the right: A torus rendered with meshes. A shape that looks like a donut." src=https://bevy.org/news/bevy-0-13/tori.png><h4 id=meshing>Meshing <a class=anchor-link href=#meshing>#</a></h4><div class=release-feature-authors>authors: @Jondolf</div><p>Previous versions of Bevy have had types like <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/shape/struct.Quad.html><code>Quad</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/shape/struct.Box.html><code>Box</code></a>, and <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/shape/struct.UVSphere.html><code>UVSphere</code></a> for creating meshes from basic shapes. These have been deprecated in favor of a builder-like API using the new geometric primitives.<p>Primitives that support meshing implement the <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/trait.Meshable.html><code>Meshable</code></a> trait. For some shapes, the <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/trait.Meshable.html#tymethod.mesh><code>mesh</code></a> method returns a <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Mesh.html><code>Mesh</code></a> directly:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> before <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Quad<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> after <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Rectangle<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Mesh::from also works
</span></span></code></pre><p>For most primitives however, it returns a builder for optional configuration:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create a circle mesh with a specified vertex count
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> before <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Circle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    radius<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    vertices<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">64</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> after <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Circle<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">resolution</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">64</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Below are a few more examples of meshing with the new primitives.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Icosphere
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> before <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span>try_from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Icosphere <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        radius<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        subdivisions<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">8</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> after <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Sphere<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">ico</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">8</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Cuboid
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> (notice how Assets::add now also handles mesh conversion automatically)
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> before <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">shape<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">Box<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> after <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Cuboid<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Plane
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> before <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Mesh<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Plane<span class="z-punctuation z-accessor z-rust">::</span></span>from_size<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> after <span class="z-keyword z-operator z-assignment z-rust">=</span> meshes<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Plane3d<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">mesh</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">size</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>With the addition of the primitives, meshing is also supported for more shapes, like <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Ellipse.html><code>Ellipse</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Triangle2d.html><code>Triangle2d</code></a>, and <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Capsule2d.html><code>Capsule2d</code></a>. However, note that meshing is not yet implemented for all primitives, such as <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Polygon.html><code>Polygon</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Cone.html><code>Cone</code></a>.<p>Below you can see some meshes in the <a href=https://bevy.org/examples/2D%20Rendering/2d-shapes/><code>2d_shapes</code></a> and <a href=https://bevy.org/examples/3D%20Rendering/3d-shapes/><code>3d_shapes</code></a> examples.<p><img alt="An example with 2D mesh shapes" src=https://bevy.org/news/bevy-0-13/2d_shapes.png><p><img alt="An example with 3D mesh shapes" src=https://bevy.org/news/bevy-0-13/3d_shapes.png><p>Some default values for mesh shape dimensions have also been changed to be more consistent.<h4 id=gizmos>Gizmos <a class=anchor-link href=#gizmos>#</a></h4><div class=release-feature-authors>authors: @RobWalt</div><p>Primitives can also be rendered with <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/struct.Gizmos.html><code>Gizmos</code></a>. There are two new generic methods:<ul><li><a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/trait.GizmoPrimitive2d.html><code>gizmos.primitive_2d(primitive, position, angle, color)</code></a><li><a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/trait.GizmoPrimitive2d.html><code>gizmos.primitive_3d(primitive, position, rotation, color)</code></a></ul><p>Some primitives can have additional configuration options similar to existing <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/struct.Gizmos.html><code>Gizmos</code></a> drawing methods. For example, calling <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/trait.GizmoPrimitive2d.html><code>primitive_3d</code></a> with a <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/struct.Sphere.html><code>Sphere</code></a> returns a <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/primitives/dim3/struct.SphereBuilder.html><code>SphereBuilder</code></a>, which offers a <code>segments</code> method to control the level of detail of the sphere.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> sphere <span class="z-keyword z-operator z-assignment z-rust">=</span> Sphere <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> radius </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">gizmos
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">primitive_3d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>sphere<span class="z-punctuation z-separator z-rust">,</span> center<span class="z-punctuation z-separator z-rust">,</span> rotation<span class="z-punctuation z-separator z-rust">,</span> color</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">segments</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>segments</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=bounding-volumes>Bounding Volumes <a class=anchor-link href=#bounding-volumes>#</a></h3><div class=release-feature-authors>authors: @NiseVoid, @Jondolf</div><p>In game development, spatial checks have several valuable use cases, such as getting all entities that are in the camera's view frustum or near the player, or finding pairs of physics objects that might be intersecting. To speed up such checks, bounding volumes are used to approximate more complex shapes.<p><strong>Bevy 0.13</strong> adds some new publicly available bounding volumes: <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.Aabb2d.html><code>Aabb2d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.Aabb3d.html><code>Aabb3d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.BoundingCircle.html><code>BoundingCircle</code></a>, and <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.BoundingSphere.html><code>BoundingSphere</code></a>. These can be created manually, or generated from primitive shapes.<p>Each bounding volume implements the <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/trait.BoundingVolume.html><code>BoundingVolume</code></a> trait, providing some general functionality and helpers. The <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/trait.IntersectsVolume.html><code>IntersectsVolume</code></a> trait can be used to test for intersections with these volumes. This trait is implemented for bounding volumes themselves, so you can test for intersections between them. This is supported between all existing bounding volume types, but only those in the same dimension.<p>Here is an example of how bounding volumes are constructed, and how an intersection test is performed:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We create an axis-aligned bounding box that is centered at position
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> position <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">100.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">50.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> half_size <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>splat<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">20.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> aabb <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Aabb2d<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>position<span class="z-punctuation z-separator z-rust">,</span> half_size</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We create a bounding circle that is centered at position
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> position <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">80.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">70.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> radius <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-float z-rust">30.</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bounding_circle <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">BoundingCircle<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>position<span class="z-punctuation z-separator z-rust">,</span> radius</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We check if the volumes are intersecting
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> intersects <span class="z-keyword z-operator z-assignment z-rust">=</span> bounding_circle<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">intersects</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span>aabb</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>There are also two traits for the generation of bounding volumes: <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/trait.Bounded2d.html><code>Bounded2d</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/trait.Bounded3d.html><code>Bounded3d</code></a>. These are implemented for the new primitive shapes, so you can easily compute bounding volumes for them:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We create a primitive, a hexagon in this case
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> hexagon <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">RegularPolygon<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">6</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> translation <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">200.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> rotation <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-other z-rust">PI</span> <span class="z-keyword z-operator z-arithmetic z-rust">/</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Rotation in radians
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Now we can get an Aabb2d or BoundingCircle from this primitive.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> These methods are part of the Bounded2d trait.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> aabb <span class="z-keyword z-operator z-assignment z-rust">=</span> hexagon<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">aabb_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>translation<span class="z-punctuation z-separator z-rust">,</span> rotation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> circle <span class="z-keyword z-operator z-assignment z-rust">=</span> hexagon<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">bounding_circle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>translation<span class="z-punctuation z-separator z-rust">,</span> rotation</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=ray-casting-and-volume-casting>Ray Casting and Volume Casting <a class=anchor-link href=#ray-casting-and-volume-casting>#</a></h4><p>The bounding volumes also support basic ray casting and volume casting. Ray casting tests if a bounding volume intersects with a given ray, cast from an origin in a direction, until a maximum distance. Volume casts work similarly, but function as if moving a volume along the ray.<p>This functionality is provided through the new <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.RayCast2d.html><code>RayCast2d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.RayCast3d.html><code>RayCast3d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.AabbCast2d.html><code>AabbCast2d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.AabbCast3d.html><code>AabbCast3d</code></a>, <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.BoundingCircleCast.html><code>BoundingCircleCast</code></a>, and <a href=https://docs.rs/bevy/0.13.0/bevy/math/bounding/struct.BoundingSphereCast.html><code>BoundingSphereCast</code></a> types. They can be used to check for intersections against bounding volumes, and to compute the distance from the origin of the cast to the point of intersection.<p>Below, you can see ray casting, volume casting, and intersection tests in action:<p><video controls><source src=bounding_intersections.mp4 type=video/mp4></video><p>To make it easier to reason about ray casts in different dimensions, the old <a href=https://docs.rs/bevy/0.12.1/bevy/math/struct.Ray.html><code>Ray</code></a> type has also been split into <a href=https://docs.rs/bevy/0.13.0/bevy/math/struct.Ray2d.html><code>Ray2d</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/math/struct.Ray3d.html><code>Ray3d</code></a>. The new <a href=https://docs.rs/bevy/0.13.0/bevy/math/primitives/struct.Direction2d.html><code>Direction2d</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/math/primitives/struct.Direction3d.html><code>Direction3d</code></a> types are used to ensure that the ray direction remains normalized, providing a type-level guarantee that the vector is always unit-length. These are already in use in some other APIs as well, such as for some primitives and gizmo methods.<h2 id=system-stepping>System Stepping <a class=anchor-link href=#system-stepping>#</a></h2><div class=release-feature-authors>authors: @dmlary</div><p><strong>Bevy 0.13</strong> adds support for <strong>System Stepping</strong>, which adds debugger-style execution control for systems.<p>The <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/schedule/stepping/Stepping.html><code>Stepping</code></a> resource controls which systems within a schedule execute each frame, and provides step, break, and continue functionality to enable live debugging.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> stepping <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Stepping<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>You add the schedules you want to step through to the <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/schedule/stepping/Stepping.html><code>Stepping</code></a> resource. The systems in these schedules can be thought of as the "stepping frame". Systems in the "stepping frame" won't run unless a relevant step or continue action occurs. Schedules that are not added will run on every update, even while stepping. This enables core functionality like rendering to continue working.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">stepping<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_schedule</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Update</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">stepping<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_schedule</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>FixedUpdate</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Stepping is disabled by default, even when the resource is inserted. To enable it in apps, feature flags, dev consoles and obscure hotkeys all work great.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">cfg</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">feature <span class="z-keyword z-operator z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>my_stepping_flag<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust">stepping<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">enable</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Finally, you add the <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/schedule/stepping/Stepping.html><code>Stepping</code></a> resource to the ECS <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/world/struct.World.html><code>World</code></a>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>stepping</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=system-step-continue-frame>System Step & Continue Frame <a class=anchor-link href=#system-step-continue-frame>#</a></h3><p>The "step frame" action runs the system at the stepping cursor, and advances the cursor during the next render frame. This is useful to see individual changes made by systems, and see the state of the world prior to executing a system<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">stepping<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">step_frame</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>The "continue frame" action will execute systems starting from the stepping cursor to the end of the stepping frame during the next frame. It may stop before the end of the stepping frame if it encounters a system with a breakpoint. This is useful for advancing quickly through an entire frame, getting to the start of the next frame, or in combination with breakpoints.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">stepping<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">continue_frame</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>This video demonstrates these actions on the breakout example with a custom <code>egui</code> interface. The stepping cursor can be seen moving through the systems list as we click the <code>step</code> button. When the <code>continue</code> button is clicked, you can see the game progress one stepping frame for each click.<p><video controls><source src=stepping-step-continue.mp4 type=video/mp4></video><h3 id=breakpoints>Breakpoints <a class=anchor-link href=#breakpoints>#</a></h3><p>When a schedule grows to a certain point, it can take a long time to step through every system in the schedule just to see the effects of a few systems. In this case, stepping provides system breakpoints.<p>This video illustrates how a breakpoint on <code>check_for_collisions()</code> behaves with "step" and "continue" actions:<p><video controls><source src=stepping-breakpoint.mp4 type=video/mp4></video><h3 id=disabling-systems-during-stepping>Disabling Systems During Stepping <a class=anchor-link href=#disabling-systems-during-stepping>#</a></h3><p>During debugging, it can be helpful to disable systems to narrow down the source of the problem. <code>Stepping::never_run()</code> and <code>Stepping::never_run_node()</code> can be used to disable systems while stepping is enabled.<h3 id=excluding-systems-from-stepping>Excluding Systems from Stepping <a class=anchor-link href=#excluding-systems-from-stepping>#</a></h3><p>It may be necessary to ensure some systems still run while stepping is enabled. While best-practice is to have them in a schedule that has not been added to the <code>Stepping</code> resource, it is possible to configure systems to always run while stepping is enabled. This is primarily useful for event & input handling systems.<p>Systems can be configured to always run by calling <code>Stepping::always_run()</code>, or <code>Stepping::always_run_node()</code>. When a system is configured to always run, it will run each rendering frame even when stepping is enabled.<h3 id=limitations>Limitations <a class=anchor-link href=#limitations>#</a></h3><p>There are some limitations in this initial implementation of stepping:<ul><li><strong>Systems that reads events likely will not step properly</strong>: Because frames still advance normally while stepping is enabled, events can be cleared before a stepped system can read them. The best approach here is to configure event-based systems to always run, or put them in a schedule not added to <code>Stepping</code>. "Continue" with breakpoints may also work in this scenario.<li><strong>Conditional systems may not run as expected when stepping</strong>: Similar to event-based systems, if the run condition is true for only a short time, system may not run when stepped.</ul><h3 id=detailed-examples>Detailed Examples <a class=anchor-link href=#detailed-examples>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/blob/main/examples/ecs/system_stepping.rs>Text-based stepping example</a><li>Non-interactive <a href=https://github.com/bevyengine/bevy/blob/main/examples/games/stepping.rs>bevy UI example stepping plugin</a> used in the breakout example<li>Interactive <a href=https://gist.github.com/dmlary/3fd57ebf1f88bb9afa8a6604737dac97>egui stepping plugin</a> used in demo videos</ul><h2 id=camera-exposure>Camera Exposure <a class=anchor-link href=#camera-exposure>#</a></h2><div class=release-feature-authors>authors: @superdump (Rob Swain), @JMS55, @cart</div><p>In the real world, the brightness of an image captured by a camera is determined by its exposure: the amount of light that the camera's sensor or film incorporates. This is controlled by several mechanics of the camera:<ul><li><strong>Aperture</strong>: Measured in F-Stops, the aperture opens and closes to control how much light is allowed into the camera's sensor or film by physically blocking off lights from specific angles, similar to the pupil of an eye.<li><strong>Shutter Speed</strong>: How long the camera's shutter is open, which is the duration of time that the camera's sensor or film is exposed to light.<li><strong>ISO Sensitivity</strong>: How sensitive the camera's sensor or film is to light. A higher value indicates a higher sensitivity to light.</ul><p>Each of these plays a role in how much light the final image receives. They can be combined into a final EV number (exposure value), such as the semi-standard EV100 (the exposure value for ISO 100). Higher EV100 numbers mean that more light is required to get the same result. For example, a sunny day scene might require an EV100 of about 15, whereas a dimly lit indoor scene might require an EV100 of about 7.<p>In <strong>Bevy 0.13</strong>, you can now configure the EV100 on a per-camera basis using the new <a href=https://docs.rs/bevy/0.13.0/bevy/render/camera/struct.Exposure.html><code>Exposure</code></a> component. You can set it directly using the <a href=https://docs.rs/bevy/0.13.0/bevy/render/camera/struct.Exposure.html#structfield.ev100><code>Exposure::ev100</code></a> field, or you can use the new <a href=https://docs.rs/bevy/0.13.0/bevy/render/camera/struct.PhysicalCameraParameters.html><code>PhysicalCameraParameters</code></a> struct to calculate an ev100 using "real world" camera settings like f-stops, shutter speed, and ISO sensitivity.<p>This is important because Bevy's "physically based" renderer (PBR) is intentionally grounded in reality. Our goal is for people to be able to use real-world units in their lights and materials and have them behave as close to reality as possible.<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1920/1080><div data-title-a="EV100 9.7" data-title-b="EV100 15" class=image-compare style=aspect-ratio:1920/1080><img alt="EV100 9.7" class=image-a src=exposure_97.jpg><img alt="EV100 15" class=image-b src=exposure_15.jpg></div></div><p>Note that prior versions of Bevy hard-coded a static EV100 for some of its light types. In <strong>Bevy 0.13</strong> it is configurable <em>and</em> consistent across all light types. We have also bumped the default EV100 to 9.7, which is a <a href=https://github.com/bevyengine/bevy/issues/11577#issuecomment-1942873507>number we chose to best match Blender's default exposure</a>. It also happens to be a nice "middle ground" value that sits somewhere between indoor lighting and overcast outdoor lighting.<p>You may notice that point lights now require <em>significantly</em> higher intensity values (in lumens). This (sometimes) million-lumen values might feel exorbitant. Just reassure yourself that (1) it actually requires a lot of light to meaningfully register in an overcast outdoor environment and (2) Blender exports lights on these scales (and we are calibrated to be as close as possible to them).<h2 id=camera-driven-ui>Camera-Driven UI <a class=anchor-link href=#camera-driven-ui>#</a></h2><div class=release-feature-authors>authors: @bardt, @oceantume</div><p>Historically, Bevy's UI elements have been scaled and positioned in the context of the primary window, regardless of the camera settings. This approach made some UI experiences like split-screen multiplayer difficult to implement, and others such as having UI in multiple windows impossible.<p><strong>Bevy 0.13</strong> introduces <strong>Camera-Driven UI</strong>. Each camera can now have its own UI root, rendering according to its viewport, scale factor, and a target which can be a secondary window or even a texture.<p>This change unlocks a variety of new UI experiences, including split-screen multiplayer, UI in multiple windows, displaying non-interactive UI in a 3D world, and more.<p><img alt="Split-screen with independent UI roots" src=https://bevy.org/news/bevy-0-13/split-screen.png><p>If there is one camera in the world, you don't need to do anything; your UI will be displayed in that camera's viewport.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Camera3dBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Camera can have custom viewport, target, etc.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>NodeBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> UI will be rendered to the singular camera's viewport
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>When more control is desirable, or there are multiple cameras, we introduce the <a href=https://docs.rs/bevy/0.13.0/bevy/ui/struct.TargetCamera.html><code>TargetCamera</code></a> component. This component can be added to a root UI node to specify which camera it should be rendered to.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> For split-screen multiplayer, we set up 2 cameras and 2 UI roots
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> left_camera <span class="z-keyword z-operator z-assignment z-rust">=</span> commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Camera3dBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Viewport is set to left half of the screen
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        TargetCamera<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>left_camera</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        NodeBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span>...
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> right_camera <span class="z-keyword z-operator z-assignment z-rust">=</span> commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Camera3dBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Viewport is set to right half of the screen
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        TargetCamera<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>right_camera</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        NodeBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span>...
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>With this change, we also removed the <a href=https://docs.rs/bevy/0.12.1/bevy/ui/camera_config/struct.UiCameraConfig.html><code>UiCameraConfig</code></a> component. If you were using it to hide UI nodes, you can achieve the same outcome by configuring a <a href=https://docs.rs/bevy/0.13.0/bevy/render/view/enum.Visibility.html><code>Visibility</code></a> component on the root node.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Camera3dBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>NodeBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    visibility<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Visibility<span class="z-punctuation z-accessor z-rust">::</span></span>Hidden<span class="z-punctuation z-separator z-rust">,</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> UI will be hidden
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=texture-slicing-and-tiling>Texture Slicing and Tiling <a class=anchor-link href=#texture-slicing-and-tiling>#</a></h2><div class=release-feature-authors>authors: @ManevilleF</div><p>3D rendering gets a lot of love, but 2D features matter too! We're pleased to add CPU-based <em>slicing and tiling</em> to both <code>bevy_sprite</code> and <code>bevy_ui</code> in <strong>Bevy 0.13</strong>!<p>This behavior is controlled by a new optional component: <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/enum.ImageScaleMode.html><code>ImageScaleMode</code></a>.<h3 id=9-slicing>9 slicing <a class=anchor-link href=#9-slicing>#</a></h3><p>Adding <code>ImageScaleMode::Sliced</code> to an entity with a sprite or UI bundle enables <a href=https://en.wikipedia.org/wiki/9-slice_scaling>9 slicing</a>, keeping the image proportions during resizes, avoiding stretching of the texture.<p><img alt="Stretched Vs Sliced texture" src=https://bevy.org/news/bevy-0-13/slice_vs_stretched.png><p>This is very useful for UI, allowing your pretty textures to look right even as the size of your element changes.<p><img alt="Sliced Buttons" src=https://bevy.org/news/bevy-0-13/ui_slice.png><div class=release-feature-authors style=font-size:1rem>Border texture by <a href=https://kenney.nl/assets/fantasy-ui-borders>Kenney</a></div><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">SpriteSheetBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">ImageScaleMode<span class="z-punctuation z-accessor z-rust">::</span></span>Sliced<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>TextureSlicer <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The image borders are 20 pixels in every direction
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        border<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">BorderRect<span class="z-punctuation z-accessor z-rust">::</span></span>square<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">20.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> we don't stretch the corners more than their actual size (20px)
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        max_corner_scale<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h3 id=tiling>Tiling <a class=anchor-link href=#tiling>#</a></h3><p>Adding <code>ImageMode::Tiled { .. }</code> to your 2D sprite entities enables <em>texture tiling</em>: repeating the image until their entire area is filled. This is commonly used for backgrounds and surfaces.<p><video controls><source src=logo_tiling.mp4 type=video/mp4></video><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">SpriteSheetBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">ImageScaleMode<span class="z-punctuation z-accessor z-rust">::</span></span>Tiled <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The image will repeat horizontally
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        tile_x<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The image will repeat vertically
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        tile_y<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The texture will repeat if the drawing rect is larger than the image size
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        stretch_value<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=dynamic-queries>Dynamic Queries <a class=anchor-link href=#dynamic-queries>#</a></h2><div class=release-feature-authors>authors: @james-j-obrien, @jakobhellermann, @Suficio</div><p>In Bevy ECS, queries use a type-powered DSL. The full type of the query (what component to access, which filter to use) must be specified at compile time.<p>Sometimes we can't know what data the query wants to access at compile time. Some scenarios just cannot be done with static queries:<ul><li>Defining queries in scripting languages like Lua or JavaScript.<li>Defining new components from a scripting language and query them.<li>Adding a runtime filter to entity inspectors like <a href=https://crates.io/crates/bevy-inspector-egui><code>bevy-inspector-egui</code></a>.<li>Adding a <a href=https://github.com/doonv/bevy_dev_console>Quake-style console</a> to modify or query components from a prompt at runtime.<li>Creating an <a href=https://makeshift-bevy-web-editor.vercel.app/>editor with remote capabilities</a>.</ul><p>Dynamic queries make these all possible. And these are only the plans we've heard about so far!<p>The standard way of defining a <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html><code>Query</code></a> is by using them as system parameters:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">take_damage</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">player_health</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Health<span class="z-punctuation z-section z-group z-end z-rust">)</span>, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Player<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p><strong>This won't change.</strong> And for most (if not all) gameplay use cases, you will continue to happily use the delightfully simple <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html><code>Query</code></a> API.<p>However, consider this situation: as a game or mod developer I want to list entities with a specific component through a text prompt. Similar to how the Quake console works. What would that look like?<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">UserQuery</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>String</span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> user_query is entered as a text prompt by the user when the game is running.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> In a system, it's quickly apparent that we can't use `Query`.
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">list_entities_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">user_query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>UserQuery<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>FIXME, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>FIXME<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Even when using the more advanced `World` API, we are stuck.
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">list_entities</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">user_query</span><span class="z-punctuation z-separator z-rust">:</span> String, <span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> World</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> FIXME: what type goes here?
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> query <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>FIXME<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>It's impossible to choose a type based on the value of <code>user_query</code>! <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/prelude/struct.QueryBuilder.html><code>QueryBuilder</code></a> solves this problem.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">list_entities</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">user_query</span><span class="z-punctuation z-separator z-rust">:</span> String,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">type_registry</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>TypeRegistry,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> World,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> name <span class="z-keyword z-operator z-assignment z-rust">=</span> user_query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">split</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-single z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">'</span> <span class="z-punctuation z-definition z-string z-end z-rust">'</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">next</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> type_id <span class="z-keyword z-operator z-assignment z-rust">=</span> type_registry<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_with_short_type_path</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>name</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">type_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> component_id <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">components</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>type_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> query <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">QueryBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>FilteredEntityRef<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">ref_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>component_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> entity_ref <span class="z-keyword z-operator z-rust">in</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> ptr <span class="z-keyword z-operator z-assignment z-rust">=</span> entity_ref<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_by_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>component_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Convert `ptr` into a `&dyn Reflect` and use it.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>It is still an error-prone, complex, and unsafe API, but it makes something that was previously impossible possible. We expect third-party crates to provide convenient wrappers around the <code>QueryBuilder</code> API, some of which will undoubtedly make their way upstream.<h2 id=query-transmutation>Query Transmutation <a class=anchor-link href=#query-transmutation>#</a></h2><div class=release-feature-authors>authors: @hymm, james-j-obrien</div><p>Have you ever wanted to pass a query to a function, but instead of having a <code>Query<&Transform></code> you have a <code>Query<(&Transform, &Velocity), With&LTEnemy>></code>? In <strong>Bevy 0.13</strong> you can, thanks to the new <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.QueryLens.html><code>QueryLens</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html#method.transmute_lens><code>Query::transmute_lens()</code></a> method.<p>Query transmutes allow you to change a query into different query types as long as the components accessed are a subset of the original query. If you do try to access data that is not in the original query, this method will panic.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">reusable_function</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">lens</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-generic z-rust">QueryLens<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Transform<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> query <span class="z-keyword z-operator z-assignment z-rust">=</span> lens<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">query</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> do something with the query...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We can use the function in a system that takes the exact query.
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">system_1</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Transform<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-function z-rust">reusable_function</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">as_query_lens</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We can also use it with a query that does not match exactly
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> by transmuting it.
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">system_2</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Transform, <span class="z-keyword z-operator z-rust">&</span>Velocity<span class="z-punctuation z-section z-group z-end z-rust">)</span>, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Enemy<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> lens <span class="z-keyword z-operator z-assignment z-rust">=</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">transmute_lens<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Transform<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-function z-rust">reusable_function</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> lens</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Note that the <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.QueryLens.html><code>QueryLens</code></a> will still iterate over the same entities as the original <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html><code>Query</code></a> it is derived from. A <code>QueryLens<&Transform></code> taken from a <code>Query<(&Transform, &Velocity)></code>, will only include the <code>Transform</code> of entities with both <code>Transform</code> and <code>Velocity</code> components.<p>Besides removing parameters you can also change them in limited ways to the different smart pointer types. One of the more useful is to change a <code>&mut</code> to a <code>&</code>. See the <a href=https://docs.rs/bevy/latest/bevy/ecs/system/struct.Query.html#method.transmute_lens>documentation</a> for more details.<p>One thing to take into consideration is the transmutation is not free. It works by creating a new state and copying cached data inside the original query. It's not an expensive operation, but you should avoid doing it inside a hot loop.<h2 id=worldquery-trait-split><code>WorldQuery</code> Trait Split <a class=anchor-link href=#worldquery-trait-split>#</a></h2><div class=release-feature-authors>authors: @wainwrightmark @taizu-jin</div><p>A <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html><code>Query</code></a> has two type parameters: one for the data to be fetched, and a second optional one for the filters.<p>In previous versions of Bevy both parameters simply required <a href=https://docs.rs/bevy/0.12.0/bevy/ecs/query/trait.WorldQuery.html><code>WorldQuery</code></a>: there was nothing stopping you from using types intended as filters in the data position (or vice versa).<p>Apart from making the type signature of the <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html><code>Query</code></a> items more complicated (see example below) this usually worked fine as most filters had the same behavior in either position.<p>Unfortunately this was not the case for <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/query/struct.Changed.html><code>Changed</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/query/struct.Added.html><code>Added</code></a> which had different (and undocumented) behavior in the data position and this could lead to bugs in user code.<p>To allow us to prevent this type of bug at compile time, the <a href=https://docs.rs/bevy/0.12.0/bevy/ecs/query/trait.WorldQuery.html><code>WorldQuery</code></a> trait has been replaced by two traits: <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/query/trait.QueryData.html><code>QueryData</code></a> and <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/query/trait.QueryFilter.html><code>QueryFilter</code></a>. The data parameter of a <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/system/struct.Query.html><code>Query</code></a> must now be <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/query/trait.QueryData.html><code>QueryData</code></a> and the filter parameter must be <a href=https://docs.rs/bevy/0.13.0/bevy/ecs/query/trait.QueryFilter.html><code>QueryFilter</code></a>.<p>Most user code should be unaffected or easy to migrate.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Probably a subtle bug: `With` filter in the data position - will not compile in 0.13
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">my_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ComponentA<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust">
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The type signature of the query items is `(Entity, ())`, which is usable but unwieldy
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>entity<span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-rust">_</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Idiomatic, compiles in both 0.12 and 0.13
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">my_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ComponentA<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust">
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-keyword z-control z-rust">for</span> entity <span class="z-keyword z-operator z-rust">in</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=automatically-insert-apply-deferred-systems>Automatically Insert <code>apply_deferred</code> Systems <a class=anchor-link href=#automatically-insert-apply-deferred-systems>#</a></h2><div class=release-feature-authors>authors: @hymm</div><p>When writing gameplay code, you might commonly have one system that wants to immediately see the effects of commands queued in another system. Before <strong>Bevy 0.13</strong>, you would have to manually insert an <code>apply_deferred</code> system between the two, a special system which causes those commands to be applied when encountered. Bevy now detects when a system with commands is ordered relative to other systems and inserts the <code>apply_deferred</code> for you.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before 0.13
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    Update<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        system_with_commands<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        apply_deferred<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        another_system<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">chain</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After 0.13
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    Update<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        system_with_commands<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        another_system<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">chain</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This resolves a common beginner footgun: if two systems are ordered, shouldn't the second always see the results of the first?<p>Automatically inserted <code>apply_deferred</code> systems are optimized by automatically merging them if possible. In most cases, it is recommended to remove all manually inserted <code>apply_deferred</code> systems, as allowing Bevy to insert and merge these systems as needed will usually be both faster and involve less boilerplate.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This will only add one apply_deferred system.
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    Update<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>system_1_with_commands<span class="z-punctuation z-separator z-rust">,</span> system_2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">chain</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>system_3_with_commands<span class="z-punctuation z-separator z-rust">,</span> system_4</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">chain</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>If this new behavior does not work for you, please consult the migration guide. There are several new APIs that allow you to opt-out.<h2 id=more-flexible-one-shot-systems>More Flexible One-Shot Systems <a class=anchor-link href=#more-flexible-one-shot-systems>#</a></h2><div class=release-feature-authors>authors: @Nathan-Fenner</div><p>In <strong>Bevy 0.12</strong>, we introduced <a href=https://bevy.org/news/bevy-0-12/#one-shot-systems>one-shot systems</a>, a handy way to call systems on demand without having to add them to a schedule. The initial implementation had some limitations in regard to what systems could and could not be used as one-shot systems. In <strong>Bevy 0.13</strong>, these limitations have been resolved.<p>One-shot systems now support inputs and outputs.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">increment_sys</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>In<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">increment_by</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>: <span class="z-meta z-generic z-rust">In<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">i32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">counter</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Counter<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">i32</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    counter<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-assignment z-rust">+=</span> increment_by<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    counter<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> world <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">World<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> id <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>increment_sys</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Counter<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> count_one <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_with_input</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">5</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> increment counter by 5 and return 6
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> count_two <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_with_input</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> increment counter by 2 and return 8
</span></span></code></pre><p>Running a system now returns the system output as <code>Ok(output)</code>. Note that output cannot be returned when calling one-shot systems through commands, because of their deferred nature.<p>Exclusive systems can now be registered as one-shot systems:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> World<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> do anything <span class="z-punctuation z-definition z-comment z-rust">*/</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Boxed systems can now be registered with <code>register_boxed_system</code>.<p>These improvements round out one-shot systems significantly: they should now work just like any other Bevy system.<h2 id=wgpu-0-19-upgrade-and-rendering-performance-improvements>wgpu 0.19 Upgrade and Rendering Performance Improvements <a class=anchor-link href=#wgpu-0-19-upgrade-and-rendering-performance-improvements>#</a></h2><div class=release-feature-authors>authors: @Elabajaba, @JMS55</div><p>In <strong>Bevy 0.13</strong> we upgraded from <code>wgpu</code> 0.17 to <code>wgpu</code> 0.19, which includes the long awaited <code>wgpu</code> <a href=https://gfx-rs.github.io/2023/11/24/arcanization.html>arcanization</a> that allows us to <a href=https://github.com/bevyengine/bevy/pull/10812>compile shaders asynchronously</a> to avoid shader compilation stutters and <a href=https://github.com/bevyengine/bevy/pull/9172>multithread draw call creation</a> for better performance in CPU-bound scenes.<p>Due to changes in wgpu 0.19, we've added a new <code>webgpu</code> feature to Bevy that is now required when doing WebAssembly builds targeting WebGPU. Disabling the <code>webgl2</code> feature is no longer required when targeting WebGPU, but the new <code>webgpu</code> feature currently overrides the <code>webgl2</code> feature when enabled. Library authors, please do not enable the <code>webgpu</code> feature by default. In the future we plan on allowing you to target both WebGL2 and WebGPU in the same WebAssembly binary, but we aren't quite there yet.<p>We've swapped the material and mesh bind groups, so that mesh data is now in bind group 1, and material data is in bind group 2. This greatly improved our draw call batching when combined with changing the sorting functions for the opaque passes to sort by pipeline and mesh. Previously we were sorting them by distance from the camera. These batching improvements mean we're doing fewer draw calls, which improves CPU performance, especially in larger scenes. We've also removed the <code>get_instance_index</code> function in shaders, as it was only required to work around an upstream bug that has been fixed in wgpu 0.19. For other shader or rendering changes, please see the <a href=/learn/migration-guides/0-12-to-0-13/>migration guide</a> and <a href=https://github.com/gfx-rs/wgpu/blob/v0.19/CHANGELOG.md>wgpu's changelog</a>.<p>Many small changes both to Bevy and <code>wgpu</code> summed up to make a modest but measurable difference in our performance on realistic 3D scenes! We ran some quick tests on both <strong>Bevy 0.12</strong> and <strong>Bevy 0.13</strong> on the same machine on four complex scenes: <a href=https://github.com/DGriffin91/bevy_bistro_scene>Bistro</a>, <a href=https://github.com/DGriffin91/bevy_sponza_scene>Sponza</a>, <a href=https://github.com/DGriffin91/bevy_san_miguel_scene>San Miguel</a> and <a href=https://blog.polyhaven.com/hidden-alley/>Hidden Alley</a>.<p><img alt="A high polygon, realistically lit screenshot of a beautiful cafe with a tree in the background." src=https://bevy.org/news/bevy-0-13/San_Miguel_13.jpg><p>As you can see, these scenes are substantially more detailed than most video game environments, but that screenshot was being rendered in Bevy at better than 60 FPS at 1440p resolution! Between Bevy 0.12 and Bevy 0.13 we saw frame times decrease by about 5-10% across the scenes tested. Nice work!<p><img alt="A graph showing the FPS of the different scenes. Bistro went from 90 FPS to 120 FPS, while the other scenes improved slightly. All scenes were 60-120 FPS." src=https://bevy.org/news/bevy-0-13/rendering-perf-graph.svg><h2 id=unload-rendering-assets-from-ram>Unload Rendering Assets from RAM <a class=anchor-link href=#unload-rendering-assets-from-ram>#</a></h2><div class=release-feature-authors>authors: @JMS55, @mockersf, @brianreavis</div><p>Meshes and the textures used to define their materials take up a ton of memory: in many games, memory usage is the biggest limitation on the resolution and polygon count of the game! Moreover, transferring that data from system RAM (used by the CPU) to the VRAM (used by the GPU) can be a real performance bottleneck.<p><strong>Bevy 0.13</strong> adds the ability to unload this data from system RAM, once it has been successfully transferred to VRAM. To configure this behavior for your asset, set the <a href=https://docs.rs/bevy/0.13.0/bevy/render/render_asset/struct.RenderAssetUsages.html><code>RenderAssetUsages</code></a> field to specify whether to retain the data in the main (CPU) world, the render (GPU) world, or both.<p>This behavior is currently off by default for most asset types as it <a href=https://github.com/bevyengine/bevy/pull/11212>has some caveats</a> (given that the asset becomes unavailable to logic on the CPU), but we strongly recommend enabling it for your assets whenever possible for significant memory usage wins (and we will likely enable it by default in the future).<p>Texture atlases and font atlases now only extract data that's actually in use to VRAM, rather than wasting work sending <em>all</em> possible images or characters to VRAM every frame. Neat!<h2 id=better-batching-through-smarter-sorting>Better Batching Through Smarter Sorting <a class=anchor-link href=#better-batching-through-smarter-sorting>#</a></h2><div class=release-feature-authors>authors: @Elabajaba</div><p>One of the core techniques used to speed up rendering is to draw many similar objects together at the same time. In this case, Bevy was already using a technique called "batching", which allows us to combine multiple similar operations, reducing the number of expensive draw calls (instructions to the GPU) that are being made.<p>However, our strategy for defining these batches was far from optimal. Previously, we were sorting by distance to the camera, and <em>then</em> checking if multiple of the same meshes were adjacent to each other in that sorted list. In realistic scenes, this is unlikely to find many candidates for merging!<p>In <strong>Bevy 0.13</strong>, we first sort by pipeline (effectively the type of material being used), and then by mesh identity. This strategy results in better batching, improving overall FPS by double-digit percentages on the <a href=https://syntystore.com/products/polygon-fantasy-kingdom>realistic scene tested</a>!<p><img alt="A graph showing batching improvements. Shadows are very expensive, and FPS improved by at least 20% in all cases tested." src=https://bevy.org/news/bevy-0-13/better_batching.svg><h2 id=animation-interpolation-methods>Animation Interpolation Methods <a class=anchor-link href=#animation-interpolation-methods>#</a></h2><div class=release-feature-authors>authors: @mockersf</div><p>Generally, animations are defined by their <strong>keyframes</strong>: snapshots of the position (and other state) or objects at moments along a timeline. But what happens between those keyframes? Game engines need to <strong>interpolate</strong> between them, smoothly transitioning from one state to the next.<p>The simplest interpolation method is linear: the animated object just moves an equal distance towards the next keyframe every unit of time. But this isn't always the desired effect! Both stop-motion-style and more carefully smoothed animations have their place.<p>Bevy now supports both step and cubic spline interpolation in animations. Most of the time, this will just be parsed correctly from the glTF files, but when setting <a href=https://docs.rs/bevy/0.13.0/bevy/animation/struct.VariableCurve.html><code>VariableCurve</code></a> manually, there's a new <a href=https://docs.rs/bevy/0.13.0/bevy/animation/enum.Interpolation.html><code>Interpolation</code></a> field to set.<p><img alt="Demonstrating the different types of interpolation" src=https://bevy.org/news/bevy-0-13/interpolation_methods.gif><h2 id=animatable-trait><code>Animatable</code> Trait <a class=anchor-link href=#animatable-trait>#</a></h2><div class=release-feature-authors>authors: @james7132</div><p>When you think of "animation": you're probably imagining moving objects through space. Translating them back and forth, rotating them, maybe even squashing and stretching them. But in modern game development, animation is a powerful shared set of tools and concepts for "changing things over time". Transforms are just the beginning: colors, particle effects, opacity and even boolean values like visibility can all be animated!<p>In <strong>Bevy 0.13</strong>, we've taken the first step towards <a href=https://github.com/bevyengine/rfcs/blob/main/rfcs/51-animation-composition.md>this vision</a>, with the <a href=https://docs.rs/bevy/0.13.0/bevy/prelude/trait.Animatable.html><code>Animatable</code></a> trait.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> An animatable value type.
</span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-trait z-rust">trait</span> <span class="z-entity z-name z-trait z-rust">Animatable</span>: Reflect + Sized + Send + Sync + 'static <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Interpolates between `a` and `b` with  a interpolation factor of `time`.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> The `time` parameter here may not be clamped to the range `[0.0, 1.0]`.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">interpolate</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">a</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-type z-rust">Self</span>, <span class="z-variable z-parameter z-rust">b</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-type z-rust">Self</span>, <span class="z-variable z-parameter z-rust">time</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">f32</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">Self</span></span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Blends one or more values together.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Implementors should return a default value when no inputs are provided here.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">blend</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">inputs</span><span class="z-punctuation z-separator z-rust">:</span> impl <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Iterator</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Item = <span class="z-meta z-generic z-rust">BlendInput<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-storage z-type z-rust">Self</span></span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Post-processes the value using resources in the [`World`].
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Most animatable types do not need to implement this.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">post_process</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">_world</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span>World</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>This is the first step towards animation blending and an asset-driven animation graph which is essential for shipping large scale 3D games in Bevy. But for now, this is just a building block. We've implemented this for a few key types (<code>Transform</code>, <code>f32</code> and <code>glam</code>'s <code>Vec</code> types) and published the trait. Slot it into your games and crates, and team up with other contributors to help <code>bevy_animation</code> become just as pleasant and featureful as the rest of the engine.<h2 id=extensionless-asset-support>Extensionless Asset Support <a class=anchor-link href=#extensionless-asset-support>#</a></h2><div class=release-feature-authors>authors: @bushrat011899</div><p>In prior versions of Bevy, the default way to choose an <a href=https://docs.rs/bevy/0.13.0/bevy/asset/trait.AssetLoader.html><code>AssetLoader</code></a> for a particular asset was entirely based on file extensions. The <a href=https://bevy.org/news/bevy-0-12/#asset-meta-files>recent addition of .meta files</a> allowed for specifying more granular loading behavior, but file extensions were still required. In <strong>Bevy 0.13</strong>, the asset type can now be used to infer the <a href=https://docs.rs/bevy/0.13.0/bevy/asset/trait.AssetLoader.html><code>AssetLoader</code></a>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Uses AudioSettingsAssetLoader
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> audio <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>data/audio.json<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Uses GraphicsSettingsAssetLoader
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> graphics <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>data/graphics.json<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This is possible because every <a href=https://docs.rs/bevy/0.13.0/bevy/asset/trait.AssetLoader.html><code>AssetLoader</code></a> is required to declare what <strong>type</strong> of asset it loads, not just the extensions it supports. Since the <a href=https://docs.rs/bevy/0.13.0/bevy/asset/struct.AssetServer.html#method.load><code>load</code></a> method on <a href=https://docs.rs/bevy/0.13.0/bevy/asset/struct.AssetServer.html><code>AssetServer</code></a> was already generic over the type of asset to return, this information is already available to the <a href=https://docs.rs/bevy/0.13.0/bevy/asset/struct.AssetServer.html><code>AssetServer</code></a>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The above example with types shown
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> audio<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AudioSettings<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AudioSettings<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>data/audio.json<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> graphics<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GraphicsSettings<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GraphicsSettings<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>data/graphics.json<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Now we can also use it to choose the <a href=https://docs.rs/bevy/0.13.0/bevy/asset/trait.AssetLoader.html><code>AssetLoader</code></a> itself.<p>When loading an asset, the loader is chosen by checking (in order):<ol><li>The asset <code>meta</code> file<li>The type of <code>Handle&LTA></code> to return<li>The file extension</ol><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This will be inferred from context to be a glTF asset, ignoring the file extension
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> gltf_handle <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/cube/cube.gltf<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This still relies on file extension due to the label
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> cube_handle <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/cube/cube.gltf#Mesh0/Primitive0<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span>                                                        ^^^^^^^^^^^^^^^^^
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span>                                                        | Asset path label
</span></span></code></pre><h3 id=file-extensions-are-now-optional>File Extensions Are Now Optional <a class=anchor-link href=#file-extensions-are-now-optional>#</a></h3><p>Since the asset type can be used to infer the loader, neither the file to be loaded nor the <a href=https://docs.rs/bevy/0.13.0/bevy/asset/trait.AssetLoader.html><code>AssetLoader</code></a> need to have file extensions.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-trait z-rust">trait</span> <span class="z-entity z-name z-trait z-rust">AssetLoader</span>: Send + Sync + 'static <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> snip <span class="z-punctuation z-definition z-comment z-rust">*/</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Returns a list of extensions supported by this [`AssetLoader`], without the preceding dot.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">extensions</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-keyword z-operator z-rust">&</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-type z-rust">str</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A default implementation is now provided
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Previously, an asset loader with no extensions was very cumbersome to use. Now, they can be used just as easily as any other loader. Likewise, if a file is missing its extension, Bevy can now choose the appropriate loader.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> license <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Text<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>LICENSE<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Appropriate file extensions are still recommended for good project management, but this is now a recommendation rather than a hard requirement.<h3 id=multiple-asset-loaders-with-the-same-asset>Multiple Asset Loaders With The Same Asset <a class=anchor-link href=#multiple-asset-loaders-with-the-same-asset>#</a></h3><p>Now, a single path can be used by multiple asset handles as long as they are distinct asset types.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Load the sound effect for playback
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bang <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AudioSource<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>sound/bang.ogg<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Load the raw bytes of the same sound effect (e.g, to send over the network)
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bang_blob <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Blob<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>sound/bang.ogg<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Returns the bang handle since it was already loaded
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> bang_again <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AudioSource<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>sound/bang.ogg<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Note that the above example uses <a href=https://turbo.fish/>turbofish</a> syntax for clarity. In practice, it's not required, since the type of asset loaded can usually be inferred at the call site.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">SoundEffects</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">bang</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AudioSource<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">bang_blob</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Blob<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">effects</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>SoundEffects<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-variable z-parameter z-rust">asset_server</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AssetServer<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    effects<span class="z-punctuation z-accessor z-dot z-rust">.</span>bang <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>sound/bang.ogg<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    effects<span class="z-punctuation z-accessor z-dot z-rust">.</span>bang_blob <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>sound/bang.ogg<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>The <a href=https://bevy.org/examples/Assets/custom-asset/><code>custom_asset</code> example</a> has been updated to demonstrate these new features.<h2 id=texture-atlas-rework>Texture Atlas Rework <a class=anchor-link href=#texture-atlas-rework>#</a></h2><div class=release-feature-authors>authors: @ManevilleF</div><p>Texture atlases efficiently combine multiple images into a single larger texture called an atlas.<p><strong>Bevy 0.13</strong> significantly reworks them to reduce boilerplate and make them more data-oriented. Say goodbye to <code>TextureAtlasSprite</code> and <code>UiTextureAtlasImage</code> components (and their corresponding <code>Bundle</code> types). Texture atlasing is now enabled by adding a single <em>additional</em> component to normal sprite and image entities: <a href=https://docs.rs/bevy/0.13.0/bevy/sprite/struct.TextureAtlas.html><code>TextureAtlas</code></a>.<h3 id=why>Why? <a class=anchor-link href=#why>#</a></h3><p>Texture atlases (sometimes called sprite sheets) simply draw a custom <em>section</em> of a given texture. This is <em>still</em> Sprite-like or Image-like behavior, we're just drawing a subset. The new <a href=https://docs.rs/bevy/0.13.0/bevy/sprite/struct.TextureAtlas.html><code>TextureAtlas</code></a> component embraces that by storing:<ul><li>a <code>Handle&LTTextureAtlasLayout></code>, an asset mapping an index to a <code>Rect</code> section of a texture<li>a <code>usize</code> index defining which section <code>Rect</code> of the layout we want to display</ul><h2 id=light-renderlayers>Light <code>RenderLayers</code> <a class=anchor-link href=#light-renderlayers>#</a></h2><div class=release-feature-authors>authors: @robftm</div><p><a href=https://docs.rs/bevy/latest/bevy/render/view/struct.RenderLayers.html><code>RenderLayers</code></a> are Bevy's answer to quickly hiding and showing entities en masse by filtering what a Camera can see ... great for things like customizing the first-person view of what a character is holding (or making sure vampires don't show up in your mirrors!).<p><a href=https://docs.rs/bevy/latest/bevy/render/view/struct.RenderLayers.html><code>RenderLayers</code></a> <a href=https://github.com/bevyengine/bevy/pull/10742>now play nice</a> with lights, fixing a serious limitation to make sure this awesome feature can shine appropriately!<h2 id=bind-group-layout-entries>Bind Group Layout Entries <a class=anchor-link href=#bind-group-layout-entries>#</a></h2><div class=release-feature-authors>authors: @IceSentry</div><p>We added a new API, inspired by the bind group entries API from 0.12, to declare bind group layouts. This new API is based on using built-in functions to define bind group layout resources and automatically set the index based on its position.<p>Here's a short example of how declaring a new layout looks:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> layout <span class="z-keyword z-operator z-assignment z-rust">=</span> render_device<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">create_bind_group_layout</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>post_process_bind_group_layout<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-path z-rust">BindGroupLayoutEntries<span class="z-punctuation z-accessor z-rust">::</span></span>sequential<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">ShaderStages<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">FRAGMENT</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-support z-function z-rust">texture_2d_f32</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-support z-function z-rust">sampler</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">SamplerBindingType<span class="z-punctuation z-accessor z-rust">::</span></span>Filtering</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">uniform_buffer<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>PostProcessingSettings<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-language z-rust">false</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=type-safe-labels-for-the-rendergraph>Type-Safe Labels for the <code>RenderGraph</code> <a class=anchor-link href=#type-safe-labels-for-the-rendergraph>#</a></h2><div class=release-feature-authors>authors: @DasLixou</div><p>Bevy uses Rust's type system extensively when defining labels, letting developers lean on tooling to catch typos and ease refactors. But this didn't apply to Bevy's render graph. In the render graph, hard-coded—and potentially overlapping—strings were used to define nodes and sub-graphs.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before 0.13
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust"><span class="z-entity z-name z-impl z-rust">MyRenderNode</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">NAME</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'static</span> <span class="z-storage z-type z-rust">str</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>my_render_node<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>In <strong>Bevy 0.13</strong>, we're using a more robust way to name render nodes and render graphs with the help of the type-safe label pattern already used by <code>bevy_ecs</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After 0.13
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Debug<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> RenderLabel</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">PrettyFeature</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>With those, the long paths for const-values become shorter and cleaner:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before 0.13
</span></span><span class="z-source z-rust">render_app
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_render_graph_node<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">ViewNodeRunner<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>PrettyFeatureNode<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">core_3d<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">graph<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAME</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">PrettyFeatureNode<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAME</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_render_graph_edges</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">core_3d<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">graph<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAME</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">core_3d<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">graph<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">node<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">TONEMAPPING</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">PrettyFeatureNode<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAME</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">core_3d<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">graph<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">node<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">END_MAIN_PASS_POST_PROCESSING</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After 0.13
</span></span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">core_pipeline<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">core_3d<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">graph<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>Node3d<span class="z-punctuation z-separator z-rust">,</span> Core3d</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">render_app
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_render_graph_node<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">ViewNodeRunner<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>PrettyFeatureNode<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        Core3d<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        PrettyFeature<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_render_graph_edges</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        Core3d<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">Node3d<span class="z-punctuation z-accessor z-rust">::</span></span>Tonemapping<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            PrettyFeature<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">            <span class="z-meta z-path z-rust">Node3d<span class="z-punctuation z-accessor z-rust">::</span></span>EndMainPassPostProcessing<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>When you need dynamic labels for render nodes, those can still be achieved via e.g. tuple structs:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Debug<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> RenderLabel</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyDynamicLabel</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'static</span> <span class="z-storage z-type z-rust">str</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This is particularly nice because we don't have to store strings here: we can use integers, custom enums or any other hashable type.<h2 id=winit-upgrade>Winit Upgrade <a class=anchor-link href=#winit-upgrade>#</a></h2><div class=release-feature-authors>authors: @Thierry Berger, @mockersf</div><p>Through the heroic efforts of our contributors and reviewers, Bevy is <a href=https://github.com/bevyengine/bevy/pull/10702>now upgraded</a> to use <code>winit 0.29</code>. <a href=https://docs.rs/winit/latest/winit/><code>winit</code></a> is our windowing library: it abstracts over all the different operating systems and input devices that end users might have, and provides a uniform API to enable a write-once run-anywhere experience. While this brings with it the usual litany of valuable <a href=https://github.com/rust-windowing/winit/blob/master/CHANGELOG.md#0292>bug fixes and stability improvements</a>, the critical change revolves around how <a href=https://docs.rs/bevy/latest/bevy/input/keyboard/enum.KeyCode.html><code>KeyCode</code></a> is handled.<p>Previously, <a href=https://docs.rs/bevy/latest/bevy/input/keyboard/enum.KeyCode.html><code>KeyCode</code></a> represented the logical meaning of a key on a keyboard: pressing the same button on the same keyboard when swapping between QWERTY and AZERTY keyboard layouts would give a different result! Now, <a href=https://docs.rs/bevy/latest/bevy/input/keyboard/enum.KeyCode.html><code>KeyCode</code></a> represents the physical location of the key. Lovers of WASD games know that this is a much better default for games. For most Bevy developers, you can leave your existing code untouched and simply benefit from better default keybindings for users on non-QWERTY keyboards or layouts. If you need information about the logical keys pressed, use the <a href=https://docs.rs/bevy/latest/bevy/prelude/struct.ReceivedCharacter.html><code>ReceivedCharacter</code></a> event.<h2 id=multiple-gizmo-configurations>Multiple Gizmo Configurations <a class=anchor-link href=#multiple-gizmo-configurations>#</a></h2><div class=release-feature-authors>authors: @jeliag</div><p>Gizmos let you quickly draw shapes using an immediate mode API. Here is how you use them:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Bevy 0.12.1
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">set_gizmo_width</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">config</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GizmoConfig<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> set the line width of every gizmos with this global configuration resource.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    config<span class="z-punctuation z-accessor z-dot z-rust">.</span>line_width <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">draw_circles</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">gizmos</span><span class="z-punctuation z-separator z-rust">:</span> Gizmos</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Draw two circles with a 5 pixels outline
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">circle_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">100.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">120.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAVY</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">circle_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">100.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">120.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ORANGE</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Add a <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/struct.Gizmos.html><code>Gizmos</code></a> system param and simply call a few methods. Cool!<p>Gizmos are also great for crate authors, they can use the same API. For example, the <a href=https://crates.io/crates/oxidized_navigation><code>oxidized_navigation</code></a> navmesh library uses gizmos for its debug overlay. Neat!<p>However, there is only one global configuration. Therefore, a dependency could very well affect the game's gizmos. It could even make them completely unusable.<p>Not so great. How to solve this? Gizmo groups.<p>Now, <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/prelude/struct.Gizmos.html><code>Gizmos</code></a> comes with an optional parameter. By default, it uses a global configuration:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">draw_circles</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">default_gizmos</span><span class="z-punctuation z-separator z-rust">:</span> Gizmos</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    default_gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">circle_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">100.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">120.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAVY</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>But with a <a href=https://docs.rs/bevy/0.13.0/bevy/gizmos/config/trait.GizmoConfigGroup.html><code>GizmoConfigGroup</code></a> parameter, <code>Gizmos</code> can choose a distinct configuration:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">draw_circles</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">default_gizmos</span><span class="z-punctuation z-separator z-rust">:</span> Gizmos,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> this uses the distinct NavigationGroup config
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">navigation_gizmos</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Gizmos<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>NavigationGroup<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Two circles with different outline width
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    default_gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">circle_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">100.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">120.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NAVY</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    navigation_gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">circle_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">100.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">120.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ORANGE</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Create your own gizmo config group by deriving <code>GizmoConfigGroup</code>, and registering it to the <code>App</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Default<span class="z-punctuation z-separator z-rust">,</span> Reflect<span class="z-punctuation z-separator z-rust">,</span> GizmoConfigGroup</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">NavigationGroup</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Plugin <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">NavigationPlugin</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">build</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">app</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> App</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        app
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">init_gizmo_group<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>NavigationGroup<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ... rest of plugin initialization.
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>And this is how you set the configuration of gizmo groups to different values:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Bevy 0.13.0
</span></span><span class="z-source z-rust"><span class="z-support z-function z-rust">set_gizmo_width</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> config_store<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GizmoConfigStore<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> config <span class="z-keyword z-operator z-assignment z-rust">=</span> config_store<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">config_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>DefaultGizmoConfigGroup<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    config<span class="z-punctuation z-accessor z-dot z-rust">.</span>line_width <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-float z-rust">20.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> navigation_config <span class="z-keyword z-operator z-assignment z-rust">=</span> config_store<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">config_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>NavigationGroup<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    navigation_config<span class="z-punctuation z-accessor z-dot z-rust">.</span>line_width <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-float z-rust">10.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><p>Now, the navigation gizmos have a fully separate configuration and don't conflict with the game's gizmos.<p>Not only that, but the game dev can integrate and toggle the navigation gizmos with their own debug tools however they wish. Be it a hotkey, a debug overlay UI button, or an RPC call. The world is your oyster.<h2 id=gltf-extensions>glTF Extensions <a class=anchor-link href=#gltf-extensions>#</a></h2><div class=release-feature-authors>authors: @CorneliusCornbread</div><p><strong><a href=https://www.khronos.org/gltf/>glTF</a></strong> is a popular standardized open file format, used to store and share 3D models and scenes between different programs. The trouble with standards though is that you eventually want to <em>customize</em> it, just a little, to better meet your needs. Khronos Group, in their wisdom, foresaw this and defined a standardized way to customize the format called <strong><a href=https://kcoley.github.io/glTF/extensions/>extensions</a></strong>.<p>Extensions can be readily exported from other tools (like Blender), and contain <a href=https://github.com/KhronosGroup/glTF/blob/main/extensions/README.md>all sorts</a> of other useful information: from bleeding edge physically-based material information like anisotropy to performance hints like how to instance meshes.<p>Because Bevy parses loaded glTF's into our own entity-based hierarchy of objects, getting access to this information when you want to do new rendering things can be hard! With <a href=https://github.com/bevyengine/bevy/pull/11138>the changes by CorneliusCornbread</a> you can configure the loader to store a raw copy of the glTF file itself with your loaded asset, allowing you to parse and reprocess this information however you please.<h2 id=asset-transformers>Asset Transformers <a class=anchor-link href=#asset-transformers>#</a></h2><div class=release-feature-authors>authors: @thepackett, @RyanSpaker</div><p>Asset processing, at its core, involves implementing the <code>Process</code> trait, which takes some byte data representing an asset, transforms it, and then returns the processed byte data. However, implementing the <code>Process</code> trait by hand is somewhat involved, and so a generic <code>LoadAndSave&LTL: AssetLoader, S: AssetSaver></code> <code>Process</code> implementation was written to make asset processing more ergonomic.<p>Using the <code>LoadAndSave</code> <code>Process</code> implementation, the previous Asset processing pipeline had four stages:<ol><li>An <code>AssetReader</code> reads some asset source (filesystem, http, etc) and gets the byte data of an asset.<li>An <code>AssetLoader</code> reads the byte data and converts it to a Bevy <code>Asset</code>.<li>An <code>AssetSaver</code> takes a Bevy <code>Asset</code>, processes it, and then converts it back into byte data.<li>An <code>AssetWriter</code> then writes the asset byte data back to the asset source.</ol><p><code>AssetSaver</code>s were responsible for both transforming an asset and converting it into byte data. However, this posed a bit of an issue for code reusability. Every time you wanted to transform some asset, such as an image, you would need to rewrite the portion that converts the asset to byte data. To solve this, <code>AssetSaver</code>s are now solely responsible for converting an asset into byte data, and <code>AssetTransformer</code>s which are responsible for transforming an asset were introduced. A new <code>LoadTransformAndSave&LTL: AssetLoader, T: AssetTransformer, S: AssetSaver></code> <code>Process</code> implementation was added to utilize the new <code>AssetTransformer</code>s.<p>The new asset processing pipeline, using the <code>LoadTransformAndSave</code> <code>Process</code> implementation, has five stages:<ol><li>An <code>AssetReader</code> reads some asset source (filesystem, http, etc) and gets the byte data of an asset.<li>An <code>AssetLoader</code> reads the byte data and converts it to a Bevy <code>Asset</code>.<li>An <code>AssetTransformer</code> takes an asset and transforms it in some way.<li>An <code>AssetSaver</code> takes a Bevy <code>Asset</code> and converts it back into byte data.<li>An <code>AssetWriter</code> then writes the asset byte data back to the asset source.</ol><p>In addition to having better code reusability, this change encourages writing <code>AssetSaver</code>s for various common asset types, which could be used to add runtime asset saving functionality to the <code>AssetServer</code>.<p>The previous <code>LoadAndSave</code> <code>Process</code> implementation still exists, as there are some cases where an asset transformation step is unnecessary, such as when saving assets into a compressed format.<p>See the <a href=https://github.com/bevyengine/bevy/blob/main/examples/asset/processing/asset_processing.rs>Asset Processing Example</a> for a more detailed look into how to use <code>LoadTransformAndSave</code> to process a custom asset.<h2 id=entity-optimizations>Entity Optimizations <a class=anchor-link href=#entity-optimizations>#</a></h2><div class=release-feature-authors>authors: @Bluefinger, @notverymoe, @scottmcm, @james7132, @NathanSWard</div><p><code>Entity</code> (Bevy's 64-bit unique identifier for entities) received several changes this cycle, laying some more groundwork for relations alongside <em>related</em>, and nice to have, performance optimizations. The work here involved a lot of deep-diving into compiler codegen/assembly output, with running lots of benchmarks and testing to ensure all changes didn't cause breakages or major problems. Although the work here was dealing with mostly <em>safe</em> code, there were lots of underlying assumptions being changed that could have impacted code elsewhere. This was the most "micro-optimization" oriented set of changes in Bevy 0.13.<ul><li><a href=https://github.com/bevyengine/bevy/pull/9797>#9797</a>: created a unified identifier type, paving the path for us to use the same fast, complex code in both our <code>Entity</code> type and the much-awaited relations<li><a href=https://github.com/bevyengine/bevy/pull/9907>#9907</a>: allowed us to store <code>Option&LTEntity></code> in the same number of bits as <code>Entity</code>, by changing the layout of our Entity type to reserve exactly one <code>u64</code> value for the <code>None</code> variant<li><a href=https://github.com/bevyengine/bevy/pull/10519>#10519</a>: swapped us to a manually crafted <code>PartialEq</code> and <code>Hash</code> implementation for <code>Entity</code> to improve speed and save instructions in our hot loops<li><a href=https://github.com/bevyengine/bevy/pull/10558>#10558</a>: combined the approach of <a href=https://github.com/bevyengine/bevy/pull/9907>#9907</a> and <a href=https://github.com/bevyengine/bevy/pull/10519>#10519</a> to optimize <code>Entity</code>'s layout further, and optimized our <code>PartialOrd</code> and <code>Ord</code> implementations!<li><a href=https://github.com/bevyengine/bevy/pull/10648>#10648</a>: further optimized our entity hashing, changing how we multiply in the hash to save one precious assembly instruction in the optimized compiler output</ul><p>Full credit is also due to the authors who pursued similar work in <a href=https://github.com/bevyengine/bevy/pull/2372>#2372</a> and <a href=https://github.com/bevyengine/bevy/pull/3788>#3788</a>: while their work was not ultimately merged, it was an incredibly valuable inspiration and source of prior art to base these more recent changes on.<p><img alt="Benchmark results of optimization work" src=https://bevy.org/news/bevy-0-13/entity_hash_optimsation_benches.png><p>The above results show from where we started (<code>optimised_eq</code> being the first PR that introduced the benchmarks) to where we are now with all the optimizations in place (<code>optimised_entity</code>). There are improvements across the board, with clear performance benefits that should impact multiple areas of the codebase, not just when hashing entities.<p>There are a ton of crunchy, well-explained details in the linked PRs, including some fascinating assembly output analysis. If that interests you, open some new tabs in the background!<h2 id=porting-query-for-each-to-queryiter-fold-override>Porting <code>Query::for_each</code> to <code>QueryIter::fold</code> override <a class=anchor-link href=#porting-query-for-each-to-queryiter-fold-override>#</a></h2><div class=release-feature-authors>authors: @james7132</div><p>Currently to get the full performance out of iterating over queries, <code>Query::for_each</code> must be used to take advantage of auto-vectorization and internal iteration optimizations that the compiler can apply. However, this isn't idiomatic rust and is not an iterator method so you can't use it on an iterator chain. However, it is possible to get the same benefits for some iterator methods, for which <a href=https://github.com/bevyengine/bevy/pull/6773/>#6773</a> by @james7132 sought to achieve. By providing an override to <code>QueryIter::fold</code>, it was possible to port the iteration strategies of <code>Query::for_each</code> so that <code>Query::iter</code> and co could achieve the same gains. Not <em>every</em> iterator method currently benefits from this, as they require overriding <code>QueryIter::try_fold</code>, but that is currently still a nightly-only optimisation. This same approach is within the Rust standard library.<p>This deduplicated code in a few areas, such as no longer requiring both <code>Query::for_each</code> and <code>Query::for_each_mut</code>, as one just needs to call <code>Query::iter</code> or <code>Query::iter_mut</code> instead. So code like:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">some_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">q_transform</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Transform, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Npc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    q_transform<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">for_each_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">transform</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Do something...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Becomes:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">some_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">q_transform</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Transform, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Npc<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    q_transform<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">for_each</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">transform</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Do something...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>The assembly output was compared as well between what was on main branch versus the PR, with no tangible differences being seen between the old <code>Query::for_each</code> and the new <code>QueryIter::for_each()</code> output, validating the approach and ensuring the internal iteration optimizations were being applied.<p>As a plus, the same internal iteration optimizations in <code>Query::par_for_each</code> now reuse code from <code>for_each</code>, deduplicating code there as well and enabling users to make use of <code>par_iter().for_each()</code>. As a whole, this means there's no longer any need for <code>Query::for_each</code>, <code>Query::for_each_mut</code>, <code>Query::_par_for_each</code>, <code>Query::par_for_each_mut</code> so these methods have been deprecated for 0.13 and will be removed in 0.14.<h2 id=reducing-tablerow-as-casting>Reducing <code>TableRow</code> <code>as</code> Casting <a class=anchor-link href=#reducing-tablerow-as-casting>#</a></h2><div class=release-feature-authors>authors: @bushrat011899</div><p>Not all improvements in our ECS internals were focused on performance. Some small changes were made to improve type safety and tidy up some of the codebase to have less <code>as</code> casting being done on various call sites for <code>TableRow</code>. The problem with <code>as</code> casting is that in some cases, the cast will fail by truncating the value silently, which could then cause havoc by accessing the wrong row and so forth. <a href=https://github.com/bevyengine/bevy/pull/10811>#10811</a> by @bushrat011899 was put forward to clean up the API around <code>TableRow</code>, providing convenience methods backed by <code>assert</code>s to ensure the casting operations could never fail, or if they did, they'd panic correctly.<p>Naturally, <em>adding</em> asserts in potentially hot codepaths were cause for some concern, necessitating considerable benchmarking efforts to confirm there were regressions and to what level. With careful placing of the new <code>assert</code>s, the detected regression for these cases was in the region of 0.1%, well within noise. But the benefit was a less error-prone API and more robust code. With a complex unsafe codebase like <code>bevy_ecs</code>, every little bit helps.<h2 id=events-live-longer>Events Live Longer <a class=anchor-link href=#events-live-longer>#</a></h2><p>Events are a useful tool for passing data into systems and between systems.<p>Internally, Bevy events are double-buffered, so a given event will be silently dropped once the buffers have swapped twice. The <code>Events&LTT></code> resource is set up this way so events are dropped after a predictable amount of time, preventing their queues from growing forever and causing a memory leak.<p>Before 0.12.1, event queues were swapped every update (i.e. every frame). That was an issue for games with logic in <code>FixedUpdate</code> since it meant events would normally disappear before systems in the next <code>FixedUpdate</code> could read them.<p>Bevy 0.12.1 changed the swap cadence to "every update that runs <code>FixedUpdate</code> one or more times" (only if the <code>TimePlugin</code> is installed). This change did resolve the original problem, but it then caused problems in the other direction. Users were surprised to learn some of their systems with <code>run_if</code> conditions would iterate much older events than expected. (In hindsight, we should have considered it a breaking change and postponed it until this release.) The change also introduced a bug (fixed in this release) where only one type of event was being dropped.<p>One proposed future solution to this lingering but unintended coupling between <code>Update</code> and <code>FixedUpdate</code> is to use event timestamps to change the default range of events visible by <code>EventReader&LTT></code>. That way systems in <code>Update</code> would skip any events older than a frame while systems in <code>FixedUpdate</code> could still see them.<p>For now, the <code><=0.12.0</code> behavior can be recovered by simply removing the <code>EventUpdateSignal</code> resource.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>DefaultPlugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> If this resource is absent, events are dropped the same way as <=0.12.0.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">remove_resource<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>EventUpdateSignal<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=what-s-next><a name=what-s-next></a>What's Next? <a class=anchor-link href=#what-s-next>#</a></h2><p>We have plenty of work in progress! Some of this will likely land in <strong>Bevy 0.14</strong>.<p>Check out the <a href=https://github.com/bevyengine/bevy/milestone/20><strong>Bevy 0.14 Milestone</strong></a> for an up-to-date list of current work that contributors are focusing on for <strong>Bevy 0.14</strong>.<h3 id=more-editor-experimentation>More Editor Experimentation <a class=anchor-link href=#more-editor-experimentation>#</a></h3><p>Led by the brilliant JMS55, we've opened up a free-form <a href=https://github.com/bevyengine/bevy_editor_prototypes>playground</a> to define and answer <a href=https://github.com/bevyengine/bevy_editor_prototypes/discussions/1>key questions</a> about the design of the <code>bevy_editor</code>: not through discussion, but through concrete prototyping. Should we use an in-process editor (less robust to game crashes) or an external one (more complex)? Should we ship an editor binary (great for non-programmers) or embed it in the game itself (very hackable)? Let's find out by doing!<p>There are some incredible mockups, functional prototypes and third-party editor-adjacent projects out there. Some highlights:<div style="text-align:center;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr;place-items:end center;gap:1rem;margin:2rem;font-size:.8rem;display:grid"><div style="grid-column:span 2"><a href=editor_mockup.png><img alt="A mockup of the UI for a graphical Bevy editor" style="border-radius:0;box-shadow:0 .5rem .5rem #00000080" src=editor_mockup.png></a> (1) bevy_editor_mockup</div><div style="grid-column:span 2"><a href=locomotion_graph.png><img alt="A node-based animation graph editor built with `bevy_egui`" style="border-radius:0;box-shadow:0 .5rem .5rem #00000080" src=locomotion_graph.png></a> (2) bevy_animation_graph</div><div style="grid-column:span 2"><a href=space_editor.png><img alt="A screenshot from `space_editor`, showcasing a functional scene editor with gizmos" style="border-radius:0;box-shadow:0 .5rem .5rem #00000080" src=space_editor.png></a> (3) space_editor</div><div style="grid-column:2/span 2"><a href=bevy_components.jpg><img alt="A screenshot from Blender, with Blender UI modifying Bevy component values" style="border-radius:0;box-shadow:0 .5rem .5rem #00000080" src=bevy_components.jpg></a> (4) bevy_components</div><div style="grid-column:span 2"><a href=makeshift_web.jpg><img alt="A recording of a web-based editor resulting in changes to Bevy entities in real time" style="border-radius:0;box-shadow:0 .5rem .5rem #00000080" src=makeshift_web.jpg></a> (5) bevy_remote</div></div><ol><li>A Bevy-branded editor UI mockup by <code>@!!&Amy</code> on Discord, imagining what the UX for an ECS-based editor <a href=https://amytimed.github.io/bevy_editor_mockup/editor/>could look like</a><li><a href=https://crates.io/crates/bevy_animation_graph><code>bevy_animation_graph</code></a>: a fully-functional asset-driven animation graph crate with its own node-based editor for Bevy<li><a href=https://github.com/rewin123/space_editor><code>space_editor</code></a>: a polished Bevy-native third-party scene editor that you can use today!<li><a href=https://github.com/kaosat-dev/Blender_bevy_components_workflow><code>Blender_bevy_components_workflow</code></a>: an impressively functional ecosystem of tools that lets you use Blender as a seamless level and scene editor for your games today.<li><code>@coreh</code>'s experiment on a <a href=https://github.com/coreh/bevy/pull/1>reflection-powered remote protocol</a>, coupled with an interactive web-based editor, allows devs to inspect and control their Bevy games from other processes, languages and even devices! <a href=https://makeshift-bevy-web-editor.vercel.app/>Try it out live</a>!</ol><p>It's really exciting to see this progress, and we're keen to channel that energy and experience into official first-party efforts.<h3 id=bevy-dev-tools><code>bevy_dev_tools</code> <a class=anchor-link href=#bevy-dev-tools>#</a></h3><p>The secret to smooth game development is great tooling. It's time to give Bevy developers the tools they need to inspect, debug and profile their games as part of the first-party experience. From FPS meters to system stepping to a first-party equivalent of the fantastic <a href=https://crates.io/crates/bevy-inspector-egui><code>bevy-inspector-egui</code></a>: giving these a home in Bevy itself helps us polish them, points new users in the right direction, and allows us to use them in the <code>bevy_editor</code> itself.<h3 id=a-new-scene-format>A New Scene Format <a class=anchor-link href=#a-new-scene-format>#</a></h3><p><a href=https://github.com/bevyengine/bevy/tree/latest/examples/scene>Scenes</a> are Bevy's general-purpose answer to serializing ECS data to disk: tracking entities, components, and resources for both saving games and loading premade levels. However, the existing .ron-based scene format is hard to hand-author, overly verbose, and brittle; changes to your code (or that of your dependencies!) rapidly invalidate saved scenes. Cart has been cooking up a <a href=https://github.com/bevyengine/bevy/discussions/9538>revised scene format</a> with tight IDE and code integration that tackles these problems and makes authoring content (including UI!) in Bevy a joy. Whether you're writing code, writing scene files, or generating it from a GUI.<h3 id=bevy-ui-improvements><code>bevy_ui</code> Improvements <a class=anchor-link href=#bevy-ui-improvements>#</a></h3><p><code>bevy_ui</code> has its fair share of problems and limitations, <a href=https://www.leafwing-studios.com/blog/ecs-gui-framework/>both mundane and architectural</a>; however, there are tangible things we can and are doing to improve this: an improved scene format offers an end to the boilerplate when defining layouts, <a href=https://github.com/bevyengine/bevy/pull/8973>rounded</a> <a href=https://github.com/bevyengine/bevy/pull/11813>corners</a> just need a little love from reviewers, and the powerful and beloved object picking from [<code>bevy_mod_picking</code>] is slated to be upstreamed for both UI and gameplay alike. A spectacular array of <a href=https://bevy.org/assets/#ui>third-party UI solutions</a> exists today, and learning from those and committing to a core architecture for UI logic and reactivity is a top priority.<h3 id=meshlet-rendering>Meshlet Rendering <a class=anchor-link href=#meshlet-rendering>#</a></h3><p>Split meshes into clusters of triangles called meshlets, which bring many efficiency gains. During the 0.13 development cycle, we made a <a href=https://github.com/bevyengine/bevy/pull/10164>lot of progress on this feature</a>. We implemented a GPU-driven meshlet renderer that can scale to much more triangle-dense scenes, with a much lower CPU load. Memory usage, however, is very high, and we haven't implemented LODs or compression yet. Instead of releasing it half-baked, we're going to continue to iterate, and are very excited to (hopefully) bring you this feature in a future release.<p><img alt="The Stanford dragon mesh rendered as meshlet clusters" src=https://bevy.org/news/bevy-0-13/meshlet_preview.png><h3 id=the-steady-march-towards-relations>The Steady March Towards Relations <a class=anchor-link href=#the-steady-march-towards-relations>#</a></h3><p><a href=https://github.com/bevyengine/bevy/issues/3742>Entity-entity relations</a>, the ability to track and manage connections between entities directly in the ECS, has been one of the most requested ECS features for years now. Following the <a href=https://ajmmertens.medium.com/building-games-in-ecs-with-entity-relationships-657275ba2c6c>trail blazed by <code>flecs</code></a>, the mad scientists over in <code>#ecs-dev</code> are steadily <a href=https://github.com/orgs/bevyengine/projects/15>reshaping our internals</a>, <a href=https://crates.io/crates/aery>experimenting with external implementations</a>, and shipping the general purpose building blocks (like dynamic queries or <a href=https://github.com/bevyengine/bevy/pull/10756>lifecycle hooks</a>) needed to build a fast, robust and ergonomic solution.<h2 id=support-bevy>Support Bevy <a class=anchor-link href=#support-bevy>#</a></h2><p>Sponsorships help make our work on Bevy sustainable. If you believe in Bevy's mission, consider <a href=/community/donate>sponsoring us</a> ... every bit helps!<p><a class="button button--pink header__cta" href=/community/donate>Donate <img alt="heart icon" class=button__icon src=/assets/heart.svg></a><h2 id=contributors>Contributors <a class=anchor-link href=#contributors>#</a></h2><p>Bevy is made by a <a href=/community/people/>large group of people</a>. A huge thanks to the 198 contributors that made this release (and associated docs) possible! In random order:<ul><li>@ickk<li>@orph3usLyre<li>@tygyh<li>@nicopap<li>@NiseVoid<li>@pcwalton<li>@homersimpsons<li>@Henriquelay<li>@Vrixyz<li>@GuillaumeGomez<li>@porkbrain<li>@Leinnan<li>@IceSentry<li>@superdump<li>@solis-lumine-vorago<li>@garychia<li>@tbillington<li>@Nilirad<li>@JMS55<li>@kirusfg<li>@KirmesBude<li>@maueroats<li>@mamekoro<li>@NiklasEi<li>@SIGSTACKFAULT<li>@Olle-Lukowski<li>@bushrat011899<li>@cbournhonesque-sc<li>@daxpedda<li>@Testare<li>@johnbchron<li>@BlackPhlox<li>@MrGVSV<li>@Kanabenki<li>@SpecificProtagonist<li>@rosefromthedead<li>@thepackett<li>@wgxer<li>@mintlu8<li>@AngelOnFira<li>@ArthurBrussee<li>@viridia<li>@GabeeeM<li>@Elabajaba<li>@brianreavis<li>@dmlary<li>@akimakinai<li>@VitalyAnkh<li>@komadori<li>@extrawurst<li>@NoahShomette<li>@valentinegb<li>@coreh<li>@kristoff3r<li>@wackbyte<li>@BD103<li>@stepancheg<li>@bogdiw<li>@doup<li>@janhohenheim<li>@ekropotin<li>@thmsgntz<li>@alice-i-cecile<li>@tychedelia<li>@soqb<li>@taizu-jin<li>@kidrigger<li>@fuchsnj<li>@TimJentzsch<li>@MinerSebas<li>@RomainMazB<li>@cBournhonesque<li>@tripokey<li>@cart<li>@pablo-lua<li>@cuppar<li>@TheTacBanana<li>@AxiomaticSemantics<li>@rparrett<li>@richardhozak<li>@afonsolage<li>@conways-glider<li>@ItsDoot<li>@MarkusTheOrt<li>@DavJCosby<li>@thebluefish<li>@DGriffin91<li>@Shatur<li>@MiniaczQ<li>@killercup<li>@Ixentus<li>@hecksmosis<li>@nvdaz<li>@james-j-obrien<li>@seabassjh<li>@lee-orr<li>@Waridley<li>@wainwrightmark<li>@robtfm<li>@asuratos<li>@Ato2207<li>@DasLixou<li>@SludgePhD<li>@torsteingrindvik<li>@jakobhellermann<li>@fantasyRqg<li>@johanhelsing<li>@re0312<li>@ickshonpe<li>@BorisBoutillier<li>@lkolbly<li>@Friz64<li>@rodolphito<li>@TheBlckbird<li>@HeyZoos<li>@nxsaken<li>@UkoeHB<li>@GitGhillie<li>@ibotha<li>@ManevilleF<li>@andristarr<li>@josfeenstra<li>@maniwani<li>@Trashtalk217<li>@benfrankel<li>@notverymoe<li>@simbleau<li>@aevyrie<li>@Dig-Doug<li>@IQuick143<li>@shanecelis<li>@mnmaita<li>@Braymatter<li>@LeshaInc<li>@esensar<li>@Adamkob12<li>@Kees-van-Beilen<li>@davidasberg<li>@andriyDev<li>@hankjordan<li>@Jondolf<li>@SET001<li>@hxYuki<li>@matiqo15<li>@capt-glorypants<li>@hymm<li>@HugoPeters1024<li>@RyanSpaker<li>@bardt<li>@tguichaoua<li>@SkiFire13<li>@st0rmbtw<li>@Davier<li>@mockersf<li>@antoniacobaeus<li>@ameknite<li>@Pixelstormer<li>@bonsairobo<li>@matthew-gries<li>@NthTensor<li>@tjamaan<li>@Architector4<li>@JoJoJet<li>@TrialDragon<li>@Gadzev<li>@eltociear<li>@scottmcm<li>@james7132<li>@CorneliusCornbread<li>@Aztro-dev<li>@doonv<li>@Malax<li>@atornity<li>@Bluefinger<li>@kayhhh<li>@irate-devil<li>@AlexOkafor<li>@kettle11<li>@davidepaci<li>@NathanSWard<li>@nfagerlund<li>@anarelion<li>@laundmo<li>@nelsontkq<li>@jeliag<li>@13ros27<li>@Nathan-Fenner<li>@softmoth<li>@xNapha<li>@asafigan<li>@nothendev<li>@SuperSamus<li>@devnev<li>@RobWalt<li>@ThePuzzledDev<li>@rafalh<li>@dubrowgn<li>@Aceeri</ul><h2 id=full-changelog>Full Changelog <a class=anchor-link href=#full-changelog>#</a></h2><p>The changes mentioned above are only the most appealing, highest impact changes that we've made this cycle. Innumerable bug fixes, documentation changes and API usability tweaks made it in too. For a complete list of changes, check out the PRs listed below.<h3 id=a-rendering-a-windowing>A-Rendering + A-Windowing <a class=anchor-link href=#a-rendering-a-windowing>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11660>Allow prepare_windows to run off main thread.</a><li><a href=https://github.com/bevyengine/bevy/pull/11672>Allow prepare_windows to run off main thread on all platforms</a><li><a href=https://github.com/bevyengine/bevy/pull/11720>don't run <code>create_surfaces</code> system if not needed</a><li><a href=https://github.com/bevyengine/bevy/pull/11747>fix create_surfaces system ordering</a></ul><h3 id=a-animation-a-reflection>A-Animation + A-Reflection <a class=anchor-link href=#a-animation-a-reflection>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11889>Add type registrations for animation types</a></ul><h3 id=a-assets>A-Assets <a class=anchor-link href=#a-assets>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10452>Don't <code>.unwrap()</code> in <code>AssetPath::try_parse</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10494>feat: <code>Debug</code> implemented for <code>AssetMode</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10516>Remove rogue : from embedded_asset! docs</a><li><a href=https://github.com/bevyengine/bevy/pull/10523>use <code>tree</code> syntax to explain bevy_rock file structure</a><li><a href=https://github.com/bevyengine/bevy/pull/10493>Make AssetLoader/Saver Error type bounds compatible with anyhow::Error</a><li><a href=https://github.com/bevyengine/bevy/pull/10514>Fix untyped labeled asset loading</a><li><a href=https://github.com/bevyengine/bevy/pull/10526>Add <code>load_untyped</code> to LoadContext</a><li><a href=https://github.com/bevyengine/bevy/pull/10574>fix example custom_asset_reader on wasm</a><li><a href=https://github.com/bevyengine/bevy/pull/10450><code>ReadAssetBytesError::Io</code> exposes failing path</a><li><a href=https://github.com/bevyengine/bevy/pull/10565>Added Method to Allow Pipelined Asset Loading</a><li><a href=https://github.com/bevyengine/bevy/pull/10578>Add missing asset load error logs for load_folder and load_untyped</a><li><a href=https://github.com/bevyengine/bevy/pull/10589>Fix wasm builds with file_watcher enabled</a><li><a href=https://github.com/bevyengine/bevy/pull/10614>Do not panic when failing to create assets folder (#10613)</a><li><a href=https://github.com/bevyengine/bevy/pull/10619>Use handles for queued scenes in SceneSpawner</a><li><a href=https://github.com/bevyengine/bevy/pull/10585>Fix file_watcher feature hanging indefinitely</a><li><a href=https://github.com/bevyengine/bevy/pull/10410>derive asset for enums</a><li><a href=https://github.com/bevyengine/bevy/pull/10628>Ensure consistency between Un/Typed <code>AssetId</code> and <code>Handle</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10698>Fix Asset Loading Bug</a><li><a href=https://github.com/bevyengine/bevy/pull/10699>remove double-hashing of typeid for handle</a><li><a href=https://github.com/bevyengine/bevy/pull/10623>AssetMetaMode</a><li><a href=https://github.com/bevyengine/bevy/pull/10745>Fix GLTF scene dependencies and make full scene renders predictable</a><li><a href=https://github.com/bevyengine/bevy/pull/10787>Print precise and correct watch warnings (and only when necessary)</a><li><a href=https://github.com/bevyengine/bevy/pull/10785>Allow removing and reloading assets with live handles</a><li><a href=https://github.com/bevyengine/bevy/pull/10804>Add GltfLoaderSettings</a><li><a href=https://github.com/bevyengine/bevy/pull/10920>Refactor <code>process_handle_drop_internal()</code> in bevy_asset</a><li><a href=https://github.com/bevyengine/bevy/pull/11053>fix base64 padding when loading a gltf file</a><li><a href=https://github.com/bevyengine/bevy/pull/11212>assets should be kept on CPU by default</a><li><a href=https://github.com/bevyengine/bevy/pull/11218>Don't auto create assets folder</a><li><a href=https://github.com/bevyengine/bevy/pull/10878>Use <code>impl Into&LTA></code> for <code>Assets::add</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10939>Add <code>reserve_handle</code> to <code>Assets</code>.</a><li><a href=https://github.com/bevyengine/bevy/pull/11254>Better error message on incorrect asset label</a><li><a href=https://github.com/bevyengine/bevy/pull/11138>GLTF extension support</a><li><a href=https://github.com/bevyengine/bevy/pull/11370>Fix embedded watcher to work with external crates</a><li><a href=https://github.com/bevyengine/bevy/pull/11369>Added AssetLoadFailedEvent, UntypedAssetLoadFailedEvent</a><li><a href=https://github.com/bevyengine/bevy/pull/11284>auto create imported asset folder if needed</a><li><a href=https://github.com/bevyengine/bevy/pull/11491>Fix minor typo</a><li><a href=https://github.com/bevyengine/bevy/pull/11504>Include asset path in get_meta_path panic message</a><li><a href=https://github.com/bevyengine/bevy/pull/11538>Fix documentation for <code>AssetReader::is_directory</code> function</a><li><a href=https://github.com/bevyengine/bevy/pull/11260>AssetSaver and AssetTransformer split</a><li><a href=https://github.com/bevyengine/bevy/pull/11543>AssetPath source parse fix</a><li><a href=https://github.com/bevyengine/bevy/pull/11548>Allow TextureAtlasBuilder in AssetLoader</a><li><a href=https://github.com/bevyengine/bevy/pull/11578>Add a getter for asset watching status on <code>AssetServer</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11612>Make SavedAsset::get_labeled accept &str as label</a><li><a href=https://github.com/bevyengine/bevy/pull/10153>Added Support for Extension-less Assets</a><li><a href=https://github.com/bevyengine/bevy/pull/10383>Fix embedded asset path manipulation</a><li><a href=https://github.com/bevyengine/bevy/pull/11626>Fix AssetTransformer breaking LabeledAssets</a><li><a href=https://github.com/bevyengine/bevy/pull/11800>Put asset_events behind a run condition</a><li><a href=https://github.com/bevyengine/bevy/pull/11644>Use Asset Path Extension for <code>AssetLoader</code> Disambiguation</a></ul><h3 id=a-core-a-app>A-Core + A-App <a class=anchor-link href=#a-core-a-app>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11512>Add Accessibility plugin to default plugins docs</a></ul><h3 id=a-accessibility>A-Accessibility <a class=anchor-link href=#a-accessibility>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10989>Add html tags required for accessibility</a><li><a href=https://github.com/bevyengine/bevy/pull/11206>missed negation during accessibility refactor</a></ul><h3 id=a-transform>A-Transform <a class=anchor-link href=#a-transform>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10592>Add <code>Transform::is_finite</code></a></ul><h3 id=a-ecs-a-hierarchy>A-ECS + A-Hierarchy <a class=anchor-link href=#a-ecs-a-hierarchy>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10889>Add a doc note about despawn footgun</a></ul><h3 id=a-text>A-Text <a class=anchor-link href=#a-text>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10854>Rename <code>TextAlignment</code> to <code>JustifyText</code>.</a><li><a href=https://github.com/bevyengine/bevy/pull/11662>Subtract 1 from text positions to account for glyph texture padding.</a></ul><h3 id=a-assets-a-ui>A-Assets + A-UI <a class=anchor-link href=#a-assets-a-ui>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11205>UI and unloaded assets: don't filter out nodes with an unloaded image</a></ul><h3 id=a-utils-a-time>A-Utils + A-Time <a class=anchor-link href=#a-utils-a-time>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10980>Make SystemTime available in both native and wasm</a></ul><h3 id=a-rendering-a-assets>A-Rendering + A-Assets <a class=anchor-link href=#a-rendering-a-assets>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10502>Fix shader import hot reloading on windows</a><li><a href=https://github.com/bevyengine/bevy/pull/10520>Unload render assets from RAM</a><li><a href=https://github.com/bevyengine/bevy/pull/11767>mipmap levels can be 0 and they should be interpreted as 1</a></ul><h3 id=a-physics>A-Physics <a class=anchor-link href=#a-physics>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11106>refactor collide code (Adopted)</a><li><a href=https://github.com/bevyengine/bevy/pull/11500>Use <code>IntersectsVolume</code> for breakout example collisions</a></ul><h3 id=a-ecs-a-editor-a-app-a-diagnostics>A-ECS + A-Editor + A-App + A-Diagnostics <a class=anchor-link href=#a-ecs-a-editor-a-app-a-diagnostics>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/8453>System Stepping implemented as Resource</a></ul><h3 id=a-reflection-a-scenes>A-Reflection + A-Scenes <a class=anchor-link href=#a-reflection-a-scenes>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11878>Implement and register Reflect (value) for CameraRenderGraph and CameraMainTextureUsages</a></ul><h3 id=a-audio-a-windowing>A-Audio + A-Windowing <a class=anchor-link href=#a-audio-a-windowing>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11403>Winit update: fix suspend on Android</a></ul><h3 id=a-build-system-a-meta>A-Build-System + A-Meta <a class=anchor-link href=#a-build-system-a-meta>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10594>Standardize toml format with taplo</a></ul><h3 id=a-ecs-a-time>A-ECS + A-Time <a class=anchor-link href=#a-ecs-a-time>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10077>Wait until <code>FixedUpdate</code> can see events before dropping them</a><li><a href=https://github.com/bevyengine/bevy/pull/10977>Add First/Pre/Post/Last schedules to the Fixed timestep</a><li><a href=https://github.com/bevyengine/bevy/pull/11095>Add run conditions for executing a system after a delay</a><li><a href=https://github.com/bevyengine/bevy/pull/11313>Add paused run condition</a></ul><h3 id=a-meta>A-Meta <a class=anchor-link href=#a-meta>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10369>Add "update screenshots" to release checklist</a><li><a href=https://github.com/bevyengine/bevy/pull/10836>Remove references to specific projects from the readme</a><li><a href=https://github.com/bevyengine/bevy/pull/10962>Fix broken link between files</a><li><a href=https://github.com/bevyengine/bevy/pull/10971>[doc] Fix typo in CONTRIBUTING.md</a><li><a href=https://github.com/bevyengine/bevy/pull/10965>Remove unused namespace declarations</a><li><a href=https://github.com/bevyengine/bevy/pull/10998>Add docs link to root <code>Cargo.toml</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11242>Migrate third party plugins guidelines to the book</a><li><a href=https://github.com/bevyengine/bevy/pull/11386>Run markdownlint</a><li><a href=https://github.com/bevyengine/bevy/pull/11529>Improve <code>config_fast_builds.toml</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11541>Use <code>-Z threads=0</code> option in <code>config_fast_builds.toml</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11703>CONTRIBUTING.md: Mention splitting complex PRs</a></ul><h3 id=a-time>A-Time <a class=anchor-link href=#a-time>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10376>docs: use <code>read</code> instead of deprecated <code>iter</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10448>Rename <code>Time::&LTFixed>::overstep_percentage()</code> and <code>Time::&LTFixed>::overstep_percentage_f64()</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10442>Rename <code>Timer::{percent,percent_left}</code> to <code>Timer::{fraction,fraction_remaining}</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10564>Document how to configure FixedUpdate</a><li><a href=https://github.com/bevyengine/bevy/pull/10453>Add discard_overstep function to <code>Time&LTFixed></code></a></ul><h3 id=a-assets-a-reflection>A-Assets + A-Reflection <a class=anchor-link href=#a-assets-a-reflection>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11483>Register <code>AssetPath</code> as type for reflection</a></ul><h3 id=a-diagnostics-a-utils>A-Diagnostics + A-Utils <a class=anchor-link href=#a-diagnostics-a-utils>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11419>move once from bevy_log to bevy_utils, to allow for it's use in bevy_ecs</a></ul><h3 id=a-windowing-a-app>A-Windowing + A-App <a class=anchor-link href=#a-windowing-a-app>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10389>Revert <code>App::run()</code> behavior/Remove <code>winit</code> specific code from <code>bevy_app</code></a></ul><h3 id=a-ecs-a-scenes>A-ECS + A-Scenes <a class=anchor-link href=#a-ecs-a-scenes>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11428>Make the MapEntities trait generic over Mappers, and add a simpler EntityMapper</a></ul><h3 id=a-hierarchy>A-Hierarchy <a class=anchor-link href=#a-hierarchy>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10598>bevy_hierarchy: add some docs</a><li><a href=https://github.com/bevyengine/bevy/pull/10721>Make bevy_app and reflect opt-out for bevy_hierarchy.</a><li><a href=https://github.com/bevyengine/bevy/pull/10951>Add <code>bevy_hierarchy</code> Crate and plugin documentation</a><li><a href=https://github.com/bevyengine/bevy/pull/11194>Rename "AddChild" to "PushChild"</a><li><a href=https://github.com/bevyengine/bevy/pull/11332>Inline trivial methods in bevy_hierarchy</a></ul><h3 id=a-ecs-a-app>A-ECS + A-App <a class=anchor-link href=#a-ecs-a-app>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11527>Add custom schedule example</a></ul><h3 id=a-transform-a-math>A-Transform + A-Math <a class=anchor-link href=#a-transform-a-math>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11604>return Direction3d from Transform::up and friends</a></ul><h3 id=a-ui-a-text>A-UI + A-Text <a class=anchor-link href=#a-ui-a-text>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10537>Improved Text Rendering</a><li><a href=https://github.com/bevyengine/bevy/pull/11391>Feature-gate all references to <code>bevy_text</code> in <code>bevy_ui</code></a></ul><h3 id=a-input>A-Input <a class=anchor-link href=#a-input>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10534>Make ButtonSettings.is_pressed/released public</a><li><a href=https://github.com/bevyengine/bevy/pull/10859>Rename <code>Input</code> to <code>ButtonInput</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11010>Add method to check if all inputs are pressed</a><li><a href=https://github.com/bevyengine/bevy/pull/11128>Add window entity to TouchInput events</a><li><a href=https://github.com/bevyengine/bevy/pull/10930>Extend <code>Touches</code> with clear and reset methods</a><li><a href=https://github.com/bevyengine/bevy/pull/11400>Add logical key data to KeyboardInput</a><li><a href=https://github.com/bevyengine/bevy/pull/11791>Derive Ord for GamepadButtonType.</a><li><a href=https://github.com/bevyengine/bevy/pull/11710>Add delta to CursorMoved event</a></ul><h3 id=a-rendering-a-diagnostics>A-Rendering + A-Diagnostics <a class=anchor-link href=#a-rendering-a-diagnostics>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11693>Use <code>warn_once</code> where relevant instead of manually implementing a single warn check</a></ul><h3 id=a-rendering>A-Rendering <a class=anchor-link href=#a-rendering>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10423>Fix bevy_pbr shader function name</a><li><a href=https://github.com/bevyengine/bevy/pull/10394>Implement Clone for VisibilityBundle and SpatialBundle</a><li><a href=https://github.com/bevyengine/bevy/pull/10461>Reexport <code>wgpu::Maintain</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10474>Use a consistent scale factor and resolution in stress tests</a><li><a href=https://github.com/bevyengine/bevy/pull/10543>Ignore inactive cameras</a><li><a href=https://github.com/bevyengine/bevy/pull/10542>Add shader_material_2d example</a><li><a href=https://github.com/bevyengine/bevy/pull/10555>More inactive camera checks</a><li><a href=https://github.com/bevyengine/bevy/pull/10560>Fix post processing example to only run effect on camera with settings component</a><li><a href=https://github.com/bevyengine/bevy/pull/10556>Make sure added image assets are checked in camera_system</a><li><a href=https://github.com/bevyengine/bevy/pull/10548>Ensure ExtendedMaterial works with reflection (to enable bevy_egui_inspector integration)</a><li><a href=https://github.com/bevyengine/bevy/pull/10321>Explicit color conversion methods</a><li><a href=https://github.com/bevyengine/bevy/pull/10611>Re-export wgpu BufferAsyncError</a><li><a href=https://github.com/bevyengine/bevy/pull/10547>Improve shader_material example</a><li><a href=https://github.com/bevyengine/bevy/pull/10674>Non uniform transmission samples</a><li><a href=https://github.com/bevyengine/bevy/pull/10712>Explain how <code>AmbientLight</code> is inserted and configured</a><li><a href=https://github.com/bevyengine/bevy/pull/10722>Add wgpu_pass method to TrackedRenderPass</a><li><a href=https://github.com/bevyengine/bevy/pull/10683>Add a <code>depth_bias</code> to <code>Material2d</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10733>Use as_image_copy where possible</a><li><a href=https://github.com/bevyengine/bevy/pull/10734>impl <code>From&LTColor></code> for ClearColorConfig</a><li><a href=https://github.com/bevyengine/bevy/pull/10706>Ensure instance_index push constant is always used in prepass.wgsl</a><li><a href=https://github.com/bevyengine/bevy/pull/10224>Bind group layout entries</a><li><a href=https://github.com/bevyengine/bevy/pull/10657>prepass vertex shader always outputs world position</a><li><a href=https://github.com/bevyengine/bevy/pull/10485>Swap material and mesh bind groups</a><li><a href=https://github.com/bevyengine/bevy/pull/10801>try_insert Aabbs</a><li><a href=https://github.com/bevyengine/bevy/pull/10788>Fix prepass binding issues causing crashes when not all prepass bindings are used</a><li><a href=https://github.com/bevyengine/bevy/pull/10841>Fix binding group in custom_material_2d.wgsl</a><li><a href=https://github.com/bevyengine/bevy/pull/10905>Normalize only nonzero normals for mikktspace normal maps</a><li><a href=https://github.com/bevyengine/bevy/pull/10742>light renderlayers</a><li><a href=https://github.com/bevyengine/bevy/pull/10927>Explain how RegularPolygon mesh is generated</a><li><a href=https://github.com/bevyengine/bevy/pull/10967>Fix Mesh2d normals on webgl</a><li><a href=https://github.com/bevyengine/bevy/pull/10266>Update to wgpu 0.18</a><li><a href=https://github.com/bevyengine/bevy/pull/10979>Fix typo in docs for <code>ViewVisibility</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10947>Add docs to bevy_sprite a little</a><li><a href=https://github.com/bevyengine/bevy/pull/10818>Fix BindingType import warning</a><li><a href=https://github.com/bevyengine/bevy/pull/10073>Update texture_atlas example with different padding and sampling</a><li><a href=https://github.com/bevyengine/bevy/pull/11016>Update AABB when Sprite component changes in calculate_bounds_2d()</a><li><a href=https://github.com/bevyengine/bevy/pull/11024>OrthographicProjection.scaling_mode is not just for resize</a><li><a href=https://github.com/bevyengine/bevy/pull/11041>Derive <code>Debug</code> for <code>BloomCompositeMode</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11051>Document None conditions on compute_aabb</a><li><a href=https://github.com/bevyengine/bevy/pull/11077>Replace calculation with function call</a><li><a href=https://github.com/bevyengine/bevy/pull/11069>Register Camera types.</a><li><a href=https://github.com/bevyengine/bevy/pull/8112>Add example for pixel-perfect grid snapping in 2D</a><li><a href=https://github.com/bevyengine/bevy/pull/11134>Misc cleanup</a><li><a href=https://github.com/bevyengine/bevy/pull/10325>Keep track of when a texture is first cleared</a><li><a href=https://github.com/bevyengine/bevy/pull/11110>Fix Mesh::ATTRIBUTE_UV_0 documentation</a><li><a href=https://github.com/bevyengine/bevy/pull/11140>Do not load prepass normals for transmissive materials</a><li><a href=https://github.com/bevyengine/bevy/pull/11166>Export tonemapping_pipeline_key (2d), alpha_mode_pipeline_key</a><li><a href=https://github.com/bevyengine/bevy/pull/11045>Simplify examples/3d/orthographic</a><li><a href=https://github.com/bevyengine/bevy/pull/10231>Implement lightmaps.</a><li><a href=https://github.com/bevyengine/bevy/pull/11191>Bump the vertex attribute index for prepass joints.</a><li><a href=https://github.com/bevyengine/bevy/pull/11192>Fix: Gizmos crash due to the persistence policy being set to <code>Unload</code>. Change it to <code>Keep</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10736>Usability methods for RenderTargets and image handles</a><li><a href=https://github.com/bevyengine/bevy/pull/11189>Explain Camera physical size is in pixel</a><li><a href=https://github.com/bevyengine/bevy/pull/11243>update Outdated comment</a><li><a href=https://github.com/bevyengine/bevy/pull/11307>Revert "Implement minimal reflection probes. (#10057)"</a><li><a href=https://github.com/bevyengine/bevy/pull/11023>Explain OrthographicProjection.scale</a><li><a href=https://github.com/bevyengine/bevy/pull/11030><code>Mul&LTf32></code> for ScalingMode</a><li><a href=https://github.com/bevyengine/bevy/pull/11031>Rustdoc examples for OrthographicProjection</a><li><a href=https://github.com/bevyengine/bevy/pull/11248>Option to enable deterministic rendering</a><li><a href=https://github.com/bevyengine/bevy/pull/11292>Fix ssao only sampling mip 0</a><li><a href=https://github.com/bevyengine/bevy/pull/11307>Revert "Implement minimal reflection probes. (#10057)"</a><li><a href=https://github.com/bevyengine/bevy/pull/10588>Sprite slicing and tiling</a><li><a href=https://github.com/bevyengine/bevy/pull/11152>Approximate indirect specular occlusion</a><li><a href=https://github.com/bevyengine/bevy/pull/5103>Texture Atlas rework</a><li><a href=https://github.com/bevyengine/bevy/pull/11347>Exposure settings (adopted)</a><li><a href=https://github.com/bevyengine/bevy/pull/11368>Remove Vec from GpuArrayBuffer</a><li><a href=https://github.com/bevyengine/bevy/pull/11373>Make <code>DynamicUniformBuffer::push</code> accept an <code>&T</code> instead of <code>T</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11389>Restore brightness in the remaining three examples after exposure PR</a><li><a href=https://github.com/bevyengine/bevy/pull/11412>Customizable camera main texture usage</a><li><a href=https://github.com/bevyengine/bevy/pull/11416>Cleanup deterministic example</a><li><a href=https://github.com/bevyengine/bevy/pull/11366>Implement minimal reflection probes (fixed macOS, iOS, and Android).</a><li><a href=https://github.com/bevyengine/bevy/pull/11323>optimize batch_and_prepare_render_phase</a><li><a href=https://github.com/bevyengine/bevy/pull/9943>add <code>storage_texture</code> option to as_bind_group macro</a><li><a href=https://github.com/bevyengine/bevy/pull/11027>Revert rendering-related associated type name changes</a><li><a href=https://github.com/bevyengine/bevy/pull/11442>Meshlet prep</a><li><a href=https://github.com/bevyengine/bevy/pull/10610>Reuse sampler when creating cached bind groups</a><li><a href=https://github.com/bevyengine/bevy/pull/11524>Add Animated Material example</a><li><a href=https://github.com/bevyengine/bevy/pull/11280>Update to wgpu 0.19 and raw-window-handle 0.6</a><li><a href=https://github.com/bevyengine/bevy/pull/11480>Fix bug where Sprite::rect was ignored</a><li><a href=https://github.com/bevyengine/bevy/pull/11551>Added documentation explaining the difference between lumens and luxes</a><li><a href=https://github.com/bevyengine/bevy/pull/11383>Fix infinite asset preparation due to undrained AssetEvent events</a><li><a href=https://github.com/bevyengine/bevy/pull/11487>Workaround for ICE in the DXC shader compiler in debug builds with an <code>EnvironmentMapLight</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11519>Refactor tonemapping example's image viewer update into two systems</a><li><a href=https://github.com/bevyengine/bevy/pull/11454>Add <code>Mesh</code> transformation</a><li><a href=https://github.com/bevyengine/bevy/pull/11534>Fix specular envmap in deferred</a><li><a href=https://github.com/bevyengine/bevy/pull/11431>Add <code>Meshable</code> trait and implement meshing for 2D primitives</a><li><a href=https://github.com/bevyengine/bevy/pull/10633>Optimize extract_clusters and prepare_clusters systems</a><li><a href=https://github.com/bevyengine/bevy/pull/11399>RenderAssetPersistencePolicy → RenderAssetUsages</a><li><a href=https://github.com/bevyengine/bevy/pull/10644>RenderGraph Labelization</a><li><a href=https://github.com/bevyengine/bevy/pull/11627>Gate diffuse and specular transmission behind shader defs</a><li><a href=https://github.com/bevyengine/bevy/pull/11675>Add helpers for translate, rotate, and scale operations - Mesh</a><li><a href=https://github.com/bevyengine/bevy/pull/11139>CameraProjection::compute_frustum</a><li><a href=https://github.com/bevyengine/bevy/pull/11705>Added formats to <code>MeshVertexAttribute</code> constant's docstrings</a><li><a href=https://github.com/bevyengine/bevy/pull/10812>Async pipeline compilation</a><li><a href=https://github.com/bevyengine/bevy/pull/11671>sort by pipeline then mesh for non transparent passes for massively better batching</a><li><a href=https://github.com/bevyengine/bevy/pull/11733>Added remove_indices to Mesh</a><li><a href=https://github.com/bevyengine/bevy/pull/10268>Implement irradiance volumes.</a><li><a href=https://github.com/bevyengine/bevy/pull/11745>Mesh insert indices</a><li><a href=https://github.com/bevyengine/bevy/pull/11751>Don't try to create a uniform buffer for light probes if there are no views.</a><li><a href=https://github.com/bevyengine/bevy/pull/11758>Properly check for result when getting pipeline in Msaa</a><li><a href=https://github.com/bevyengine/bevy/pull/11737>wait for render app when main world is dropped</a><li><a href=https://github.com/bevyengine/bevy/pull/11773>Deprecate shapes in <code>bevy_render::mesh::shape</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11781>Cache the QueryState used to drop swapchain TextureViews</a><li><a href=https://github.com/bevyengine/bevy/pull/9172>Multithreaded render command encoding</a><li><a href=https://github.com/bevyengine/bevy/pull/11798>Fix <code>Quad</code> deprecation message mentioning a type that doesn't exist</a><li><a href=https://github.com/bevyengine/bevy/pull/11803>Stop extracting mesh entities to the render world.</a><li><a href=https://github.com/bevyengine/bevy/pull/11805>Stop copying the light probe array to the stack in the shader.</a><li><a href=https://github.com/bevyengine/bevy/pull/11456>Add <code>Mesh::merge</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11783>Call a TextureAtlasLayout a layout and not an atlas</a><li><a href=https://github.com/bevyengine/bevy/pull/11645>fix shadow batching</a><li><a href=https://github.com/bevyengine/bevy/pull/11581>Change light defaults & fix light examples</a><li><a href=https://github.com/bevyengine/bevy/pull/11868>New Exposure and Lighting Defaults (and calibrate examples)</a><li><a href=https://github.com/bevyengine/bevy/pull/11880>Change MeshUniform::new() to be public.</a><li><a href=https://github.com/bevyengine/bevy/pull/11882>Rename Core Render Graph Labels</a><li><a href=https://github.com/bevyengine/bevy/pull/11884>Support optional clear color in ColorAttachment.</a><li><a href=https://github.com/bevyengine/bevy/pull/11893>irradiance: use textureSampleLevel for WebGPU support</a><li><a href=https://github.com/bevyengine/bevy/pull/11847>Add configuration for async pipeline creation on RenderPlugin</a><li><a href=https://github.com/bevyengine/bevy/pull/11907>Derive Reflect for Exposure</a><li><a href=https://github.com/bevyengine/bevy/pull/11910>Add <code>MeshPipelineKey::LIGHTMAPPED</code> as applicable during the shadow map pass.</a><li><a href=https://github.com/bevyengine/bevy/pull/11911>Irradiance volume example tweaks</a><li><a href=https://github.com/bevyengine/bevy/pull/11909>Disable irradiance volumes on WebGL and WebGPU.</a><li><a href=https://github.com/bevyengine/bevy/pull/11914>Remove <code>naga_oil</code> dependency from <code>bevy_pbr</code></a></ul><h3 id=a-scenes>A-Scenes <a class=anchor-link href=#a-scenes>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10529>Re-export <code>ron</code> in <code>bevy_scene</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10638>Fix load scene example to use proper serialization format for rotation field</a><li><a href=https://github.com/bevyengine/bevy/pull/10780>Mention DynamicSceneBuilder in doc comment</a><li><a href=https://github.com/bevyengine/bevy/pull/10441>Mention DynamicSceneBuilder in scene example</a><li><a href=https://github.com/bevyengine/bevy/pull/11003>Implement Std traits for <code>SceneInstanceReady</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11239>Change SceneSpawner::spawn_dynamic_sync to return InstanceID</a><li><a href=https://github.com/bevyengine/bevy/pull/11289>Fix scene example</a><li><a href=https://github.com/bevyengine/bevy/pull/11002>Send <code>SceneInstanceReady</code> only once per scene</a></ul><h3 id=a-utils>A-Utils <a class=anchor-link href=#a-utils>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10496>bevy_utils: Export <code>generate_composite_uuid</code> utility function</a><li><a href=https://github.com/bevyengine/bevy/pull/10648>Save an instruction in <code>EntityHasher</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11054>Add SystemTime to bevy_utils</a><li><a href=https://github.com/bevyengine/bevy/pull/11006>Re-export smallvec crate from bevy_utils</a><li><a href=https://github.com/bevyengine/bevy/pull/11178>Enable cloning EntityHashMap and PreHashMap</a><li><a href=https://github.com/bevyengine/bevy/pull/11616>impl <code>Borrow</code> and <code>AsRef</code> for <code>CowArc</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11690>Hash stability guarantees</a><li><a href=https://github.com/bevyengine/bevy/pull/11721>Deprecating hashbrown reexports</a><li><a href=https://github.com/bevyengine/bevy/pull/11785>Update ahash to 0.8.7</a></ul><h3 id=a-ui>A-UI <a class=anchor-link href=#a-ui>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10421>ui material: fix right border width</a><li><a href=https://github.com/bevyengine/bevy/pull/10424>Add PartialEq to Anchor</a><li><a href=https://github.com/bevyengine/bevy/pull/10422>UI Material: each material should have its own buffer</a><li><a href=https://github.com/bevyengine/bevy/pull/10434>UI Materials: ignore entities with a <code>BackgroundColor</code> component</a><li><a href=https://github.com/bevyengine/bevy/pull/10591>Fix panic when using image in UiMaterial</a><li><a href=https://github.com/bevyengine/bevy/pull/10454>Make clipped areas of UI nodes non-interactive</a><li><a href=https://github.com/bevyengine/bevy/pull/10730>Fix typo in resolve_outlines_system</a><li><a href=https://github.com/bevyengine/bevy/pull/10922>Clip outlines by the node's own clipping rect, not the parent's.</a><li><a href=https://github.com/bevyengine/bevy/pull/10942>Give UI nodes with <code>Display::None</code> an empty clipping rect</a><li><a href=https://github.com/bevyengine/bevy/pull/11188>Create serialize feature for bevy_ui</a><li><a href=https://github.com/bevyengine/bevy/pull/11199>Made the remaining types from bevy_ui to reflect the Default trait if…</a><li><a href=https://github.com/bevyengine/bevy/pull/10559>Camera-driven UI</a><li><a href=https://github.com/bevyengine/bevy/pull/11371>fix occasional crash moving ui root nodes</a><li><a href=https://github.com/bevyengine/bevy/pull/11405>Fix panic on Text UI without Cameras</a><li><a href=https://github.com/bevyengine/bevy/pull/11436>Allow user to choose default ui camera</a><li><a href=https://github.com/bevyengine/bevy/pull/11555>Rustdoc links in bevy_ui</a><li><a href=https://github.com/bevyengine/bevy/pull/11575>Avoid unconditionally unwrapping the Result - UI Stack System</a></ul><h3 id=a-assets-a-diagnostics>A-Assets + A-Diagnostics <a class=anchor-link href=#a-assets-a-diagnostics>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11870>Fix asset loader registration warning</a></ul><h3 id=a-audio-a-reflection>A-Audio + A-Reflection <a class=anchor-link href=#a-audio-a-reflection>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10484>Reflect and register audio-related types</a></ul><h3 id=a-audio>A-Audio <a class=anchor-link href=#a-audio>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10608>Add <code>VolumeLevel::ZERO</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10906>Deduplicate systems in bevy_audio</a><li><a href=https://github.com/bevyengine/bevy/pull/10910>Non-Intrusive refactor of <code>play_queued_audio_system()</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10970>docs: AnimationPlayer::play doesn't have transition_duration arg</a><li><a href=https://github.com/bevyengine/bevy/pull/11092>Remove the ability to ignore global volume</a><li><a href=https://github.com/bevyengine/bevy/pull/10419>Optional override for global spatial scale</a></ul><h3 id=a-tasks>A-Tasks <a class=anchor-link href=#a-tasks>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10517>Make FakeTask public on singlethreaded context</a><li><a href=https://github.com/bevyengine/bevy/pull/10670>Re-export <code>futures_lite</code> in <code>bevy_tasks</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10675>bump bevy_tasks futures-lite to 2.0.1</a><li><a href=https://github.com/bevyengine/bevy/pull/11455>Fix wrong transmuted type in <code>TaskPool::scope_with_executor_inner</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11856>Use <code>std::thread::sleep</code> instead of spin-waiting in the async_compute example</a></ul><h3 id=a-ecs>A-ECS <a class=anchor-link href=#a-ecs>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10415>Use <code>EntityHashMap</code> for <code>EntityMapper</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10378>Allow registering boxed systems</a><li><a href=https://github.com/bevyengine/bevy/pull/10446>Remove unnecessary if statement in scheduler</a><li><a href=https://github.com/bevyengine/bevy/pull/10519>Optimize <code>Entity::eq</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10380>Add 'World::run_system_with_input' function + allow <code>World::run_system</code> to get system output</a><li><a href=https://github.com/bevyengine/bevy/pull/10551>Update <code>Event</code> send methods to return <code>EventId</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10563>Some docs for IntoSystemSet</a><li><a href=https://github.com/bevyengine/bevy/pull/10596>Link to <code>In</code> in <code>pipe</code> documentation</a><li><a href=https://github.com/bevyengine/bevy/pull/10558>Optimise <code>Entity</code> with repr align & manual <code>PartialOrd</code>/<code>Ord</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10561>Allow #[derive(Bundle)] on tuple structs (take 3)</a><li><a href=https://github.com/bevyengine/bevy/pull/10650>Add an <code>Entry</code> api to <code>EntityWorldMut</code>.</a><li><a href=https://github.com/bevyengine/bevy/pull/10651>Make impl block for RemovedSystem generic</a><li><a href=https://github.com/bevyengine/bevy/pull/10400>Append commands</a><li><a href=https://github.com/bevyengine/bevy/pull/10682>Rustdoc example for Ref</a><li><a href=https://github.com/bevyengine/bevy/pull/10691>Link to <code>Main</code> schedule docs from other schedules</a><li><a href=https://github.com/bevyengine/bevy/pull/10681>Warn that Added/Changed filters do not see deferred changes</a><li><a href=https://github.com/bevyengine/bevy/pull/10719>Fix non-functional nondeterministic_system_order example</a><li><a href=https://github.com/bevyengine/bevy/pull/10748>Copy over docs for <code>Condition</code> trait from PR #10718</a><li><a href=https://github.com/bevyengine/bevy/pull/10746>Implement <code>Drop</code> for <code>CommandQueue</code></a><li><a href=https://github.com/bevyengine/bevy/pull/9918>Split WorldQuery into WorldQueryData and WorldQueryFilter</a><li><a href=https://github.com/bevyengine/bevy/pull/10624>Make IntoSystemConfigs::into_configs public API (visible in docs)</a><li><a href=https://github.com/bevyengine/bevy/pull/6773>Override QueryIter::fold to port Query::for_each perf gains to select Iterator combinators</a><li><a href=https://github.com/bevyengine/bevy/pull/10815>Deprecate QueryState::for_each_unchecked</a><li><a href=https://github.com/bevyengine/bevy/pull/10837>Clarifying Commands' purpose</a><li><a href=https://github.com/bevyengine/bevy/pull/10770>Make ComponentId typed in Components</a><li><a href=https://github.com/bevyengine/bevy/pull/10811>Reduced <code>TableRow</code> <code>as</code> Casting</a><li><a href=https://github.com/bevyengine/bevy/pull/10873>Add <code>EntityCommands.retain</code> and <code>EntityWorldMut.retain</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10879>Remove unnecessary ResMut in examples</a><li><a href=https://github.com/bevyengine/bevy/pull/10893>Add a couple assertions for system types</a><li><a href=https://github.com/bevyengine/bevy/pull/10918>Remove reference to default schedule</a><li><a href=https://github.com/bevyengine/bevy/pull/10943>Improve <code>EntityWorldMut.remove</code>, <code>retain</code> and <code>despawn</code> docs by linking to more detail</a><li><a href=https://github.com/bevyengine/bevy/pull/10764>Reorder fields in SystemSchedule</a><li><a href=https://github.com/bevyengine/bevy/pull/10779>Rename <code>WorldQueryData</code> & <code>WorldQueryFilter</code> to <code>QueryData</code> & <code>QueryFilter</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10941>Fix soundness of <code>UnsafeWorldCell</code> usage example</a><li><a href=https://github.com/bevyengine/bevy/pull/10885>Actually check alignment in BlobVec test aligned_zst</a><li><a href=https://github.com/bevyengine/bevy/pull/10782>Rename <code>Q</code> type parameter to <code>D</code> when referring to <code>WorldQueryData</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10969>Allow the editing of startup schedules</a><li><a href=https://github.com/bevyengine/bevy/pull/9822>Auto insert sync points</a><li><a href=https://github.com/bevyengine/bevy/pull/10937>Simplify lifetimes in <code>QueryState</code> methods</a><li><a href=https://github.com/bevyengine/bevy/pull/11012>Add is_resource_changed_by_id + is_resource_added_by_id</a><li><a href=https://github.com/bevyengine/bevy/pull/11021>Rename some lifetimes (ResMut etc) for clarity</a><li><a href=https://github.com/bevyengine/bevy/pull/11025>Add non-existent entity behavior to Has doc</a><li><a href=https://github.com/bevyengine/bevy/pull/11028>Fix typo in docs for Has</a><li><a href=https://github.com/bevyengine/bevy/pull/11043>Add insert_state to App.</a><li><a href=https://github.com/bevyengine/bevy/pull/11049>Explain Changed, Added are not archetype filters</a><li><a href=https://github.com/bevyengine/bevy/pull/11064>Add missing colon in <code>States</code> documentation</a><li><a href=https://github.com/bevyengine/bevy/pull/11063>Explain EventWriter limits concurrency</a><li><a href=https://github.com/bevyengine/bevy/pull/11084>Better doc for SystemName</a><li><a href=https://github.com/bevyengine/bevy/pull/11164>impl ExclusiveSystemParam for WorldId</a><li><a href=https://github.com/bevyengine/bevy/pull/11153>impl ExclusiveSystemParam for PhantomData</a><li><a href=https://github.com/bevyengine/bevy/pull/11149>Remove little warn on bevy_ecs</a><li><a href=https://github.com/bevyengine/bevy/pull/11118>Rename <code>ArchetypeEntity::entity</code> into <code>ArchetypeEntity::id</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11103>Fixed Typo in the description of EntityMut</a><li><a href=https://github.com/bevyengine/bevy/pull/11104>Implement Deref and DerefMut for In</a><li><a href=https://github.com/bevyengine/bevy/pull/11163>impl ExclusiveSystemParam for SystemName</a><li><a href=https://github.com/bevyengine/bevy/pull/11146>Print a warning for un-applied commands being dropped from a CommandQueue</a><li><a href=https://github.com/bevyengine/bevy/pull/11195>Implement TypePath for EntityHash</a><li><a href=https://github.com/bevyengine/bevy/pull/10799>Fix integer overflow in BlobVec::push for ZST</a><li><a href=https://github.com/bevyengine/bevy/pull/11234>Fix integer overflow in BlobVec::reserve_exact</a><li><a href=https://github.com/bevyengine/bevy/pull/11089>StateTransitionEvent</a><li><a href=https://github.com/bevyengine/bevy/pull/11107>Restore support for running <code>fn</code> <code>EntityCommands</code> on entities that might be despawned</a><li><a href=https://github.com/bevyengine/bevy/pull/11142>Remove apply_deferred example</a><li><a href=https://github.com/bevyengine/bevy/pull/11226>Minimize small allocations by dropping the tick Vecs from Resources</a><li><a href=https://github.com/bevyengine/bevy/pull/9907>Change Entity::generation from u32 to NonZeroU32 for niche optimization</a><li><a href=https://github.com/bevyengine/bevy/pull/11162>fix B0003 example and update logs</a><li><a href=https://github.com/bevyengine/bevy/pull/9797>Unified identifier for entities & relations</a><li><a href=https://github.com/bevyengine/bevy/pull/11316>Simplify conditions</a><li><a href=https://github.com/bevyengine/bevy/pull/11319>Add example using <code>State</code> in docs</a><li><a href=https://github.com/bevyengine/bevy/pull/11268>Skip rehashing TypeIds</a><li><a href=https://github.com/bevyengine/bevy/pull/11334>Make <code>TypeId::hash</code> more robust in case of upstream rustc changes</a><li><a href=https://github.com/bevyengine/bevy/pull/11360>Fix doc of [<code>Schedules</code>] to mention exclusion of current schedule.</a><li><a href=https://github.com/bevyengine/bevy/pull/9774>Dynamic queries and builder API</a><li><a href=https://github.com/bevyengine/bevy/pull/11388>Remove duplicate <code>#[automatically_derived]</code> in ECS macro</a><li><a href=https://github.com/bevyengine/bevy/pull/11404>Get Change Tick methods for Resources</a><li><a href=https://github.com/bevyengine/bevy/pull/11417>Optional state</a><li><a href=https://github.com/bevyengine/bevy/pull/11167>Double the capacity when BlobVec is full</a><li><a href=https://github.com/bevyengine/bevy/pull/11321>document which lifetime is needed for systemparam derive</a><li><a href=https://github.com/bevyengine/bevy/pull/11445>refactor: Simplify lifetimes for <code>Commands</code> and related types</a><li><a href=https://github.com/bevyengine/bevy/pull/11444>Implement <code>Debug</code> for <code>CommandQueue</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11486>Fix typo in comment</a><li><a href=https://github.com/bevyengine/bevy/pull/11531>Rename Schedule::name to Schedule::label</a><li><a href=https://github.com/bevyengine/bevy/pull/11560>Exclusive systems can now be used for one-shot systems</a><li><a href=https://github.com/bevyengine/bevy/pull/11561>added ability to get <code>Res&LTT></code> from <code>World</code> with <code>World::get_resource_ref</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11499>bevy_ecs: Add doc example for par_iter_mut (#11311)</a><li><a href=https://github.com/bevyengine/bevy/pull/11574>Add an example demonstrating how to send and receive events in the same system</a><li><a href=https://github.com/bevyengine/bevy/pull/11583>Add a doctest example for EntityMapper</a><li><a href=https://github.com/bevyengine/bevy/pull/11129>Rephrase comment about <code>Local&LTT></code> for clarity. (Adopted)</a><li><a href=https://github.com/bevyengine/bevy/pull/11611>Use batch spawn in benchmarks</a><li><a href=https://github.com/bevyengine/bevy/pull/11528>Fix bug where events are not being dropped</a><li><a href=https://github.com/bevyengine/bevy/pull/10774>Make Archetypes.archetype_component_count private</a><li><a href=https://github.com/bevyengine/bevy/pull/9920>Deprecated Various Component Methods from <code>Query</code> and <code>QueryState</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11728><code>System::type_id</code> Consistency</a><li><a href=https://github.com/bevyengine/bevy/pull/11764>Typo in [<code>ScheduleLabel</code>] derive macro</a><li><a href=https://github.com/bevyengine/bevy/pull/11769>Mention Resource where missing from component/resource related type docs</a><li><a href=https://github.com/bevyengine/bevy/pull/11700>Expose query accesses</a><li><a href=https://github.com/bevyengine/bevy/pull/11687>Add a method for detecting changes within a certain scope</a><li><a href=https://github.com/bevyengine/bevy/pull/11822>Fix double indirection when applying command queues</a><li><a href=https://github.com/bevyengine/bevy/pull/11801>Immediately poll the executor once before spawning it as a task</a><li><a href=https://github.com/bevyengine/bevy/pull/11855>Fix small docs misformat in <code>BundleInfo::new</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11838><code>FilteredEntityRef</code> conversions</a></ul><h3 id=a-rendering-a-animation>A-Rendering + A-Animation <a class=anchor-link href=#a-rendering-a-animation>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11474>TextureAtlasBuilder now respects insertion order</a><li><a href=https://github.com/bevyengine/bevy/pull/10539>normalize joint weights</a></ul><h3 id=a-ecs-a-meta>A-ECS + A-Meta <a class=anchor-link href=#a-ecs-a-meta>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10411>resolve all internal ambiguities</a></ul><h3 id=a-rendering-a-ui>A-Rendering + A-UI <a class=anchor-link href=#a-rendering-a-ui>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10739>Provide GlobalsUniform in UiMaterial shaders</a><li><a href=https://github.com/bevyengine/bevy/pull/11722>Include UI node size in the vertex inputs for UiMaterial.</a><li><a href=https://github.com/bevyengine/bevy/pull/11600>UI Texture 9 slice</a><li><a href=https://github.com/bevyengine/bevy/pull/11780>Optional ImageScaleMode</a></ul><h3 id=a-math>A-Math <a class=anchor-link href=#a-math>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10466>Define a basic set of Primitives</a><li><a href=https://github.com/bevyengine/bevy/pull/10580>Add and impl Primitives</a><li><a href=https://github.com/bevyengine/bevy/pull/10620>Add winding order for <code>Triangle2d</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10643>Use minor and major radii for <code>Torus</code> primitive shape</a><li><a href=https://github.com/bevyengine/bevy/pull/10857>Remove <code>From</code> implementations from the direction types</a><li><a href=https://github.com/bevyengine/bevy/pull/10884>Impl <code>TryFrom</code> vector for directions and add <code>InvalidDirectionError</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10882>Add <code>Direction2d::from_xy</code> and <code>Direction3d::from_xyz</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11179>Implement <code>Neg</code> for <code>Direction2d</code> and <code>Direction3d</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11180>Add constants for <code>Direction2d</code> and <code>Direction3d</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11176>Add <code>approx</code> feature to <code>bevy_math</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11238>Add <code>libm</code> feature to <code>bevy_math</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11172>Add <code>new_and_length</code> method to <code>Direction2d</code> and <code>Direction3d</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11082>Update <code>glam</code>, <code>encase</code> and <code>hexasphere</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10946>Implement bounding volume types</a><li><a href=https://github.com/bevyengine/bevy/pull/11335>Remove <code>Default</code> impl for <code>CubicCurve</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11336>Implement bounding volumes for primitive shapes</a><li><a href=https://github.com/bevyengine/bevy/pull/11434>Improve <code>Rectangle</code> and <code>Cuboid</code> consistency</a><li><a href=https://github.com/bevyengine/bevy/pull/11435>Change <code>Ellipse</code> representation and improve helpers</a><li><a href=https://github.com/bevyengine/bevy/pull/11433>Add <code>Aabb2d::new</code> and <code>Aabb3d::new</code> constructors</a><li><a href=https://github.com/bevyengine/bevy/pull/11432>Add geometric primitives to <code>bevy_math::prelude</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11425>Direction: Rename <code>from_normalized</code> to <code>new_unchecked</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11439>Implement bounding volume intersections</a><li><a href=https://github.com/bevyengine/bevy/pull/11526>Add <code>new</code> constructors for <code>Circle</code> and <code>Sphere</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11514>Derive PartialEq, Serialize, Deserialize and Reflect on primitives</a><li><a href=https://github.com/bevyengine/bevy/pull/11017>Document RegularPolygon</a><li><a href=https://github.com/bevyengine/bevy/pull/11310>Add RayTest2d and RayTest3d</a><li><a href=https://github.com/bevyengine/bevy/pull/10632>Add more constructors and math helpers for primitive shapes</a><li><a href=https://github.com/bevyengine/bevy/pull/11585>Add <code>Capsule2d</code> primitive</a><li><a href=https://github.com/bevyengine/bevy/pull/11586>Add volume cast intersection tests</a><li><a href=https://github.com/bevyengine/bevy/pull/11640>Add Clone to intersection test types</a><li><a href=https://github.com/bevyengine/bevy/pull/11650>Implement <code>approx</code> traits for direction types</a><li><a href=https://github.com/bevyengine/bevy/pull/11649>Support rotating <code>Direction3d</code> by <code>Quat</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11635>Rename RayTest to RayCast</a><li><a href=https://github.com/bevyengine/bevy/pull/11666>Add example for bounding volumes and intersection tests</a><li><a href=https://github.com/bevyengine/bevy/pull/11697>Dedicated primitive example</a><li><a href=https://github.com/bevyengine/bevy/pull/11867>Un-hardcode positions and colors in <code>2d_shapes</code> example</a></ul><h3 id=a-build-system>A-Build-System <a class=anchor-link href=#a-build-system>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10544>check for all-features with cargo-deny</a><li><a href=https://github.com/bevyengine/bevy/pull/10653>Bump actions/github-script from 6 to 7</a><li><a href=https://github.com/bevyengine/bevy/pull/10640>Add doc_markdown clippy linting config to cargo workspace</a><li><a href=https://github.com/bevyengine/bevy/pull/10646>Enable <code>clippy::undocumented_unsafe_blocks</code> warning across the workspace</a><li><a href=https://github.com/bevyengine/bevy/pull/10723>Remove trailing whitespace</a><li><a href=https://github.com/bevyengine/bevy/pull/10672>Move remaining clippy lint definitions to Cargo.toml</a><li><a href=https://github.com/bevyengine/bevy/pull/10684>Add <code>clippy::manual_let_else</code> at warn level to lints</a><li><a href=https://github.com/bevyengine/bevy/pull/10963>Remove unused import</a><li><a href=https://github.com/bevyengine/bevy/pull/10961>Rename functions and variables to follow code style</a><li><a href=https://github.com/bevyengine/bevy/pull/10966>Remove unused variable</a><li><a href=https://github.com/bevyengine/bevy/pull/11060>add libxkbcommon-x11-0 to the default linux dependencies</a><li><a href=https://github.com/bevyengine/bevy/pull/11058>fix patches for example showcase after winit update</a><li><a href=https://github.com/bevyengine/bevy/pull/11059>finish cleaning up dependency bans job</a><li><a href=https://github.com/bevyengine/bevy/pull/11014>Bump actions/upload-artifact from 2 to 4</a><li><a href=https://github.com/bevyengine/bevy/pull/10892>Publish dev-docs with GitHub Pages artifacts (2nd attempt)</a><li><a href=https://github.com/bevyengine/bevy/pull/11250>example showcase patches: use default instead of game mode for desktop</a><li><a href=https://github.com/bevyengine/bevy/pull/11342>Bump toml_edit in build-template-pages tool</a><li><a href=https://github.com/bevyengine/bevy/pull/11421>Miri is failing on latest nightly: pin nightly to last known working version</a><li><a href=https://github.com/bevyengine/bevy/pull/11418>Bump dev-docs pages actions</a><li><a href=https://github.com/bevyengine/bevy/pull/11462>Unpin nightly for miri</a><li><a href=https://github.com/bevyengine/bevy/pull/11507>documentation in CI: remove lock file</a><li><a href=https://github.com/bevyengine/bevy/pull/11469>Bump actions/cache from 3 to 4</a><li><a href=https://github.com/bevyengine/bevy/pull/11576>simplify animated_material example</a><li><a href=https://github.com/bevyengine/bevy/pull/11596>example showcase: fix window resized patch</a><li><a href=https://github.com/bevyengine/bevy/pull/11630>run examples on macOS to validate PRs</a><li><a href=https://github.com/bevyengine/bevy/pull/11676>Inverse <code>missing_docs</code> logic</a><li><a href=https://github.com/bevyengine/bevy/pull/11712>Bump peter-evans/create-pull-request from 5 to 6</a></ul><h3 id=a-gizmos>A-Gizmos <a class=anchor-link href=#a-gizmos>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10408>Fix float precision issue in the gizmo shader</a><li><a href=https://github.com/bevyengine/bevy/pull/10550>Gizmo Arrows</a><li><a href=https://github.com/bevyengine/bevy/pull/10631>Move Circle Gizmos to Their Own File</a><li><a href=https://github.com/bevyengine/bevy/pull/10660>move gizmo arcs to their own file</a><li><a href=https://github.com/bevyengine/bevy/pull/11296>Warn when bevy_sprite and bevy_pbr are not enabled with bevy_gizmos</a><li><a href=https://github.com/bevyengine/bevy/pull/10342>Multiple Configurations for Gizmos</a><li><a href=https://github.com/bevyengine/bevy/pull/11420>Fix gizmos app new panic</a><li><a href=https://github.com/bevyengine/bevy/pull/11422>Use Direction3d for gizmos.circle normal</a><li><a href=https://github.com/bevyengine/bevy/pull/11540>Implement Arc3D for Gizmos</a><li><a href=https://github.com/bevyengine/bevy/pull/11580>Insert Gizmos config instead of Init</a><li><a href=https://github.com/bevyengine/bevy/pull/11072>Drawing Primitives with Gizmos</a><li><a href=https://github.com/bevyengine/bevy/pull/11699>fix(primitives): fix polygon gizmo rendering bug</a><li><a href=https://github.com/bevyengine/bevy/pull/11792>Fix global wireframe behavior not being applied on new meshes</a><li><a href=https://github.com/bevyengine/bevy/pull/11860>Overwrite gizmo group in <code>insert_gizmo_group</code></a></ul><h3 id=a-rendering-a-math>A-Rendering + A-Math <a class=anchor-link href=#a-rendering-a-math>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10856>Split <code>Ray</code> into <code>Ray2d</code> and <code>Ray3d</code> and simplify plane construction</a><li><a href=https://github.com/bevyengine/bevy/pull/10368>Introduce AspectRatio struct</a><li><a href=https://github.com/bevyengine/bevy/pull/11639>Implement meshing for <code>Capsule2d</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11688>Implement <code>Meshable</code> for some 3D primitives</a></ul><h3 id=a-core>A-Core <a class=anchor-link href=#a-core>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11573>Derive <code>Debug</code> for <code>Framecount</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11726>Don't unconditionally enable bevy_render or bevy_assets if multi-threaded feature is enabled</a></ul><h3 id=a-windowing>A-Windowing <a class=anchor-link href=#a-windowing>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10714>Some explanations for Window component</a><li><a href=https://github.com/bevyengine/bevy/pull/10741>don't run update before window creation in winit</a><li><a href=https://github.com/bevyengine/bevy/pull/10735>add new event <code>WindowOccluded</code> from winit</a><li><a href=https://github.com/bevyengine/bevy/pull/10872>Add comment about scale factor in <code>WindowMode</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10911>Refactor function <code>update_accessibility_nodes</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10897>Change <code>Window</code> scale factor to f32 (adopted)</a><li><a href=https://github.com/bevyengine/bevy/pull/11011>Reexport winit::platform::android::activity::* in bevy_winit</a><li><a href=https://github.com/bevyengine/bevy/pull/10702>Update winit dependency to 0.29</a><li><a href=https://github.com/bevyengine/bevy/pull/11057>Remove CanvasParentResizePlugin</a><li><a href=https://github.com/bevyengine/bevy/pull/11065>Use <code>WindowBuilder::with_append()</code> to append canvas</a><li><a href=https://github.com/bevyengine/bevy/pull/11227>Fix perf degradation on web builds</a><li><a href=https://github.com/bevyengine/bevy/pull/11245>mobile and webgpu: trigger redraw request when needed and improve window creation</a><li><a href=https://github.com/bevyengine/bevy/pull/11270>Remove unnecessary unsafe impls for WinitWindows on Wasm</a><li><a href=https://github.com/bevyengine/bevy/pull/11325>Fix Reactive and ReactiveLowPower update modes</a><li><a href=https://github.com/bevyengine/bevy/pull/11305>Change <code>WinitPlugin</code> defaults to limit game update rate when window is not visible (for real this time)</a><li><a href=https://github.com/bevyengine/bevy/pull/11489>Cleanup bevy winit</a><li><a href=https://github.com/bevyengine/bevy/pull/7650>Add <code>name</code> to <code>bevy::window::Window</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11735>Avoid unwraps in winit fullscreen handling code</a></ul><h3 id=a-ui-a-transform-a-text>A-UI + A-Transform + A-Text <a class=anchor-link href=#a-ui-a-transform-a-text>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11326>UI text rotation and scaling fix</a></ul><h3 id=a-animation>A-Animation <a class=anchor-link href=#a-animation>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10540>Fix animations resetting after repeat count</a><li><a href=https://github.com/bevyengine/bevy/pull/10562>Add Debug, PartialEq and Eq derives to bevy_animation.</a><li><a href=https://github.com/bevyengine/bevy/pull/10755>support all types of animation interpolation from gltf</a><li><a href=https://github.com/bevyengine/bevy/pull/11306>Clean up code to find the current keyframe</a><li><a href=https://github.com/bevyengine/bevy/pull/11330>Skip alloc when updating animation path cache</a><li><a href=https://github.com/bevyengine/bevy/pull/11605>Replace the <code>cubic_spline_interpolation</code> macro with a generic function</a><li><a href=https://github.com/bevyengine/bevy/pull/4482>Animatable trait for interpolation and blending</a></ul><h3 id=a-ecs-a-pointers>A-ECS + A-Pointers <a class=anchor-link href=#a-ecs-a-pointers>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11818>Replace pointer castings (<code>as</code>) by their API equivalent</a></ul><h3 id=a-ecs-a-utils>A-ECS + A-Utils <a class=anchor-link href=#a-ecs-a-utils>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10808>Add helper macro's for logging only once</a><li><a href=https://github.com/bevyengine/bevy/pull/11498>Move <code>EntityHash</code> related types into <code>bevy_ecs</code></a></ul><h3 id=a-reflection>A-Reflection <a class=anchor-link href=#a-reflection>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10705>Fix issue with <code>Option</code> serialization</a><li><a href=https://github.com/bevyengine/bevy/pull/10627>fix <code>insert_reflect</code> panic caused by <code>clone_value</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10771>Remove pointless trait implementation exports in <code>bevy_reflect</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10791>Fix nested generics in Reflect derive</a><li><a href=https://github.com/bevyengine/bevy/pull/10740>Fix debug printing for dynamic types</a><li><a href=https://github.com/bevyengine/bevy/pull/11037>reflect: maximally relax <code>TypePath</code> bounds</a><li><a href=https://github.com/bevyengine/bevy/pull/11407>Use <code>static_assertions</code> to check for trait impls</a><li><a href=https://github.com/bevyengine/bevy/pull/9623>Add <code>ReflectFromWorld</code> and replace the <code>FromWorld</code> requirement on <code>ReflectComponent</code> and <code>ReflectBundle</code> with <code>FromReflect</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11447>Fix reflected serialization/deserialization on <code>Name</code> component</a><li><a href=https://github.com/bevyengine/bevy/pull/11397>Add Reflection for Wrapping/Saturating types</a><li><a href=https://github.com/bevyengine/bevy/pull/11497>Remove TypeUuid</a><li><a href=https://github.com/bevyengine/bevy/pull/11556>Fix warnings in bevy_reflect</a><li><a href=https://github.com/bevyengine/bevy/pull/9046>bevy_reflect: Type parameter bounds</a><li><a href=https://github.com/bevyengine/bevy/pull/11597>bevy_reflect: Split <code>#[reflect(where)]</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11437>reflection: replace <code>impl_reflect_struct</code> with <code>impl_reflect</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11029>Add the ability to manually create ParsedPaths (+ cleanup)</a><li><a href=https://github.com/bevyengine/bevy/pull/11686>bevy_reflect: Reflect <code>&'static str</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11068>Improve DynamicStruct::insert</a><li><a href=https://github.com/bevyengine/bevy/pull/11736>Missing registrations</a><li><a href=https://github.com/bevyengine/bevy/pull/11664>Add <code>ReflectKind</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11810>doc(bevy_reflect): add note about trait bounds on <code>impl_type_path</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11777>bevy_reflect_derive: Clean up attribute logic</a></ul><h3 id=a-ecs-a-tasks>A-ECS + A-Tasks <a class=anchor-link href=#a-ecs-a-tasks>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10692>Async channel v2</a></ul><h3 id=a-pointers>A-Pointers <a class=anchor-link href=#a-pointers>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10475>Remove a ptr-to-int cast in <code>CommandQueue::apply</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11461>Fix memory leak in dynamic ECS example</a><li><a href=https://github.com/bevyengine/bevy/pull/11610>bevy_ptr: fix <code>unsafe_op_in_unsafe_fn</code> lint</a></ul><h3 id=a-ecs-a-reflection>A-ECS + A-Reflection <a class=anchor-link href=#a-ecs-a-reflection>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11641>Adding derive Reflect for tick structs</a></ul><h3 id=a-reflection-a-gizmos>A-Reflection + A-Gizmos <a class=anchor-link href=#a-reflection-a-gizmos>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10483><code>#[derive(Reflect)]</code> on <code>GizmoConfig</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10486>Register <code>WireframeColor</code></a></ul><h3 id=no-area-label>No area label <a class=anchor-link href=#no-area-label>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10445>Fix intra-doc link warnings</a><li><a href=https://github.com/bevyengine/bevy/pull/10337>Fix minor issues with custom_asset example</a><li><a href=https://github.com/bevyengine/bevy/pull/10527>Prepend <code>root_path</code> to meta path in HttpWasmAssetReader</a><li><a href=https://github.com/bevyengine/bevy/pull/10577>support required features in wasm examples showcase</a><li><a href=https://github.com/bevyengine/bevy/pull/10601>examples showcase: use patches instead of sed for wasm hacks</a><li><a href=https://github.com/bevyengine/bevy/pull/10011>Add [lints] table, fix adding <code>#![allow(clippy::type_complexity)]</code> everywhere</a><li><a href=https://github.com/bevyengine/bevy/pull/10370>Bumps async crates requirements to latest major version</a><li><a href=https://github.com/bevyengine/bevy/pull/10693>delete methods deprecated in 0.12</a><li><a href=https://github.com/bevyengine/bevy/pull/10758>Ran <code>cargo fmt</code> on <code>benches</code> crate</a><li><a href=https://github.com/bevyengine/bevy/pull/10749>Remove unnecessary path prefixes</a><li><a href=https://github.com/bevyengine/bevy/pull/10827>Fix typos in safety comment</a><li><a href=https://github.com/bevyengine/bevy/pull/10847>Substitute <code>get(0)</code> with <code>first()</code></a><li><a href=https://github.com/bevyengine/bevy/pull/10848>Remove identity <code>map</code> calls</a><li><a href=https://github.com/bevyengine/bevy/pull/10914>Renamed Accessibility plugin to AccessKitPlugin in bevy_winit</a><li><a href=https://github.com/bevyengine/bevy/pull/11076>Reorder impl to be the same as the trait</a><li><a href=https://github.com/bevyengine/bevy/pull/10999>Replace deprecated elements</a><li><a href=https://github.com/bevyengine/bevy/pull/10990>Remove unnecessary parentheses</a><li><a href=https://github.com/bevyengine/bevy/pull/10999>Replace deprecated elements</a><li><a href=https://github.com/bevyengine/bevy/pull/10988>Simplify equality assertions</a><li><a href=https://github.com/bevyengine/bevy/pull/10996>Add Solus package requirements to linux_dependencies.md</a><li><a href=https://github.com/bevyengine/bevy/pull/10336>Update base64 requirement from 0.13.0 to 0.21.5</a><li><a href=https://github.com/bevyengine/bevy/pull/11071>Update sysinfo version to 0.30.0</a><li><a href=https://github.com/bevyengine/bevy/pull/11075>Remove unnecessary parens</a><li><a href=https://github.com/bevyengine/bevy/pull/11076>Reorder impl to be the same as the trait</a><li><a href=https://github.com/bevyengine/bevy/pull/11143>Fix ci xvfb</a><li><a href=https://github.com/bevyengine/bevy/pull/11040>Replace or document ignored doctests</a><li><a href=https://github.com/bevyengine/bevy/pull/11182>Add static assertions to bevy_utils for compile-time checks</a><li><a href=https://github.com/bevyengine/bevy/pull/11261>Fix missed explicit conversions in examples</a><li><a href=https://github.com/bevyengine/bevy/pull/11269>Remove unused event-listener dependency</a><li><a href=https://github.com/bevyengine/bevy/pull/11293>Fixed typo in generate_custom_mesh.rs example</a><li><a href=https://github.com/bevyengine/bevy/pull/11338>Extract examples <code>CameraController</code> into a module</a><li><a href=https://github.com/bevyengine/bevy/pull/11353>Use EntityHashMap whenever possible</a><li><a href=https://github.com/bevyengine/bevy/pull/11379>Fix link to plugin guidelines</a><li><a href=https://github.com/bevyengine/bevy/pull/11381>[doc] Fix typo and formatting in CONTRIBUTING.md</a><li><a href=https://github.com/bevyengine/bevy/pull/11440>add a required feature for shader_material_glsl</a><li><a href=https://github.com/bevyengine/bevy/pull/11467>Update ruzstd requirement from 0.4.0 to 0.5.0</a><li><a href=https://github.com/bevyengine/bevy/pull/11484>Tweak gamepad viewer example style</a><li><a href=https://github.com/bevyengine/bevy/pull/11506>Add <code>.toml</code> extension to <code>.cargo/config_fast_builds</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11508>Add README to benches</a><li><a href=https://github.com/bevyengine/bevy/pull/11513>Fix panic in examples using argh on the web</a><li><a href=https://github.com/bevyengine/bevy/pull/11523>Fix cyclic dep</a><li><a href=https://github.com/bevyengine/bevy/pull/11591>Enable the <code>unsafe_op_in_unsafe_fn</code> lint</a><li><a href=https://github.com/bevyengine/bevy/pull/11599>Update erased-serde requirement from 0.3 to 0.4</a><li><a href=https://github.com/bevyengine/bevy/pull/11615>Fix example send_and_receive_events</a><li><a href=https://github.com/bevyengine/bevy/pull/11617>Update cursor.rs</a><li><a href=https://github.com/bevyengine/bevy/pull/11652>Use the <code>Continuous</code> update mode in stress tests when unfocused</a><li><a href=https://github.com/bevyengine/bevy/pull/11669>Don't auto insert on the extract schedule</a><li><a href=https://github.com/bevyengine/bevy/pull/11678>Update tracing-tracy requirement from 0.10.4 to 0.11.0 and tracy-client requirement from 0.16.4 to 0.17.0</a><li><a href=https://github.com/bevyengine/bevy/pull/11684>Use TypeIdMap whenever possible</a><li><a href=https://github.com/bevyengine/bevy/pull/11709>Fix a few typos in error docs</a><li><a href=https://github.com/bevyengine/bevy/pull/11725>bevy_render: use the non-send marker from bevy_core</a><li><a href=https://github.com/bevyengine/bevy/pull/11797>Ignore screenshots generated by <code>screenshot</code> example</a><li><a href=https://github.com/bevyengine/bevy/pull/11795>Docs reflect that <code>RemovalDetection</code> also yields despawned entities</a><li><a href=https://github.com/bevyengine/bevy/pull/11622>bevy_dynamic_plugin: fix <code>unsafe_op_in_unsafe_fn</code> lint</a><li><a href=https://github.com/bevyengine/bevy/pull/11832>Replace <code>crossbeam::scope</code> reference with <code>thread::scope</code> in docs</a><li><a href=https://github.com/bevyengine/bevy/pull/11865>Use question mark operator when possible</a><li><a href=https://github.com/bevyengine/bevy/pull/11866>Fix a few Clippy lints</a><li><a href=https://github.com/bevyengine/bevy/pull/11894>WebGPU: fix web-sys version</a><li><a href=https://github.com/bevyengine/bevy/pull/11913>Remove map_flatten from linting rules</a><li><a href=https://github.com/bevyengine/bevy/pull/11915>Fix duplicate <code>encase_derive_impl</code> dependency</a></ul><h3 id=a-app>A-App <a class=anchor-link href=#a-app>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10609>add regression test for #10385/#10389</a><li><a href=https://github.com/bevyengine/bevy/pull/11193>Fix typos plugin.rs</a><li><a href=https://github.com/bevyengine/bevy/pull/11080>Expressively define plugins using functions</a><li><a href=https://github.com/bevyengine/bevy/pull/11618>Mark <code>DynamicPluginLoadError</code> internal error types as source</a></ul><h3 id=a-diagnostics>A-Diagnostics <a class=anchor-link href=#a-diagnostics>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/10663>Fix Line for tracy version</a><li><a href=https://github.com/bevyengine/bevy/pull/11020>Some doc to bevy_diagnostic</a><li><a href=https://github.com/bevyengine/bevy/pull/11170>Print to stderr from panic handler in LogPlugin</a><li><a href=https://github.com/bevyengine/bevy/pull/11171>Add ability to panic to logs example</a><li><a href=https://github.com/bevyengine/bevy/pull/11331>Make sure tracy deps conform to compatibility table</a><li><a href=https://github.com/bevyengine/bevy/pull/11327>Describe purpose of bevy_diagnostic</a><li><a href=https://github.com/bevyengine/bevy/pull/10822>Add support for updating the tracing subscriber in LogPlugin</a><li><a href=https://github.com/bevyengine/bevy/pull/9266>Replace <code>DiagnosticId</code> by <code>DiagnosticPath</code></a><li><a href=https://github.com/bevyengine/bevy/pull/11521>fix link to tracy</a><li><a href=https://github.com/bevyengine/bevy/pull/11850>Fix sysinfo CPU brand output</a></ul><h3 id=a-rendering-a-ecs>A-Rendering + A-ECS <a class=anchor-link href=#a-rendering-a-ecs>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11018>Explain where rendering is</a></ul><h3 id=a-assets-a-math>A-Assets + A-Math <a class=anchor-link href=#a-assets-a-math>#</a></h3><ul><li><a href=https://github.com/bevyengine/bevy/pull/11361>Use glam for computing gLTF node transform</a></ul></div><script type=module>import{enable_image_compare as a}from"/components.js";document.addEventListener(`DOMContentLoaded`,(()=>{a()}))</script></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>