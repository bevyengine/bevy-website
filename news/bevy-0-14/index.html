<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Bevy 0.14" property=og:title><meta content=website property=og:type><meta content=https://bevy.org//news/bevy-0-14/ property=og:url><meta content=https://bevy.org/assets/bevy_logo_fill.png property=og:image><meta content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!" property=og:description><link rel="shortcut icon" href=/assets/favicon.png type=image/png><link href=/site.css rel=stylesheet><link href=/atom.xml rel=alternate type=application/atom+xml><title>Bevy 0.14</title><script defer src=/highlight-intrapage-link.js></script><body><div class=layout><input class=hidden id=mobile-menu-state type=checkbox><header class="layout__header header print:hidden" data-mobile-menu-state-container><div class=header__content><label class=main-menu-backdrop for=mobile-menu-state></label><label class="header__hamburger button-square button-square--header" for=mobile-menu-state><img alt="Three horizontal lines stacked on top of eachother" height=16 src=/assets/icon-hamburger.svg width=20></label><div class=header__left-block><a class=header__logo href=/> <picture class=logo><img alt="Bevy logo" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><div class=header__message>News</div></div><input checked class=hidden id=page-menu-switch-state type=checkbox><nav class="header__menu main-menu main-menu--with-page-menu" data-page-menu-switch-state-container role=navigation><div class=main-menu__header><a href=/> <picture class=logo><img alt="Bevy Engine" class=logo height=130 src=/assets/bevy_logo_dark.svg width=520></picture> </a><label class="button-square button-square--header" for=mobile-menu-state><img alt="A saltire or x-cross" height=16 src=/assets/icon-times.svg width=16></label></div><div class=main-menu__page-menu-switch><label class=menu-switch for=page-menu-switch-state><div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div> <div class="menu-switch__option menu-switch__option--page-menu">Post</div></label></div><div class=main-menu__content><div class=main-menu__page-menu><ul class=tree-menu data-highlight-intrapage-link><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#virtual-geometry-experimental>Virtual Geometry (Experimental)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#sharp-screen-space-reflections>Sharp Screen-Space Reflections</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#volumetric-fog-and-volumetric-lighting-light-shafts-god-rays>Volumetric Fog and Volumetric Lighting (light shafts / god rays)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#per-object-motion-blur>Per-Object Motion Blur</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#filmic-color-grading>Filmic Color Grading</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#auto-exposure>Auto Exposure</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#fast-depth-of-field>Fast Depth of Field</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#pbr-anisotropy>PBR Anisotropy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#percentage-closer-filtering-pcf-for-point-lights>Percentage-Closer Filtering (PCF) for Point Lights</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#subpixel-morphological-antialiasing-smaa>Subpixel Morphological Antialiasing (SMAA)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#visibility-ranges-hierarchical-levels-of-detail-hlods>Visibility Ranges (hierarchical levels of detail / HLODs)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#ecs-hooks-and-observers>ECS Hooks and Observers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#gltf-khr-texture-transform-support>glTF KHR_texture_transform Support</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#ui-node-border-radius>UI Node Border Radius</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#animation-blending-with-the-animationgraph>Animation Blending with the AnimationGraph</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#improved-color-api>Improved Color API</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#extruded-shapes>Extruded Shapes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#more-gizmos>More Gizmos</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#gizmo-line-styles-and-joints>Gizmo Line Styles and Joints</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#ui-node-outline-gizmos>UI Node Outline Gizmos</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#contextually-clearing-gizmos>Contextually Clearing Gizmos</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#query-joins>Query Joins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#computed-states-sub-states>Computed States & Sub-States</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#state-scoped-entities>State Scoped Entities</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#state-identity-transitions>State Identity Transitions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#gpu-frustum-culling>GPU Frustum Culling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#world-command-queue>World Command Queue</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#reduced-multi-threaded-execution-overhead>Reduced Multi-Threaded Execution Overhead</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#decouple-backgroundcolor-from-uiimage>Decouple BackgroundColor from UiImage</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#combined-winitevent>Combined WinitEvent</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#recursive-reflect-registration>Recursive Reflect Registration</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#rot2-type-for-2d-rotations>Rot2 Type for 2D Rotations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#alignment-api-for-transforms>Alignment API for Transforms</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#random-sampling-of-shapes-and-directions>Random Sampling of Shapes and Directions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#tools-for-profiling-gpu-performance>Tools for Profiling GPU Performance</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#new-geometric-primitives>New Geometric Primitives</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#improve-point-and-rename-it-to-vectorspace>Improve Point and rename it to VectorSpace</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#2d-mesh-wireframes>2D Mesh Wireframes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#custom-reflect-field-attributes>Custom Reflect Field Attributes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#query-iteration-sorting>Query Iteration Sorting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#systembuilder>SystemBuilder</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#throttle-render-assets>Throttle Render Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#standardmaterial-uv-channel-selection>StandardMaterial UV Channel Selection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#remove-limit-on-renderlayers>Remove limit on RenderLayers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#on-unimplemented-diagnostics>on_unimplemented Diagnostics</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#motion-vectors-and-taa-for-animated-meshes>Motion Vectors and TAA for Animated Meshes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#improved-matrix-naming>Improved Matrix Naming</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#typed-gltf-labels>Typed glTF Labels</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#winit-v0-30>winit v0.30</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#scene-mesh-and-material-gltf-extras>Scene, Mesh, and Material glTF Extras</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#resource-entity-mapping-in-scenes>Resource Entity Mapping in Scenes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#compassquadrant-and-compassoctant>CompassQuadrant and CompassOctant</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#support-asyncseek-when-loading-assets>Support AsyncSeek When Loading Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#loadstate-failed-now-has-error-info>LoadState::Failed Now Has Error Info</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#appexit-errors>AppExit Errors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#make-dynamic-linking-a-no-op-on-wasm-targets>Make dynamic_linking a no-op on WASM targets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#deprecate-dynamic-plugins>Deprecate Dynamic Plugins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#bevy-working-groups>Bevy Working Groups</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#what-s-next>What's Next?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#support-bevy>Support Bevy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#contributors>Contributors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#full-changelog>Full Changelog</a></div></ul></div><ul class=main-menu__menu><li class="main-menu__entry main-menu__entry--getting-started"><a class=main-menu__link href=/learn/quick-start/getting-started/> <span>Getting Started</span> </a><li class=main-menu__entry><a class=main-menu__link href=/learn/> <span>Learn</span> </a><li class=main-menu__entry><a class="main-menu__link main-menu__link--active" href=/news/> <span>News</span> </a><li class=main-menu__entry><a class=main-menu__link href=/community/> <span>Community</span> </a><li class=main-menu__entry><a class=main-menu__link href=/foundation/> <span>Foundation</span> </a><li class=main-menu__entry><a class=main-menu__link href=/assets/> <span>Assets</span> </a><li class=main-menu__entry><a class=main-menu__link href=/examples/> <span>Examples</span> </a></ul></div></nav><div class=header__cta-container><a class="button button--pink header__cta" href=/donate>Donate <img alt="heart icon" class=button__icon height=512 src=/assets/heart.svg width=512> </a><a class="header__cta header__cta--github" href=https://github.com/bevyengine/bevy> <img alt="GitHub repo" height=96 src=/assets/github-mark-white.svg width=98> </a></div></div></header><main class=layout__content><div class=container><div class="page-with-menu page-with-menu--news"><div class="page-with-menu__menu-wrapper print:hidden"><div class=page-with-menu__menu><ul class=tree-menu data-highlight-intrapage-link><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#virtual-geometry-experimental>Virtual Geometry (Experimental)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#sharp-screen-space-reflections>Sharp Screen-Space Reflections</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#volumetric-fog-and-volumetric-lighting-light-shafts-god-rays>Volumetric Fog and Volumetric Lighting (light shafts / god rays)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#per-object-motion-blur>Per-Object Motion Blur</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#filmic-color-grading>Filmic Color Grading</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#auto-exposure>Auto Exposure</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#fast-depth-of-field>Fast Depth of Field</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#pbr-anisotropy>PBR Anisotropy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#percentage-closer-filtering-pcf-for-point-lights>Percentage-Closer Filtering (PCF) for Point Lights</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#subpixel-morphological-antialiasing-smaa>Subpixel Morphological Antialiasing (SMAA)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#visibility-ranges-hierarchical-levels-of-detail-hlods>Visibility Ranges (hierarchical levels of detail / HLODs)</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#ecs-hooks-and-observers>ECS Hooks and Observers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#gltf-khr-texture-transform-support>glTF KHR_texture_transform Support</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#ui-node-border-radius>UI Node Border Radius</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#animation-blending-with-the-animationgraph>Animation Blending with the AnimationGraph</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#improved-color-api>Improved Color API</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#extruded-shapes>Extruded Shapes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#more-gizmos>More Gizmos</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#gizmo-line-styles-and-joints>Gizmo Line Styles and Joints</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#ui-node-outline-gizmos>UI Node Outline Gizmos</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#contextually-clearing-gizmos>Contextually Clearing Gizmos</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#query-joins>Query Joins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#computed-states-sub-states>Computed States & Sub-States</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#state-scoped-entities>State Scoped Entities</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#state-identity-transitions>State Identity Transitions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#gpu-frustum-culling>GPU Frustum Culling</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#world-command-queue>World Command Queue</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#reduced-multi-threaded-execution-overhead>Reduced Multi-Threaded Execution Overhead</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#decouple-backgroundcolor-from-uiimage>Decouple BackgroundColor from UiImage</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#combined-winitevent>Combined WinitEvent</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#recursive-reflect-registration>Recursive Reflect Registration</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#rot2-type-for-2d-rotations>Rot2 Type for 2D Rotations</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#alignment-api-for-transforms>Alignment API for Transforms</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#random-sampling-of-shapes-and-directions>Random Sampling of Shapes and Directions</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#tools-for-profiling-gpu-performance>Tools for Profiling GPU Performance</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#new-geometric-primitives>New Geometric Primitives</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#improve-point-and-rename-it-to-vectorspace>Improve Point and rename it to VectorSpace</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#2d-mesh-wireframes>2D Mesh Wireframes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#custom-reflect-field-attributes>Custom Reflect Field Attributes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#query-iteration-sorting>Query Iteration Sorting</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#systembuilder>SystemBuilder</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#throttle-render-assets>Throttle Render Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#standardmaterial-uv-channel-selection>StandardMaterial UV Channel Selection</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#remove-limit-on-renderlayers>Remove limit on RenderLayers</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#on-unimplemented-diagnostics>on_unimplemented Diagnostics</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#motion-vectors-and-taa-for-animated-meshes>Motion Vectors and TAA for Animated Meshes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#improved-matrix-naming>Improved Matrix Naming</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#typed-gltf-labels>Typed glTF Labels</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#winit-v0-30>winit v0.30</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#scene-mesh-and-material-gltf-extras>Scene, Mesh, and Material glTF Extras</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#resource-entity-mapping-in-scenes>Resource Entity Mapping in Scenes</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#compassquadrant-and-compassoctant>CompassQuadrant and CompassOctant</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#support-asyncseek-when-loading-assets>Support AsyncSeek When Loading Assets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#loadstate-failed-now-has-error-info>LoadState::Failed Now Has Error Info</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#appexit-errors>AppExit Errors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#make-dynamic-linking-a-no-op-on-wasm-targets>Make dynamic_linking a no-op on WASM targets</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#deprecate-dynamic-plugins>Deprecate Dynamic Plugins</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#bevy-working-groups>Bevy Working Groups</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#what-s-next>What's Next?</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#support-bevy>Support Bevy</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#contributors>Contributors</a></div><li class=tree-menu__item><div class=tree-menu__label><a class=tree-menu__link href=https://bevy.org/news/bevy-0-14/#full-changelog>Full Changelog</a></div></ul></div></div><div class=page-with-menu__content><h1 class=news-title>Bevy 0.14</h1><h2 class=news-subtitle>Posted on July 4, 2024 by Bevy Contributors</h2><div class="media-content news-content news-content__hero-image"><img alt="A forested scene illustrating Bevy's new volumetric fog, depth of field, and screen-space reflections" style="aspect-ratio:auto 16/9" src=cover.jpg><div class=news-image-subtitle><a href=https://github.com/IceSentry/bevy_forest_scene>A forested scene illustrating Bevy's new volumetric fog, depth of field, and screen-space reflections</a></div></div><div class="media-content news-content"><p>Thanks to <strong>256</strong> contributors, <strong>993</strong> pull requests, community reviewers, and our <a href=/donate><strong>generous donors</strong></a>, we're happy to announce the <strong>Bevy 0.14</strong> release on <a href=https://crates.io/crates/bevy>crates.io</a>!<p>For those who don't know, Bevy is a refreshingly simple data-driven game engine built in Rust. You can check out our <a href=/learn/quick-start>Quick Start Guide</a> to try it today. It's free and open source forever! You can grab the full <a href=https://github.com/bevyengine/bevy>source code</a> on GitHub. Check out <a href=https://bevy.org/assets>Bevy Assets</a> for a collection of community-developed plugins, games, and learning resources.<p>To update an existing Bevy App or Plugin to <strong>Bevy 0.14</strong>, check out our <a href=/learn/migration-guides/0-13-to-0-14/>0.13 to 0.14 Migration Guide</a>.<p>Since our last release a few months ago we've added a <em>ton</em> of new features, bug fixes, and quality of life tweaks, but here are some of the highlights:<ul><li><strong>Virtual Geometry</strong>: Preprocess meshes into "meshlets", enabling efficient rendering of huge amounts of geometry<li><strong>Sharp Screen Space Reflections</strong>: Approximate real time raymarched screen space reflections<li><strong>Depth of Field</strong>: Cause objects at specific depths to go "out of focus", mimicking the behavior of physical lenses<li><strong>Per-Object Motion Blur</strong>: Blur objects moving fast relative to the camera<li><strong>Volumetric Fog / Lighting</strong>: Simulates fog in 3d space, enabling lights to produce beautiful "god rays"<li><strong>Filmic Color Grading</strong>: Fine tune tonemapping in your game with a complete set of filmic color grading tools<li><strong>PBR Anisotropy</strong>: Improve rendering of surfaces whose roughness varies along the tangent and bitangent directions of a mesh, such as brushed metal and hair<li><strong>Auto Exposure</strong>: Configure cameras to dynamically adjust their exposure based on what they are looking at<li><strong>PCF for Point Lights</strong>: Smooth out point light shadows, improving their quality<li><strong>Animation blending:</strong> Our new low-level animation graph adds support for animation blending, and sets the stage for first- and third-party graphical, asset-driven animation tools.<li><strong>ECS Hooks and Observers:</strong> Automatically (and immediately) respond to arbitrary events, such as component addition and removal<li><strong>Better colors:</strong> type-safe colors make it clear which color space you're operating in, and offer an awesome array of useful methods.<li><strong>Computed states and substates:</strong> Modeling complex app state is a breeze with these type-safe extensions to our <code>States</code> abstraction.<li><strong>Rounded corners:</strong> Rounding off one of <code>bevy_ui</code>'s roughest edges, you can now procedurally set the corner radius on your UI elements.</ul><p>For the first time, Bevy 0.14 was prepared using a <strong>release candidate</strong> process to help ensure that you can upgrade right away with peace of mind. We've worked closely with both plugin authors and ordinary users to catch critical bugs, round the rough corners off our new features, and refine the migration guide. As we prepared fixes, we've <a href="https://crates.io/crates/bevy/versions?sort=date">shipped new release candidates on crates.io</a>, letting core ecosystem crates update and listening closely for show-stopping problems. Thank you so much to <a href=https://discord.com/channels/691052431525675048/1239930965267054623>everyone who helped out</a>: these efforts are a vital step towards making Bevy something that teams large and small can trust to work reliably.</p><span id=continue-reading></span><h2 id=virtual-geometry-experimental>Virtual Geometry (Experimental) <a class=anchor-link href=#virtual-geometry-experimental>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/JMS55>@JMS55</a>, <a class=heading-meta__item href=https://github.com/atlv24>@atlv24</a>, <a class=heading-meta__item href=https://github.com/zeux>@zeux</a>, <a class=heading-meta__item href=https://github.com/ricky26>@ricky26</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/10164>#10164</a></div></div><p>After several months of hard work, we're super excited to bring you the experimental release of a new virtual geometry feature!<p>This new rendering feature works much like Unreal Engine 5's Nanite renderer. You can take a very high-poly mesh, preprocess it to generate a <a href=https://docs.rs/bevy/0.14/bevy/pbr/experimental/meshlet/struct.MeshletMesh.html><code>MeshletMesh</code></a> during build time, and then at runtime render huge amounts of geometry - much more than Bevy's standard renderer can support. No explicit LODs are needed - it's all automatic, and near seamless.<p>This feature is still a WIP, and comes with several constraints compared to Bevy's standard renderer, so be sure to read the docs and report any bugs you encounter. We still have a lot left to do, so look forward to more performance improvements (and associated breaking changes) in future releases!<p>Note that this feature does not use GPU "mesh shaders", so older GPUs are compatible for now. However, they are not recommended, and are likely to become unsupported in the near future.<p>In addition to the below user guide, checkout:<ul><li><a href=https://github.com/bevyengine/bevy/blob/release-0.14.0/examples/3d/meshlet.rs>The Bevy example for this feature</a><li><a href=https://jms55.github.io/posts/2024-06-09-virtual-geometry-bevy-0-14>The technical deep dive article by the main author of this feature</a></ul><p><video controls loop><source src=many_bunnies.mp4 type=video/mp4></video><p>Users wanting to use virtual geometry should compile with the <code>meshlet</code> cargo feature at runtime, and <code>meshlet_processor</code> cargo feature at build time for preprocessing meshes into the special meshlet-specific format (<a href=https://docs.rs/bevy/0.14/bevy/pbr/experimental/meshlet/struct.MeshletMesh.html><code>MeshletMesh</code></a>) the meshlet renderer uses.<p>Enabling the meshlet feature unlocks a new module: <a href=https://docs.rs/bevy/0.14/bevy/pbr/experimental/meshlet/index.html><code>bevy::pbr::experimental::meshlet</code></a>.<p>First step, add <a href=https://docs.rs/bevy/0.14/bevy/pbr/experimental/meshlet/struct.MeshletPlugin.html><code>MeshletPlugin</code></a> to your app:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MeshletPlugin</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Next, preprocess your <a href=https://docs.rs/bevy/0.14/bevy/prelude/struct.Mesh.html><code>Mesh</code></a> into a <a href=https://docs.rs/bevy/0.14/bevy/pbr/experimental/meshlet/struct.MeshletMesh.html><code>MeshletMesh</code></a>. Currently, this needs to be done manually via <code>MeshletMesh::from_mesh()</code>(again, you need the <code>meshlet_processor</code> feature enabled). This step is fairly slow, and should be done once ahead of time, and then saved to an asset file. Note that there are limitations on the types of meshes and materials supported, make sure to read the docs.<p>Automatic GLTF/scene conversions via Bevy's asset preprocessing system is planned, but unfortunately did not make the cut in time for this release. For now, you'll have to come up with your own asset conversion and management system. If you come up with a good system, let us know!<p>Now, spawn your entities. In the same vein as <code>MaterialMeshBundle</code>, there's a <code>MaterialMeshletMeshBundle</code>, which uses a <a href=https://docs.rs/bevy/0.14/bevy/pbr/experimental/meshlet/struct.MeshletMesh.html><code>MeshletMesh</code></a> instead of the typical <a href=https://docs.rs/bevy/0.14/bevy/prelude/struct.Mesh.html><code>Mesh</code></a>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MaterialMeshletMeshBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    meshlet_mesh<span class="z-punctuation z-separator z-rust">:</span> meshlet_mesh_handle<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clone</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    material<span class="z-punctuation z-separator z-rust">:</span> material_handle<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clone</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    transform<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Lastly, a note on materials. Meshlet entities use the same <a href=https://docs.rs/bevy/0.14/bevy/pbr/trait.Material.html><code>Material</code></a> trait as regular mesh entities, however, the standard material methods are not used. Instead there are 3 new methods: <code>meshlet_mesh_fragment_shader</code>, <code>meshlet_mesh_prepass_fragment_shader</code>, and <code>meshlet_mesh_deferred_fragment_shader</code>. All 3 methods of forward, forward with prepasses, and deferred rendering are supported.<p>Notice however that there is no access to vertex shaders. Meshlet rendering uses a hardcoded vertex shader that cannot be changed.<p>The actual fragment shader code for meshlet materials are mostly the same as fragment shaders for regular mesh entities. The key difference is that instead of this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-operator z-rust">@</span>fragment
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">fragment</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">vertex_output</span><span class="z-punctuation z-separator z-rust">:</span> VertexOutput</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> </span></span><span class="z-keyword z-operator z-rust">@</span><span class="z-support z-function z-rust">location</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-generic z-rust">vec4<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><p>You should use this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-operator z-rust">#</span>import <span class="z-meta z-path z-rust">bevy_pbr<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">meshlet_visibility_buffer_resolve<span class="z-punctuation z-accessor z-rust">::</span></span>resolve_vertex_output
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-keyword z-operator z-rust">@</span>fragment
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">fragment</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>@builtin<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-variable z-parameter z-rust">position</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-variable z-parameter z-rust">frag_coord</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">vec4<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> </span></span><span class="z-keyword z-operator z-rust">@</span><span class="z-support z-function z-rust">location</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-generic z-rust">vec4<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> vertex_output <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-function z-rust">resolve_vertex_output</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>frag_coord</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><h2 id=sharp-screen-space-reflections>Sharp Screen-Space Reflections <a class=anchor-link href=#sharp-screen-space-reflections>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13418>#13418</a></div></div><p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1280/720><div data-title-a="No SSR" class=image-compare data-title-b=SSR style=aspect-ratio:1280/720><img alt="No SSR" class=image-a src=no_ssr.jpg><img alt=SSR class=image-b src=ssr.jpg></div></div><p><a href=https://lettier.github.io/3d-game-shaders-for-beginners/screen-space-reflection.html>Screen-space reflections</a> (SSR) approximate real-time reflections by raymarching through the depth buffer and copying samples from the final rendered frame. Our initial implementation is relatively minimal, to provide a flexible base to build on, but is based on the production-quality <a href=https://gist.github.com/h3r2tic/9c8356bdaefbe80b1a22ae0aaee192db>raymarching code by Tomasz Stachowiak</a>, one of the creators of the indie darling Bevy game <a href=https://store.steampowered.com/app/2198150/Tiny_Glade/>Tiny Glade</a>. As a result, there are a few caveats to bear in mind:<ol><li>Currently, this feature is built on top of the deferred renderer and is currently only supported in that mode. Forward screen-space reflections are possible albeit uncommon (though e.g. Doom Eternal uses them); however, they require tracing from the previous frame, which would add complexity. This patch leaves the door open to implementing SSR in the forward rendering path but doesn't itself have such an implementation.<li>Screen-space reflections aren't supported in WebGL 2, because they require sampling from the depth buffer, which <code>naga</code> can't do because of a bug (<code>sampler2DShadow</code> is incorrectly generated instead of <code>sampler2D</code>; this is the same reason why depth of field is disabled on that platform).<li>No temporal filtering or blurring is performed at all. For this reason, SSR currently only operates on very low-roughness / smooth surfaces.<li>We don't perform acceleration via the hierarchical Z-buffer and reflections are traced at full resolution. As a result, you may notice performance issues depending on your scene and hardware.</ol><p>To add screen-space reflections to a camera, insert the <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.ScreenSpaceReflectionsSettings.html><code>ScreenSpaceReflectionsSettings</code></a> component. In addition to <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.ScreenSpaceReflectionsSettings.html><code>ScreenSpaceReflectionsSettings</code></a>, <a href=https://docs.rs/bevy/0.14/bevy/core_pipeline/prepass/struct.DepthPrepass.html><code>DepthPrepass</code></a>, and <a href=https://docs.rs/bevy/0.14/bevy/core_pipeline/prepass/struct.DeferredPrepass.html><code>DeferredPrepass</code></a> must also be present for the reflections to show up. Conveniently, the <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.ScreenSpaceReflectionsBundle.html><code>ScreenSpaceReflectionsBundle</code></a> bundles these all up for you! While the <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.ScreenSpaceReflectionsSettings.html><code>ScreenSpaceReflectionsSettings</code></a> comes with sensible defaults, it also contains several settings that artists can tweak.<h2 id=volumetric-fog-and-volumetric-lighting-light-shafts-god-rays>Volumetric Fog and Volumetric Lighting (light shafts / god rays) <a class=anchor-link href=#volumetric-fog-and-volumetric-lighting-light-shafts-god-rays>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13057>#13057</a></div></div><p>Not all fog is created equal. Bevy's existing implementation covers <a href=https://en.wikipedia.org/wiki/Distance_fog>distance fog</a>, which is fast, simple, and not particularly realistic.<p>In Bevy 0.14, this is supplemented with volumetric fog, based on <a href=https://en.wikipedia.org/wiki/Volumetric_lighting>volumetric lighting</a>, which simulates fog using actual 3D space, rather than simply distance from the camera. As you might expect, this is both prettier and more computationally expensive!<p>In particular, this allows for the creation of stunningly beautiful "god rays" (more properly, crepuscular rays) shining through the fog.<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1280/720><div data-title-a="Without Volumetric Fog" data-title-b="With Volumetric Fog" class=image-compare style=aspect-ratio:1280/720><img alt="Without Volumetric Fog" class=image-a src=without_volumetric_fog.jpg><img alt="With Volumetric Fog" class=image-b src=with_volumetric_fog.jpg></div></div><p>Bevy's algorithm, which is implemented as a postprocessing effect, is a combination of the techniques described in <a href=https://www.scratchapixel.com/lessons/3d-basic-rendering/volume-rendering-for-developers/intro-volume-rendering.html>Scratchapixel</a> and <a href=https://www.alexandre-pestana.com/volumetric-lights/>Alexandre Pestana's blog post</a>. It uses raymarching (<a href=https://gist.github.com/h3r2tic/9c8356bdaefbe80b1a22ae0aaee192db>ported to WGSL by h3r2tic</a>) in screen space, transformed into shadow map space for sampling and combined with physically-based modeling of absorption and scattering. Bevy employs the widely-used Henyey-Greenstein phase function to model asymmetry; this essentially allows light shafts to fade into and out of existence as the user views them.<p>To add volumetric fog to a scene, add <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.VolumetricFogSettings.html><code>VolumetricFogSettings</code></a> to the camera, and add <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.VolumetricLight.html><code>VolumetricLight</code></a> to directional lights that you wish to be volumetric. <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.VolumetricFogSettings.html><code>VolumetricFogSettings</code></a> has numerous settings that allow you to define the accuracy of the simulation, as well as the look of the fog. Currently, only interaction with directional lights that have shadow maps is supported. Note that the overhead of the effect scales directly with the number of directional lights in use, so apply <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.VolumetricLight.html><code>VolumetricLight</code></a> sparingly for the best results.<p>Try it hands on with our <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/volumetric_fog.rs><code>volumetric_fog</code> example</a>.<h2 id=per-object-motion-blur>Per-Object Motion Blur <a class=anchor-link href=#per-object-motion-blur>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/aevyrie>@aevyrie</a>, <a class=heading-meta__item href=https://github.com/torsteingrindvik>@torsteingrindvik</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/9924>#9924</a></div></div><p>We've added a post-processing effect that blurs fast-moving objects in the direction of motion. Our implementation uses motion vectors, which means it works with Bevy's built in PBR materials, skinned meshes, or anything else that writes motion vectors and depth. The effect is used to convey high speed motion, which can otherwise look like flickering or teleporting when the image is perfectly sharp.<p>Blur scales with the motion of objects relative to the camera. If the camera is tracking a fast moving object, like a vehicle, the vehicle will remain sharp, while stationary objects will be blurred. Conversely, if the camera is pointing at a stationary object, and a fast moving vehicle moves through the frame, only the fast moving object will be blurred.<p>The implementation is configured with <a href=https://en.wikipedia.org/wiki/Rotary_disc_shutter>camera shutter angle</a>, which corresponds to how long the virtual shutter is open during a frame. In practice, this means the effect scales with framerate, so users running at high refresh rates aren't subjected to over-blurring.<p><video controls loop><source src=motion_blur_cars.mp4 type=video/mp4></video><p>You can enable motion blur by adding <a href=https://docs.rs/bevy/0.14/bevy/core_pipeline/motion_blur/struct.MotionBlurBundle.html><code>MotionBlurBundle</code></a> to your camera entity, as shown in our <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/motion_blur.rs><code>motion blur</code> example</a>.<h2 id=filmic-color-grading>Filmic Color Grading <a class=anchor-link href=#filmic-color-grading>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13121>#13121</a></div></div><p>Artists want to get exactly the right look for their game, and color plays a huge role.<p>To support this, Bevy's <a href=https://bevy.org/news/bevy-0-10/#more-tonemapping-choices>existing tonemapping tools</a> have been extended to include a complete set of filmic color grading tools. In addition to a <a href=https://docs.rs/bevy/0.14/bevy/core_pipeline/tonemapping/enum.Tonemapping.html>base tonemap</a>, you can now configure:<ul><li>White point adjustment. This is inspired by Unity's implementation of the feature, but simplified and optimized. Temperature and tint control the adjustments to the x and y chromaticity values of CIE 1931. Following Unity, the adjustments are made relative to the D65 standard illuminant in the LMS color space.<li>Hue rotation: converts the RGB value to HSV, alters the hue, and converts back.<li>Color correction: allows the gamma, gain, and lift values to be adjusted according to the standard ASC CDL combined function. This can be done separately for shadows, midtones and highlights To avoid abrupt color changes, a small crossfade is used between the different sections of the image.</ul><p>We've followed <a href=https://www.blender.org/>Blender's</a> implementation as closely as possible to ensure that what you see in your modelling software matches what you see in the game.<p><img alt="A very orange image of a test scene, with controls for exposure, temperature, tint and hue. Saturation, contrast, gamma, gain, and lift can all be configured for the highlights, midtones, and shadows separately." src=filmic_color_grading.jpg><p>We've provided a new, <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/color_grading.rs><code>color_grading</code></a> example, with a shiny GUI to change all the color grading settings. Perfect for copy-pasting into your own game's dev tools and playing with the settings! Note that these settings can all be changed at runtime: giving artists control over the exact mood of the scene, or shift it dynamically based on weather or time of day.<h2 id=auto-exposure>Auto Exposure <a class=anchor-link href=#auto-exposure>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Kurble>@Kurble</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12792>#12792</a></div></div><p>Since <strong>Bevy 0.13</strong>, you can <a href=/news/bevy-0-13/#camera-exposure>configure the EV100 of a camera</a>, which allows you to adjust the exposure of the camera in a physically based way. This also allows you to dynamically change the exposure values for various effects. However, this is a manual process and requires you to adjust the exposure values yourself.<p><strong>Bevy 0.14</strong> introduces <strong>Auto Exposure</strong>, which automatically adjusts the exposure of your camera based on the brightness of the scene. This can be useful when you want to create the feeling of a very high dynamic range, since your eyes also adjust to large changes in brightness. Note that this is not a replacement for hand-tuning the exposure values, rather an additional tool that you can use to create dramatic effects when brightness changes rapidly. Check out this video recorded from the <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/auto_exposure.rs>example</a> to see it in action!<p><video controls><source src=auto_exposure.mp4 type=video/mp4></video><p>Bevy's Auto Exposure is implemented by making a <strong>histogram</strong> of the scene's brightness in a post processing step. The exposure is then adjusted based on the average of the histogram. Because the histogram is calculated using a compute shader, Auto Exposure is <strong>not available on WebGL</strong>. It's also not enabled by default, so you need to add the <a href=https://docs.rs/bevy/0.14/bevy/core_pipeline/auto_exposure/struct.AutoExposurePlugin.html><code>AutoExposurePlugin</code></a> to your app.<p>Auto Exposure is controlled by the <a href=https://docs.rs/bevy/0.14/bevy/core_pipeline/auto_exposure/struct.AutoExposureSettings.html><code>AutoExposureSettings</code></a> component, which you can add to your camera entity. You can configure a few things:<ul><li>A relative <em>range</em> of F-stops that the exposure can change by.<li>The <em>speed</em> at which the exposure changes.<li>An optional <strong>metering mask</strong>, which allows you to, for example, give more weight to the center of the image.<li>An optional histogram <em>filter</em>, which allows you to ignore very bright or very dark pixels.</ul><h2 id=fast-depth-of-field>Fast Depth of Field <a class=anchor-link href=#fast-depth-of-field>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a>, <a class=heading-meta__item href=https://github.com/Kurble>@Kurble</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13009>#13009</a></div></div><p>In rendering, <strong>depth of field</strong> is an effect that mimics the <a href=(https://en.wikipedia.org/wiki/Depth_of_field)>limitations of physical lenses</a>. By virtue of the way light works, lenses (like that of the human eye or a film camera) can only focus on objects that are within a specific range (depth) from them, causing all others to be blurry and out of focus.<p>Bevy now ships with this effect, implemented as a post-processing shader. There are two options available: a fast Gaussian blur or a more physically accurate hexagonal bokeh technique. The bokeh blur is generally more aesthetically pleasing than the Gaussian blur, as it simulates the effect of a camera more accurately. The shape of the bokeh circles are determined by the number of blades of the aperture. In our case, we use a hexagon, which is usually considered specific to lower-quality cameras.<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1280/720><div data-title-a="No Depth of Field" data-title-b="Bokeh Depth of Field" class=image-compare style=aspect-ratio:1280/720><img alt="No Depth of Field" class=image-a src=no_dof.jpg><img alt="Bokeh Depth of Field" class=image-b src=bokeh_dof.jpg></div></div><p>The blur amount is generally specified by the <a href=https://en.wikipedia.org/wiki/F-number>f-number</a>, which we use to compute the <a href=https://en.wikipedia.org/wiki/Focal_length>focal length</a> from the film size and <a href=https://en.wikipedia.org/wiki/Field_of_view>field-of-view</a>. By default, we simulate standard cinematic cameras with an f/1 f-number and a film size corresponding to the classic Super 35 film format. The developer can customize these values as desired.<p>To see how this new API, please check out the dedicated <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/depth_of_field.rs><code>depth_of_field</code> example</a>.<h2 id=pbr-anisotropy>PBR Anisotropy <a class=anchor-link href=#pbr-anisotropy>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13450>#13450</a></div></div><p><a href=https://en.wikipedia.org/wiki/Anisotropy>Anisotropic materials</a> change based on the axis of motion, such as how wood behaves very differently when working with versus against the grain. But in the context of physically-based rendering, <strong>anisotropy</strong> refers specifically to a feature that allows roughness to vary along the tangent and bitangent directions of a mesh. In effect, this causes the specular light to stretch out into lines instead of a round lobe. This is useful for modeling brushed metal, hair, and similar surfaces. Support for anisotropy is a common feature in major game and graphics engines; Unity, Unreal, Godot, three.js, and Blender all support it to varying degrees.<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1280/720><div data-title-a="Without Anisotropy" data-title-b="With Anisotropy" class=image-compare style=aspect-ratio:1280/720><img alt="Without Anisotropy" class=image-a src=without_anisotropy.jpg><img alt="With Anisotropy" class=image-b src=with_anisotropy.jpg></div></div><p>Two new parameters have been added to <a href=https://docs.rs/bevy/0.14/bevy/pbr/struct.StandardMaterial.html><code>StandardMaterial</code></a>: <code>anisotropy_strength</code> and <code>anisotropy_rotation</code>. Anisotropy strength, which ranges from 0 to 1, represents how much the roughness differs between the tangent and the bitangent of the mesh. In effect, it controls how stretched the specular highlight is. Anisotropy rotation allows the roughness direction to differ from the tangent of the model.<p>In addition to these two fixed parameters, an anisotropy texture can be supplied, in the linear texture format specified by <code>KHR_materials_anisotropy</code>.<p>Like always, give it a spin at the corresponding <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/anisotropy.rs><code>anisotropy</code> example</a>.<h2 id=percentage-closer-filtering-pcf-for-point-lights>Percentage-Closer Filtering (PCF) for Point Lights <a class=anchor-link href=#percentage-closer-filtering-pcf-for-point-lights>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12910>#12910</a></div></div><p>Percentage-closer filtering is a standard anti-aliasing technique used to get softer, less jagged shadows. To do so, we sample from the shadow map near the pixel of interest using a Gaussian kernel, averaging the results to reduce sudden transitions as we move in / out of the shadow.<p>As a result, Bevy's point lights now look softer and more natural, without any changes to end user code. As before, you can configure the exact strategy used to anti-alias your shadows by setting the <a href=https://docs.rs/bevy/0.14/bevy/pbr/enum.ShadowFilteringMethod.html><code>ShadowFilteringMethod</code></a> component on your 3D cameras.<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1280/720><div data-title-a="Without PCF filtering" data-title-b="With PCF filtering" class=image-compare style=aspect-ratio:1280/720><img alt="Without PCF filtering" class=image-a src=before_pcf.jpg><img alt="With PCF filtering" class=image-b src=after_pcf.jpg></div></div><p>Full support for percentage-closer shadows is <a href=https://github.com/bevyengine/bevy/pull/13497>in the works</a>: testing and reviews for this are, like always, extremely welcome.<h2 id=subpixel-morphological-antialiasing-smaa>Subpixel Morphological Antialiasing (SMAA) <a class=anchor-link href=#subpixel-morphological-antialiasing-smaa>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13423>#13423</a></div></div><p>Jagged edges are the bane of game developers' existence: a wide variety of anti-aliasing techniques have been invented and are still in use to fix them without degrading image quality. In addition to <a href=https://en.wikipedia.org/wiki/Multisample_anti-aliasing>MSAA</a>, <a href=https://en.wikipedia.org/wiki/Fast_approximate_anti-aliasing>FXAA</a>, and <a href=https://en.wikipedia.org/wiki/Temporal_anti-aliasing>TAA</a>, Bevy now implements <a href=https://en.wikipedia.org/wiki/Morphological_antialiasing>SMAA</a>: subpixel morphological antialiasing.<p>SMAA is a 2011 antialiasing technique that detects borders in the image, then averages nearby border pixels, eliminating the dreaded jaggies. Despite its age, it's been a continual staple of games for over a decade. Four quality presets are available: low, medium, high, and ultra. Due to advancements in consumer hardware, Bevy's default is high.<p>You can see how it compares to no anti-aliasing in the pair of images below:<p class=image-compare-instruction>Drag this image to compare<div class=image-compare-container style=aspect-ratio:1919/1079><div data-title-a="No AA" class=image-compare data-title-b=SMAA style=aspect-ratio:1919/1079><img alt="No AA" class=image-a src=no_aa.jpg><img alt=SMAA class=image-b src=smaa.jpg></div></div><p>The best way to get a sense for the tradeoffs of the various anti-aliasing methods is to experiment with a test scene using the <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/anti_aliasing.rs><code>anti_aliasing</code> example</a> or by simply trying it out in your own game.<h2 id=visibility-ranges-hierarchical-levels-of-detail-hlods>Visibility Ranges (hierarchical levels of detail / HLODs) <a class=anchor-link href=#visibility-ranges-hierarchical-levels-of-detail-hlods>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a>, <a class=heading-meta__item href=https://github.com/cart>@cart</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12916>#12916</a></div></div><p>When looking at objects far away, it's hard to make out the details! This obvious fact is just as true in rendering as it is in real life. As a result, using complex, high-fidelity models for distant objects is a waste: we can replace their meshes with simplified equivalents.<p>By automatically varying the <strong>level-of-detail</strong> (LOD) of our models in this way, we can render much larger scenes (or the same open world with a higher draw distance), swapping out meshes on the fly based on their proximity to the player. Bevy now supports one of the most foundational tools for this: <strong>visibility ranges</strong> (sometimes called hierarchical levels of detail, as it allows users to replace multiple meshes with a single object).<p>By setting the <a href=https://docs.rs/bevy/0.14/bevy/render/view/struct.VisibilityRange.html><code>VisibilityRange</code></a> component on your mesh entities, developers can automatically control the range from the camera at which their meshes will appear and disappear, automatically fading between the two options using dithering. Hiding meshes happens early in the rendering pipeline, so this feature can be efficiently used for level of detail optimization. As a bonus, this feature is properly evaluated per-view, so different views can show different levels of detail.<p>Note that this feature differs from proper mesh LODs (where the geometry itself is simplified automatically), which will come later. While mesh LODs are useful for optimization and don't require any additional setup, they're less flexible than visibility ranges. Games often want to use objects other than meshes to replace distant models, such as octahedral or <a href=https://github.com/bevyengine/bevy/issues/3688>billboard</a> imposters: implementing visibility ranges first gives users the flexibility to start implementing these solutions today.<p>You can see how this feature is used in the <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/3d/visibility_range.rs><code>visibility_range</code> example</a>.<h2 id=ecs-hooks-and-observers>ECS Hooks and Observers <a class=anchor-link href=#ecs-hooks-and-observers>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/james-j-obrien>@james-j-obrien</a>, <a class=heading-meta__item href=https://github.com/cart>@cart</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/10839>#10839</a></div></div><p>As much as we love churning through homogeneous blocks of data in a tight loop here at Bevy, not every task is a perfect fit for the straightforward ECS model. Responding to changes and/or processing events are vital tasks in any application, and games are no exception.<p>Bevy already has a number of distinct tools to handle this:<ul><li><strong>Buffered <a href=https://docs.rs/bevy/0.14/bevy/ecs/event/trait.Event.html><code>Event</code></a>s</strong>: Multiple-producer, multiple-consumer queues. Flexible and efficient, but requires regular polling as part of a schedule. Events are dropped after two frames.<li><strong>Change detection via <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Added.html><code>Added</code></a> and <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Changed.html><code>Changed</code></a></strong>: Enable writing queries that can respond to added or changed components. These queries linearly scan the change state of components that match the query to see if they have been added or changed.<li><strong><a href=https://docs.rs/bevy/latest/bevy/ecs/prelude/struct.RemovedComponents.html><code>RemovedComponents</code></a></strong>: A special form of event that is triggered when a component is removed from an entity, or an entity with that component is despawned.</ul><p>All of these (and systems themselves!) use a <a href=https://dev.to/anubhavitis/push-vs-pull-api-architecture-1djo>"pull"-style mechanism</a>: events are sent regardless of whether or not anyone is listening, and listeners must periodically poll to ask if anything has changed. This is a useful pattern, and one we intend to keep around! By polling, we can process events in batch, getting more context and improving data locality (which makes the CPU go <em>brr</em>).<p>But it comes with some limitations:<ul><li>There is an unavoidable delay between an event being triggered and the response being processed<li>Polling introduces a small (but non-zero) overhead every frame</ul><p>This delay is the critical problem:<ul><li>Data (like indexes or hierarchies) can exist, even momentarily, in an invalid state<li>We can't process arbitrary chain of events of recursive logic within a single cycle</ul><p>To overcome these limitations, <strong>Bevy 0.14</strong> introduces <strong>Component Lifecycle Hooks</strong> and <strong>Observers</strong>: two complementary "push"-style mechanisms inspired by the ever-wonderful <a href=https://www.flecs.dev/flecs/>flecs</a> ECS.<h4 id=component-lifecycle-hooks>Component Lifecycle Hooks</h4><p><a href=https://docs.rs/bevy/0.14/bevy/ecs/component/struct.ComponentHooks.html>Component Hooks</a> are functions (capable of interacting with the ECS World) registered for a specific component type (as part of the <a href=https://docs.rs/bevy/0.14/bevy/ecs/component/trait.Component.html><code>Component</code></a> trait impl), which are run automatically in response to "component lifecycle events", such as when that component is added, overwritten, or removed.<p>For a given component type, only one hook can be registered for a given lifecycle event, and it cannot be overwritten.<p>Hooks exist to enforce invariants tied to that component (ex: maintaining indices or hierarchy correctness). Hooks cannot be removed and always take priority over observers: they run before any on-add / on-insert observers, but after any on-remove observers. As a result, they can be thought of as something closer to constructors & destructors, and are more suitable for maintaining critical safety or correctness invariants. Hooks are also somewhat faster than observers, as their reduced flexibility means that fewer lookups are involved.<p>Let's examine a simple example where we care about maintaining invariants: one entity (with a <code>Target</code> component) targeting another entity (with a <code>Targetable</code> component).<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Target</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Targetable</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">targeted_by</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>We want to automatically clear the <code>Target</code> when the target entity is despawned: how do we do this?<p>If we were to use the pull-based approach (<code>RemovedComponents</code> in this case), there could be a delay between the entity being despawned and the <code>Target</code> component being updated. We can remove that delay with hooks!<p>Let's see what this looks like with a hook on <code>Targetable</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Rather than a derive, let's configure the hooks with a custom
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> implementation of Component
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Component <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">Targetable</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">STORAGE_TYPE</span><span class="z-punctuation z-separator z-rust">:</span> StorageType <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">StorageType<span class="z-punctuation z-accessor z-rust">::</span></span>Table<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">register_component_hooks</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">hooks</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> ComponentHooks</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Whenever this component is removed, or an entity with
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> this component is despawned...
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        hooks<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">on_remove</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">world</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">targeted_entity</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">_component_id</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Grab the data that's about to be removed
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">            <span class="z-storage z-type z-rust">let</span> targetable <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">get<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Targetable<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>targeted_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">for</span> targeting_entity <span class="z-keyword z-operator z-rust">in</span> targetable<span class="z-punctuation z-accessor z-dot z-rust">.</span>targeted_by <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Track down the entity that's targeting us
</span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> targeting <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">get_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Target<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>targeting_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> And clear its target, cleaning up any dangling references
</span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                targeting<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-type z-rust">None</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h4 id=observers>Observers</h4><p>Observers are on-demand systems that listen to "triggered" events. These events can be triggered for specific entities <em>or</em> they can be triggered "globally" (no entity target).<p>In contrast to hooks, observers are a flexible tool intended for higher level application logic. They can watch for when user-defined events are triggered.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Event</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Message</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">text</span><span class="z-punctuation z-separator z-type z-rust">:</span> String
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Message<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span><span class="z-constant z-other z-placeholder z-rust">{}</span><span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>message<span class="z-punctuation z-accessor z-dot z-rust">.</span>text<span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Observers are run <em>immediately</em> when an event they are watching for is triggered:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> All registered `Message` observers are immediately run here
</span></span><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Message <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> text<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_string</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>If an event is triggered via a <a href=https://docs.rs/bevy/0.14/bevy/ecs/world/trait.Command.html><code>Command</code></a>, the observers will run when the <a href=https://docs.rs/bevy/0.14/bevy/ecs/world/trait.Command.html><code>Command</code></a> is flushed:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">send_message</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This will trigger all `Message` observers when this system's commands are flushed
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Message <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> text<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>Hello<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_string</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span> </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Events can also be triggered with an entity target:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Event</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Resize</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-variable z-other z-member z-rust">size</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">usize</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Resize <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> size<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">10</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span> some_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>You can trigger an event for more than one entity at the same time:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Resize <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> size<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">10</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>e1<span class="z-punctuation z-separator z-rust">,</span> e2<span class="z-punctuation z-section z-group z-end z-rust">]</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>A "global" observer will be executed when <em>any</em> target is triggered:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>on_resize</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_resize</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Resize<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Size<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> size <span class="z-keyword z-operator z-assignment z-rust">=</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    size<span class="z-punctuation z-accessor z-dot z-rust">.</span>value <span class="z-keyword z-operator z-assignment z-rust">=</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>size<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span> 
</span></code></pre><p>Notice that observers can use system parameters like <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html><code>Query</code></a>, just like a normal system.<p>You can also add observers that only run for <em>specific</em> entities:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Widget</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Resize<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>This specific widget entity was resized!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Observers are actually just an entity with the <a href=https://docs.rs/bevy/0.14/ecs/observer/struct.Observer.html><code>Observer</code></a> component. All of the <code>observe()</code> methods used above are just shorthand for spawning a new observer entity. This is what a "global" observer entity looks like:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Observer<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Message<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Likewise, an observer watching a specific entity looks like this<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Observer<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Resize<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>some_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This API makes it easy to manage and clean up observers. It also enables advanced use cases, such as sharing observers across multiple targets!<p>Now that we know a bit about observers, lets examine the API through a simple gameplay-flavored example:<details><summary>Click to expand...</summary> <pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Event</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">DealDamage</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">damage</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">u8</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Event</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">LoseLife</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">life_lost</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">u8</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Event</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">PlayerDeath</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Player</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Life</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-type z-rust">u8</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Defense</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-type z-rust">u8</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component<span class="z-punctuation z-separator z-rust">,</span> Deref<span class="z-punctuation z-separator z-rust">,</span> DerefMut</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Damage</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-storage z-type z-rust">u8</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Monster</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Startup<span class="z-punctuation z-separator z-rust">,</span> spawn_player</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Update<span class="z-punctuation z-separator z-rust">,</span> attack_player</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>on_player_death</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_player</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Player<span class="z-punctuation z-separator z-rust">,</span> Life<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">10</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> Defense<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>on_damage_taken</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">observe</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>on_losing_life</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">attack_player</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">monster_query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Damage, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Monster<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">player_query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Player<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> player_entity <span class="z-keyword z-operator z-assignment z-rust">=</span> player_query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">single</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> damage <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span>monster_query <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>DealDamage <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> damage<span class="z-punctuation z-separator z-rust">:</span> damage<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span> player_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_damage_taken</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>DealDamage<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Defense<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> defense <span class="z-keyword z-operator z-assignment z-rust">=</span> query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> damage <span class="z-keyword z-operator z-assignment z-rust">=</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>damage<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> life_lost <span class="z-keyword z-operator z-assignment z-rust">=</span> damage<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">saturating_sub</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>defense<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Observers can be chained into each other by sending more triggers using commands.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This is what makes observers so powerful ... this chain of events is evaluated
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> as a single transaction when the first event is triggered.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger_targets</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>LoseLife <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> life_lost </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_losing_life</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>LoseLife<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">life_query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> Life<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">player_query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Player<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> life <span class="z-keyword z-operator z-assignment z-rust">=</span> life_query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">get_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> life_lost <span class="z-keyword z-operator z-assignment z-rust">=</span> trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">event</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>life_lost<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    life<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> life<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-support z-function z-rust">saturating_sub</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>life_lost</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">if</span> life<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-comparison z-rust">==</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">0</span> <span class="z-keyword z-operator z-logical z-rust">&&</span> player_query<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">contains</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>trigger<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">trigger</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>PlayerDeath</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">on_player_death</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">_trigger</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Trigger<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>PlayerDeath<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">app_exit</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventWriter<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AppExit<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>You died. Game over!<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    app_exit<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send_default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre></details><p>In the future, we intend to use hooks and observers to <a href=https://github.com/bevyengine/bevy/issues/13928>replace <code>RemovedComponents</code></a>, <a href=https://github.com/bevyengine/bevy/issues/12235>make our hierarchy management more robust</a>, create a first-party replacement for <a href=https://github.com/aevyrie/bevy_eventlistener><code>bevy_eventlistener</code></a> as part of our UI work, and <a href=https://github.com/bevyengine/rfcs/pull/79>build out relations</a>. These are powerful, general-purpose tools: we can't wait to see the mad science the community cooks up with them!<p>When you're ready to get started, check out the <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/ecs/component_hooks.rs><code>component hooks</code></a> and <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/ecs/observers.rs><code>observers</code></a> examples for more API details.<h2 id=gltf-khr-texture-transform-support>glTF KHR_texture_transform Support <a class=anchor-link href=#gltf-khr-texture-transform-support>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/janhohenheim>@janhohenheim</a>, <a class=heading-meta__item href=https://github.com/yrns>@yrns</a>, <a class=heading-meta__item href=https://github.com/Kanabenki>@Kanabenki</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11904>#11904</a></div></div><p>The GLTF extension <code>KHR_texture_transform</code> is used to transform a texture before applying it. By reading this extension, Bevy can now support a variety of new workflows. The one we want to highlight here is the ability to easily repeat textures a set number of times. This is useful for creating textures that are meant to be tiled across a surface. We will show how to do this using Blender, but the same principles apply to any 3D modeling software.<p>Let's look at an example scene that we've prepared in Blender, exported as a GLTF file and loaded into Bevy. We will first use the most basic shader node setup available in Blender:<p><img alt="Basic shader node setup" src=basic_nodes.jpg><p>The result is the following scene in Bevy:<p><img alt="Scene with stretched textures" src=bevy_no_rep.jpg><p>Oh no! Everything is stretched! This is because we have set up our UVs in a way that maps the texture exactly once onto the mesh. There are a few ways to deal with this, but the most convenient is to add shader nodes that scale the texture so that it repeats:<p><img alt="Repeating shader node setup" src=rep_nodes.jpg><p>The data of the <code>Mapping</code> node is the one exported to <code>KHR_texture_transform</code>. Look at the part in red. These scaling factors determine how often the texture should be repeated in the material. Tweaking this value for all textures results in a much nicer render:<p><img alt="Scene with repeated textures" src=bevy_rep.jpg><h2 id=ui-node-border-radius>UI Node Border Radius <a class=anchor-link href=#ui-node-border-radius>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/chompaa>@chompaa</a>, <a class=heading-meta__item href=https://github.com/pablo-lua>@pablo-lua</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a>, <a class=heading-meta__item href=https://github.com/bushrat011899>@bushrat011899</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12500>#12500</a></div></div><p>Border radius for UI nodes has been a long-requested feature for Bevy. Now it's supported!<p>To apply border radius to a UI node, there is a new component <a href=https://docs.rs/bevy/0.14/bevy/prelude/struct.BorderRadius.html><code>BorderRadius</code></a>. <a href=https://docs.rs/bevy/0.14/bevy/prelude/struct.NodeBundle.html><code>NodeBundle</code></a> and <a href=https://docs.rs/bevy/0.14/bevy/prelude/struct.ButtonBundle.html><code>ButtonBundle</code></a> now have a field for this component called <code>border_radius</code>:<pre class="language-rs z-code" data-lang=rs><code class=language-rs data-lang=rs><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>NodeBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    style<span class="z-punctuation z-separator z-rust">:</span> Style <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        width<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        height<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We need a border to round a border, after all!
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        border<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">UiRect<span class="z-punctuation z-accessor z-rust">::</span></span>all<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    border_color<span class="z-punctuation z-separator z-rust">:</span> BorderColor<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">BLACK</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Apply the radius to all corners. 
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Optionally, you could use `BorderRadius::all`.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    border_radius<span class="z-punctuation z-separator z-rust">:</span> BorderRadius <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        top_left<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        top_right<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        bottom_right<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        bottom_left<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">50.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>There's a <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/ui/rounded_borders.rs>new example</a> showcasing this new API, a screenshot of which can be seen below:<p><img alt="rounded_borders example" src=./rounded_borders.jpg><h2 id=animation-blending-with-the-animationgraph>Animation Blending with the <code>AnimationGraph</code> <a class=anchor-link href=#animation-blending-with-the-animationgraph>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a>, <a class=heading-meta__item href=https://github.com/rparrett>@rparrett</a>, <a class=heading-meta__item href=https://github.com/james7132>@james7132</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11989>#11989</a></div></div><p>Through the eyes of a beginner, handling animation seems simple enough. Define a series of keyframes which transform the various bits of your model to match those poses. We slap some interpolation on there to smoothly move between them, and the user tells you when to start and stop the animation. Easy!<p>But modern animation pipelines (especially in 3D!) are substantially more complex: animators expect to be able to smoothly blend and programmatically alter different animations dynamically in response to gameplay. In order to capture this richness, the industry has developed the notion of an <strong>animation graph</strong>, which is used to couple the underlying <a href=https://en.wikipedia.org/wiki/Finite-state_machine>state machine</a> of a game object to the animations that should be playing, and the transitions that should occur between each of the various states.<p>A player character may be walking, running, slashing a sword, defending with a sword... to create a polished effect, animators need to be able to change between these animations smoothly, change the speed of the walk cycle to match the movement speed along the ground and even perform multiple animations at once!<p>In Bevy 0.14, we've implemented the <a href=https://github.com/bevyengine/rfcs/blob/main/rfcs/51-animation-composition.md>Animation Composition RFC</a>, providing a low-level API that brings code- and asset-driven animation blending to Bevy.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">ExampleAnimationGraph</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">Handle<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AnimationGraph<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">programmatic_animation_graph</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">asset_server</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AssetServer<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">animation_graphs</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Assets<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AnimationGraph<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create the nodes.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> animation_graph <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">AnimationGraph<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> blend_node <span class="z-keyword z-operator z-assignment z-rust">=</span> animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_blend</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-separator z-rust">,</span> animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span>root</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_clip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GltfAssetLabel<span class="z-punctuation z-accessor z-rust">::</span></span>Animation<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">from_asset</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/animated/Fox.glb<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span>root<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_clip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GltfAssetLabel<span class="z-punctuation z-accessor z-rust">::</span></span>Animation<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">from_asset</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/animated/Fox.glb<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        blend_node<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    animation_graph<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_clip</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GltfAssetLabel<span class="z-punctuation z-accessor z-rust">::</span></span>Animation<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">2</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">from_asset</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/animated/Fox.glb<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        blend_node<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Add the graph to our collection of assets.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> handle <span class="z-keyword z-operator z-assignment z-rust">=</span> animation_graphs<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>animation_graph</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Hold onto the handle
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>ExampleAnimationGraph<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>handle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>While it can be used to great effect today, most animators will ultimately prefer editing these graphs with a GUI. We plan to build a GUI on top of this API as part of the fabled Bevy Editor. Today, there are also third party solutions like <a href=https://crates.io/crates/bevy_animation_graph><code>bevy_animation_graph</code></a>.<p>To learn more and see what the asset-driven approach looks like, take a look at the new <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/animation/animation_graph.rs><code>animation_graph</code> example</a>.<h2 id=improved-color-api>Improved Color API <a class=anchor-link href=#improved-color-api>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/viridia>@viridia</a>, <a class=heading-meta__item href=https://github.com/mockersf>@mockersf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12013>#12013</a></div></div><p>Colors are a huge part of building a good game: UI, effects, shaders and more all need fully-featured, correct and convenient color tools.<p>Bevy now supports a broad selection of color spaces, each with their own type (e.g. <a href=https://docs.rs/bevy/0.14/bevy/color/struct.LinearRgba.html><code>LinearRgba</code></a>, <a href=https://docs.rs/bevy/0.14/bevy/color/struct.Hsla.html><code>Hsla</code></a>, <a href=https://docs.rs/bevy/0.14/bevy/color/struct.Oklaba.html><code>Oklaba</code></a>), and offers a wide range of fully documented operations on and conversions between them.<p>The new API is more error-resistant, more idiomatic and allows us to save work by storing the <a href=https://docs.rs/bevy/0.14/bevy/color/struct.LinearRgba.html><code>LinearRgba</code></a> type in our rendering internals. This solid foundation has allowed us to implement a wide range of useful operations, clustered into traits like <a href=https://docs.rs/bevy/0.14/bevy/color/trait.Hue.html><code>Hue</code></a> or <a href=https://docs.rs/bevy/0.14/bevy/color/trait.Alpha.html><code>Alpha</code></a>, allowing you to operate over any color space with the required property. Critically, color mixing / blending is now supported: perfect for procedurally generating color palettes and working with animations.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy_color<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Each color space now corresponds to a specific type
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> red <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Srgba<span class="z-punctuation z-accessor z-rust">::</span></span>rgb<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> All non-standard color space conversions are done through the shortest path between
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the source and target color spaces to avoid a quadratic explosion of generated code.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This conversion...
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> red <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Oklcha<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>red</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...is implemented using
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> red <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Oklcha<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Oklaba<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">LinearRgba<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>red</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We've added the `tailwind` palette colors: perfect for quick-but-pretty prototyping!
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> And the existing CSS palette is now actually consistent with the industry standard :p
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> blue <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">tailwind<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">BLUE_500</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The color space that you're mixing your colors in has a huge impact!
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Consider using the scientifically-motivated `Oklcha` or `Oklaba` for a perceptually uniform effect.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> purple <span class="z-keyword z-operator z-assignment z-rust">=</span> red<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">mix</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>blue<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Most of the user-facing APIs still accept a colorspace-agnostic <a href=https://docs.rs/bevy/0.14/bevy/color/enum.Color.html><code>Color</code></a> (which now wraps our color-space types), while rendering internals use the physically-based <a href=https://docs.rs/bevy/0.14/bevy/color/struct.LinearRgba.html><code>LinearRgba</code></a> type. For an overview of the different color spaces, and what they're each good for, please check out our <a href=https://docs.rs/bevy/0.14/bevy/color/index.html#color-space-usage>color space usage</a> documentation.<p><code>bevy_color</code> offers a solid, type-safe foundation, but it's just getting started. If you'd like another color space or there are more things you'd like to do to your colors, please open an issue or PR and we'd be happy to help!<p>Also note that <code>bevy_color</code> is intended to operate effectively as a stand-alone crate: feel free to take a dependency on it for your non-Bevy projects as well.<h2 id=extruded-shapes>Extruded Shapes <a class=anchor-link href=#extruded-shapes>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/lynn-lumen>@lynn-lumen</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13270>#13270</a></div></div><p><strong>Bevy 0.14</strong> introduces an entirely new group of primitives: extrusions!<p>An extrusion is a 2D primitive (the base shape) that is <em>extruded</em> into a third dimension by some depth. The resulting shape is a prism (or in the special case of the circle, a cylinder).<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create an ellipse with width 2 and height 1.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> my_ellipse <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Ellipse<span class="z-punctuation z-accessor z-rust">::</span></span>from_size<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create an extrusion of this ellipse with a depth of 1.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> my_extrusion <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Extrusion<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_ellipse<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>All extrusions are extruded along the Z-axis. This guarantees that an extrusion of depth 0 and the corresponding base shape are identical, just as one would expect.<h4 id=measuring-and-sampling>Measuring and Sampling</h4><p>Since all extrusions with base shapes that implement <a href=https://docs.rs/bevy/0.14/bevy/math/prelude/trait.Measured2d.html><code>Measured2d</code></a> implement <a href=https://docs.rs/bevy/0.14/bevy/math/prelude/trait.Measured3d.html><code>Measured3d</code></a>, you can easily get the surface area or volume of an extrusion. If you have an extrusion of a custom 2D primitive, you can simply implement <a href=https://docs.rs/bevy/0.14/bevy/math/prelude/trait.Measured2d.html><code>Measured2d</code></a> for your primitive and <a href=https://docs.rs/bevy/0.14/bevy/math/prelude/trait.Measured3d.html><code>Measured3d</code></a> will be implemented automatically for the extrusion.<p>Likewise, you can sample the boundary and interior of any extrusion if the base shape of the extrusion implements <a href=https://docs.rs/bevy/0.14/bevy/math/trait.ShapeSample.html><code>ShapeSample&LTOutput = Vec2></code></a> and <a href=https://docs.rs/bevy/0.14/bevy/math/prelude/trait.Measured2d.html><code>Measured2d</code></a>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create a 2D capsule with radius 1 and length 2, extruded to a depth of 3
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> extrusion <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Extrusion<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Capsule2d<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Get the volume of the extrusion
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> volume <span class="z-keyword z-operator z-assignment z-rust">=</span> extrusion<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">volume</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Get the surface area of the extrusion
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> surface_area <span class="z-keyword z-operator z-assignment z-rust">=</span> extrusion<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">area</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Create a random number generator
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> rng <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">StdRng<span class="z-punctuation z-accessor z-rust">::</span></span>seed_from_u64<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">4</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Sample a random point inside the extrusion
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> interior_sample <span class="z-keyword z-operator z-assignment z-rust">=</span> extrusion<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_interior</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Sample a random point on the surface of the extrusion
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> boundary_sample <span class="z-keyword z-operator z-assignment z-rust">=</span> extrusion<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_boundary</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h4 id=bounding>Bounding</h4><p>You can also get bounding spheres and Axis Aligned Bounding Boxes (AABBs) for extrusions. If you have a custom 2D primitive that implements <a href=https://docs.rs/bevy/0.14/bevy/math/bounding/trait.Bounded2d.html><code>Bounded2d</code></a>, you can simply implement <a href=https://docs.rs/bevy/0.14/bevy/math/bounding/trait.BoundedExtrusion.html><code>BoundedExtrusion</code></a>) for your primitive. The default implementation will give optimal results but may be slower than a solution fitted to your primitive.<h4 id=meshing>Meshing</h4><p>Extrusions do not exist in the world of maths only though. They can also be meshed and displayed on the screen!<p>And again, adding meshing support for your own primitives is made easy by Bevy! You simply need to implement meshing for your 2D primitive and then implement <a href=https://docs.rs/bevy/0.14/bevy/render/mesh/trait.Extrudable.html><code>Extrudable</code></a> for your 2D primitive's <a href=https://docs.rs/bevy/0.14/bevy/prelude/trait.MeshBuilder.html><code>MeshBuilder</code></a>.<p>When implementing <a href=https://docs.rs/bevy/0.14/bevy/render/mesh/trait.Extrudable.html><code>Extrudable</code></a>, you have to provide information about whether segments of the perimeter of the base shape are to be shaded smooth or flat, and what vertices belong to each of these perimeter segments.<p><img alt="a 2D heart primitive and its extrusion" src=heart_extrusion.jpg><p>The <a href=https://docs.rs/bevy/0.14/bevy/render/mesh/trait.Extrudable.html><code>Extrudable</code></a> trait allows you to easily implement meshing for extrusions of custom primitives. Of course, you could also implement meshing manually for your extrusion.<p>If you want to see a full implementation of this, you can check out the <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/math/custom_primitives.rs>custom primitives example</a>.<h2 id=more-gizmos>More Gizmos <a class=anchor-link href=#more-gizmos>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a>, <a class=heading-meta__item href=https://github.com/Kanabenki>@Kanabenki</a>, <a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a>, <a class=heading-meta__item href=https://github.com/solis-lumine-vorago>@solis-lumine-vorago</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12211>#12211</a></div></div><p>Gizmos in Bevy allow developers to easily draw arbitrary shapes to help debugging or authoring content, but also to visualize specific properties of your scene, such has the AABB of your meshes.<p>In 0.14, several new gizmos have been added to <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/index.html><code>bevy::gizmos</code></a>:<h4 id=rounded-box-gizmos>Rounded box gizmos</h4><p>Rounded boxes and cubes are great for visualizing regions and colliders.<p>If you set the <code>corner_radius</code> or <code>edge_radius</code> to a positive value, the corners will be rounded outwards. However, if you provide a negative value, the corners will flip and curve inwards.<p><img alt="rounded gizmos cuboids" src=gizmos_rounded_cuboid.jpg> <img alt="rounded gizmos rectangles" src=gizmos_rounded_rect.jpg><h4 id=grid-gizmos>Grid Gizmos</h4><p>New grid gizmo types were added with <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/prelude/struct.Gizmos.html#method.grid_2d><code>Gizmos::grid_2d</code></a> and <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/prelude/struct.Gizmos.html#method.grid><code>Gizmos::grid</code></a> to draw a plane grid in either 2D or 3D, alongside <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/prelude/struct.Gizmos.html#method.grid_3d><code>Gizmos::grid_3d</code></a> to draw a 3D grid.<p>Each grid type can be skewed, scaled and subdivided along its axis, and you can separately control which outer edges to draw.<p><img alt="Grid gizmos screenshot" src=grid_gizmos.jpg><h4 id=coordinate-axes-gizmo>Coordinate Axes Gizmo</h4><p>The new <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/prelude/struct.Gizmos.html#method.axes><code>Gizmos::axes</code></a> add a simple way to show the position, orientation and scale of any object from its <a href=https://docs.rs/bevy/0.14.0/bevy/prelude/struct.Transform.html><code>Transform</code></a> plus a base size. The size of each axis arrow is proportional to the corresponding axis scale in the provided <a href=https://docs.rs/bevy/0.14.0/bevy/prelude/struct.Transform.html><code>Transform</code></a>.<p><img alt="Axes gizmo screenshot" src=axes_gizmo.jpg><h4 id=light-gizmos>Light Gizmos</h4><p>The new <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/light/struct.ShowLightGizmo.html><code>ShowLightGizmo</code></a> component implements a retained gizmo to visualize lights for <a href=https://docs.rs/bevy/0.14.0/bevy/pbr/struct.SpotLight.html><code>SpotLight</code></a>, <a href=https://docs.rs/bevy/0.14.0/bevy/pbr/struct.PointLight.html><code>PointLight</code></a> and <a href=https://docs.rs/bevy/0.14.0/bevy/pbr/struct.DirectionalLight.html><code>DirectionalLight</code></a>. Most light properties are visually represented by the gizmos, and the gizmo color can be set to match the light instance or use a variety of other behaviors.<p>Similar to other retained gizmos, <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/light/struct.ShowLightGizmo.html><code>ShowLightGizmo</code></a> can be configured per-instance or globally with <a href=https://docs.rs/bevy/0.14.0/bevy/gizmos/light/struct.LightGizmoConfigGroup.html><code>LightGizmoConfigGroup</code></a>.<p><img alt="Light gizmos screenshot" src=light_gizmos.jpg><h2 id=gizmo-line-styles-and-joints>Gizmo Line Styles and Joints <a class=anchor-link href=#gizmo-line-styles-and-joints>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/lynn-lumen>@lynn-lumen</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12394>#12394</a></div></div><p>Previous versions of Bevy supported drawing line gizmos:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">draw_gizmos</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">gizmos</span><span class="z-punctuation z-separator z-rust">:</span> Gizmos</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">line_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>splat<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">80.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-other z-rust">RED</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>However the only way to customize gizmos was to change their color, which may be limiting for some use cases. Additionally, the meeting points of two lines in a line strip, their <em>joints</em>, had little gaps.<p>As of Bevy 0.14, you can change the style of the lines and their joints for each gizmo config group:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">draw_gizmos</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">gizmos</span><span class="z-punctuation z-separator z-rust">:</span> Gizmos</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    gizmos<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">line_2d</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec2<span class="z-punctuation z-accessor z-rust">::</span></span>splat<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">80.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-other z-rust">RED</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">setup</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">config_store</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GizmoConfigStore<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Get the config for you gizmo config group
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>config<span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-rust">_</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> config_store<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">config_mut<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>DefaultGizmoConfigGroup<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Set the line style and joints for this config group
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    config<span class="z-punctuation z-accessor z-dot z-rust">.</span>line_style <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">GizmoLineStyle<span class="z-punctuation z-accessor z-rust">::</span></span>Dotted<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    config<span class="z-punctuation z-accessor z-dot z-rust">.</span>line_joints <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">GizmoLineJoint<span class="z-punctuation z-accessor z-rust">::</span></span>Bevel<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>The new line styles can be used in both 2D and 3D and respect the <code>line_perspective</code> option of their config groups.<p>Available line styles are:<ul><li><code>GizmoLineStyle::Dotted</code>: draws a dotted line with each dot being a square<li><code>GizmoLineStyle::Solid</code>: draws a solid line - this is the default behavior and the only one available before Bevy 0.14</ul><p><img alt="new gizmos line styles" src=gizmos_line_styles.jpg><p>Similarly, the new line joints offer a variety of options:<ul><li><code>GizmoLineJoint::Miter</code>, which extends both lines until they meet at a common miter point,<li><code>GizmoLineJoint::Round(resolution)</code>, which will approximate an arc filling the gap between the two lines. The <code>resolution</code> determines the amount of triangles used to approximate the geometry of the arc.<li><code>GizmoLineJoint::Bevel</code>, which connects the ends of the two joining lines with a straight segment, and<li><code>GizmoLineJoint::None</code>, which uses no joints and leaves small gaps - this is the default behavior and the only one available before Bevy 0.14.</ul><p><img alt="new gizmos line joints" src=gizmos_line_joints.jpg><p>You can check out the <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/gizmos/2d_gizmos.rs>2D gizmos example</a>, which demonstrates the use of line styles and joints!<h2 id=ui-node-outline-gizmos>UI Node Outline Gizmos <a class=anchor-link href=#ui-node-outline-gizmos>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pablo-lua>@pablo-lua</a>, <a class=heading-meta__item href=https://github.com/nicopap>@nicopap</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11237>#11237</a></div></div><p>When working with UI on the web, being able to quickly debug the size of all your boxes is wildly useful. We now have a native <a href=https://docs.rs/bevy/0.14/bevy/dev_tools/ui_debug_overlay/struct.DebugUiPlugin.html>layout tool</a> which adds gizmos outlines to all <a href=https://docs.rs/bevy/0.14/bevy/ui/struct.Node.html>Nodes</a><p>An example of what the tool looks like after enabled<p><img alt="Ui example with the overlay tool enabled" src=bevy_ui_outlines.jpg><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> You first have to add the DebugUiPlugin to your app
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">dev_tools<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">ui_debug_overlay<span class="z-punctuation z-accessor z-rust">::</span></span>DebugUiPlugin</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> In order to enable the tool at runtime, you can add a system to toggle it
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">toggle_overlay</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">input</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">ButtonInput<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>KeyCode<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">options</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ResMut<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">dev_tools<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">ui_debug_overlay<span class="z-punctuation z-accessor z-rust">::</span></span>UiDebugOptions<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">info_once!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>The debug outlines are enabled, press Space to turn them on/off<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">if</span> input<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">just_pressed</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">KeyCode<span class="z-punctuation z-accessor z-rust">::</span></span>Space</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The toggle method will enable the debug_overlay if disabled and disable if enabled
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        options<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">toggle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> And add the system to the app
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Update<span class="z-punctuation z-separator z-rust">,</span> toggle_overlay</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=contextually-clearing-gizmos>Contextually Clearing Gizmos <a class=anchor-link href=#contextually-clearing-gizmos>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Aceeri>@Aceeri</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/10973>#10973</a></div></div><p>Gizmos are drawn via an immediate mode API. This means that every <strong>update</strong> you draw all gizmos you want to display, and only those will be shown. Previously, update referred to "once every time the <code>Main</code> schedule runs". This matches the frame rate, so it usually works great! But when you try to draw gizmos during <code>FixedMain</code>, they will flicker or be rendered multiple times. In Bevy 0.14, this now just works!<p>This can be extended for use with custom schedules. Instead of a single storage, there now are multiple <a href=https://docs.rs/bevy/0.14/bevy/gizmos/gizmos/struct.GizmoStorage.html>storages</a> differentiated by a context type parameter. You can also set a type parameter on the <a href=https://docs.rs/bevy/0.14/bevy/gizmos/gizmos/struct.Gizmos.html><code>Gizmos</code></a> system param to choose what storage to write to. You choose when storages you add get drawn or cleared: Any gizmos in the default storage (the <code>()</code> context) during the <code>Last</code> schedule will be shown.<h2 id=query-joins>Query Joins <a class=anchor-link href=#query-joins>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/hymm>@hymm</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11535>#11535</a></div></div><p>ECS Queries can now be combined, returning the data for entities that are contained in both queries.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">helper_function</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">a</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-variable z-parameter z-rust">b</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>B<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>    
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> a_and_b<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">QueryLens<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-keyword z-operator z-rust">&</span>A, <span class="z-keyword z-operator z-rust">&</span>B<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> a<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">join</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>b</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>a_and_b<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">len</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-comparison z-rust"><=</span> a<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">len</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">assert!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>a_and_b<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">len</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-comparison z-rust"><=</span> b<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">len</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>In most cases, you should continue to simply add more parameters to your original query. <code>Query<&A, &B></code> will generally be clearer than joining them later. But when a complex system or helper function backs you into a corner, query joins are there if you need them.<p>If you're familiar with database terminology, this is an <a href=https://www.w3schools.com/sql/sql_join.asp>"inner join"</a>. Other types of query joins are being considered. Maybe you could take a crack at the <a href=https://github.com/bevyengine/bevy/issues/13633>follow-up issue</a>?<h2 id=computed-states-sub-states>Computed States & Sub-States <a class=anchor-link href=#computed-states-sub-states>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/lee-orr>@lee-orr</a>, <a class=heading-meta__item href=https://github.com/marcelchampagne>@marcelchampagne</a>, <a class=heading-meta__item href=https://github.com/MiniaczQ>@MiniaczQ</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11426>#11426</a></div></div><p>Bevy's <a href=https://docs.rs/bevy/0.14/bevy/prelude/trait.States.html><code>States</code></a> are a simple but powerful abstraction for managing the control flow of your app.<p>But as users' games (and non-game applications!) grew in complexity, their limitations became more apparent. What happens if we want to capture the notion of "in a menu", but then have different states corresponding to which submenu should be open? What if we want to ask questions like "is the game paused", but that question only makes sense while we're within a game?<p>Finding a good abstraction for this required <a href=https://github.com/bevyengine/bevy/pull/9957>several</a> <a href=https://github.com/bevyengine/bevy/pull/10088>attempts</a> and a great deal of both experimentation and discussion.<p>While your existing <a href=https://docs.rs/bevy/0.14/bevy/prelude/trait.States.html><code>States</code></a> code will work exactly as before, there are now two additional tools you can reach for if you're looking for more expressiveness: <strong>computed states</strong> and <strong>sub states</strong>.<p>Let's begin with a simple state declaration:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">States<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> Debug<span class="z-punctuation z-separator z-rust">,</span> Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-storage z-type z-enum z-rust">enum</span> <span class="z-entity z-name z-enum z-rust">GameState</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">default</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    Menu<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    InGame <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        paused<span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">bool</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>The addition of <code>pause</code> field means that simply checking for <code>GameState::InGame</code> doesn't work ... the states are different depending on its value and we may want to distinguish between game systems that run when the game is paused or not!<h4 id=computed-states>Computed States</h4><p>While we can simply do <code>OnEnter(GameState::InGame{paused: true})</code>, we need to be able to reason about "while we're in the game, paused or not". To this end, we define the <code>InGame</code> computed state:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">InGame</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">ComputedStates <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">InGame</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Computed states can be calculated from one or many source states.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">SourceStates</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> GameState<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Now, we define the rule that determines the value of our computed state.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">compute</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">sources</span><span class="z-punctuation z-separator z-rust">:</span> GameState</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>InGame<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">match</span> sources <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We can use pattern matching to express the
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span>"I don't care whether or not the game is paused" logic!
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-path z-rust">GameState<span class="z-punctuation z-accessor z-rust">::</span></span>InGame <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span><span class="z-keyword z-operator z-range z-rust">..</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-support z-type z-rust">Some</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>InGame</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-operator z-rust">_</span> <span class="z-keyword z-operator z-rust">=></span> <span class="z-support z-type z-rust">None</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h4 id=sub-states>Sub-States</h4><p>In contrast, sub-states should be used when you want to keep manual control over the value through <code>NextState</code>, but still bind their existence to some parent state.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">SubStates<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> Debug<span class="z-punctuation z-separator z-rust">,</span> Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This macro means that `GamePhase` will only exist when we're in the `InGame` computed state.
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The intermediate computed state is helpful for clarity here, but isn't required:
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> you can manually `impl SubStates` for more control, multiple parent states and non-default initial value!
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">source</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">InGame <span class="z-keyword z-operator z-rust">=</span> InGame</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-storage z-type z-enum z-rust">enum</span> <span class="z-entity z-name z-enum z-rust">GamePhase</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">default</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    Setup<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    Battle<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">    Conclusion
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h4 id=initialization>Initialization</h4><p>Initializing our states is easy: just call the appropriate method on <code>App</code> and all of the required machinery will be set up for you.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">   <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">init_state<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GameState<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">   <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_computed_state<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>InGame<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">   <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">add_sub_state<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GamePhase<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>Just like any other state, computed states and substates work with all of the tools you're used to: the <code>State</code> and <code>NextState</code> resources, <code>OnEnter</code>, <code>OnExit</code> and <code>OnTransition</code> schedules and the <code>in_state</code> run condition. Make sure to visit <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/state/computed_states.rs>both</a> <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/state/sub_states.rs>examples</a> for more information!<p>The only exception is that, for correctness, computed states <em>cannot</em> be mutated through <code>NextState</code>. Instead, they are strictly derived from their parent states; added, removed and updated automatically during state transitions based on the provided <code>compute</code> method.<p>All of Bevy's state tools are now found in a dedicated <code>bevy_state</code> crate, which can be controlled via a feature flag. Yearning for the days of state stacks? Wish that there was a method for re-entering states? All of the state machinery relies <em>only</em> on public ECS tools: resources, schedules, and run conditions, making it easy to build on top of. We know that state machines are very much a matter of taste; so if our design isn't to your taste consider taking advantage of Bevy's modularity and writing your own abstraction or using one supplied by the community!<h2 id=state-scoped-entities>State Scoped Entities <a class=anchor-link href=#state-scoped-entities>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MiniaczQ>@MiniaczQ</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a>, <a class=heading-meta__item href=https://github.com/mockersf>@mockersf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13649>#13649</a></div></div><p>State scoped entities is a pattern that naturally emerged in community projects. <strong>Bevy 0.14</strong> has embraced it!<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Clone<span class="z-punctuation z-separator z-rust">,</span> Copy<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> Debug<span class="z-punctuation z-separator z-rust">,</span> Default<span class="z-punctuation z-separator z-rust">,</span> States</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-storage z-type z-enum z-rust">enum</span> <span class="z-entity z-name z-enum z-rust">GameState</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"> <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">default</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">  Menu<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust">  InGame<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-enum z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_player</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We mark this entity with the `StateScoped` component.
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> When the provided state is exited, the entity will be
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> deleted recursively with all children.
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        StateScoped<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GameState<span class="z-punctuation z-accessor z-rust">::</span></span>InGame</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">        SpriteBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-keyword z-operator z-range z-rust">...</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">init_state<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GameState<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> We need to install the appropriate machinery for the cleanup code
</span></span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> to run, once for each state type.
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">enable_state_scoped_entities<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>GameState<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>OnEnter<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GameState<span class="z-punctuation z-accessor z-rust">::</span></span>InGame</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> spawn_player</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>By binding entity lifetime to a state during setup, we can dramatically reduce the amount of cleanup code we have to write!<h2 id=state-identity-transitions>State Identity Transitions <a class=anchor-link href=#state-identity-transitions>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MiniaczQ>@MiniaczQ</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13579>#13579</a></div></div><p>Users have sometimes asked for us to trigger exit and entry steps when moving from a state to itself. While this has its uses (refreshing is the core idea), it can be surprising and unwanted in other cases. We've found a compromise that lets users hook into this type of transition if it's something they need.<p><code>StateEventTransition</code> events will now include transitions from a state to itself, which will also propagate to all dependent <code>ComputedStates</code> and <code>SubStates</code>.<p>Because it is a niche feature, <code>OnExit</code> and <code>OnEnter</code> schedules will ignore the new identity transitions by default, but you can visit the new <a href=https://github.com/bevyengine/bevy/tree/v0.14.0/examples/state/custom_transitions.rs><code>custom_transitions</code></a> example to see how you can bypass or change that behavior!<h2 id=gpu-frustum-culling>GPU Frustum Culling <a class=anchor-link href=#gpu-frustum-culling>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12889>#12889</a></div></div><p>Bevy's rendering stack is often CPU-bound: by shifting more work onto the GPU, we can better balance the load and render more shiny things faster. Frustum culling is an optimization technique that automatically hides objects that are outside of a camera's view (its frustum). In Bevy 0.14, users can choose to have this work performed on the GPU, depending on the performance characteristics of their project.<p>Two new components are available to control frustum culling: <code>GpuCulling</code> and <code>NoCpuCulling</code>. Attach the appropriate combination of these components to a camera, and you're set.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Camera3dBundle<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Enable GPU frustum culling (does not automatically disable CPU frustum culling).
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    GpuCulling<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Disable CPU frustum culling.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    NoCpuCulling
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=world-command-queue>World Command Queue <a class=anchor-link href=#world-command-queue>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/james7132>@james7132</a>, <a class=heading-meta__item href=https://github.com/james-j-obrien>@james-j-obrien</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11823>#11823</a></div></div><p>Working with <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Commands.html><code>Commands</code></a> when you have exclusive world access has always been a pain. Create a <a href=https://docs.rs/bevy/0.14/bevy/ecs/world/struct.CommandQueue.html><code>CommandQueue</code></a>, generate a <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Commands.html><code>Commands</code></a> out of that, send your commands and then apply it? Not exactly the most intuitive solution.<p>Now, you can access the <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.World.html><code>World</code></a>'s own command queue:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> world <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">World<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> commands <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">commands</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>TestComponent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">flush_commands</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>While this isn't the most performant approach (just apply the mutations directly to the world and skip the indirection), this API can be great for quickly prototyping with or easily testing your custom commands. It is also used internally to power component lifecycle hooks and observers.<p>As a bonus, one-shot systems now apply their commands (and other deferred system params) immediately when run! We already have exclusive world access: why introduce delays and subtle bugs?<h2 id=reduced-multi-threaded-execution-overhead>Reduced Multi-Threaded Execution Overhead <a class=anchor-link href=#reduced-multi-threaded-execution-overhead>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/chescock>@chescock</a>, <a class=heading-meta__item href=https://github.com/james7132>@james7132</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11906>#11906</a></div></div><p>The largest source of overhead in Bevy's multithreaded system executor is from <a href=https://en.wikipedia.org/wiki/Context_switch>thread context switching</a>, i.e. starting and stopping threads. Each time a thread is woken up it can take up to 30us if the cache for the thread is cold. Minimizing these switches is an important optimization for the executor. In this cycle we landed two changes that show improvements for this:<h4 id=run-the-multi-threaded-executor-at-the-end-of-each-system-task>Run the multi-threaded executor at the end of each system task</h4><p>The system executor is responsible for checking that the dependencies for a system have run already and evaluating the run criteria and then running a task for that system. The old version of the multithreaded executor ran as a separate task that was woken up after each task completed. This would sometimes cause a new thread to be woken up for the executor to process the system completing.<p>By changing it so the system task tries to run the multithreaded executor after each system completes, we ensure that the multithreaded executor always runs on a thread that is already awake. This prevents one source of context switches. In practice this reduces the number of context switches per a <code>Schedule</code> run by 1-3 times, for an improvement of around 30us per schedule. When an app has many schedules, this can add up!<h4 id=combined-event-update-system>Combined Event update system</h4><p>There used to be one instance of the "event update system" for each event type. With just the <code>DefaultPlugins</code>, that results in 20+ instances of the system.<p>Each instance ran very quick, so the overhead of spawning the system tasks and waking up threads to run all these systems dominated the time it took for the <code>First</code> schedule to run. So combining all these into one system avoids this overhead and makes the <code>First</code> schedule run much faster. In testing this made running the schedule go from 140us to 25us. Again, not a <em>huge</em> win, but we're all about saving every microsecond we can!<h2 id=decouple-backgroundcolor-from-uiimage>Decouple <code>BackgroundColor</code> from <code>UiImage</code> <a class=anchor-link href=#decouple-backgroundcolor-from-uiimage>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/benfrankel>@benfrankel</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11165>#11165</a></div></div><p>UI images can now be given solid background colors:<p><img alt="UI image with background color" src=ui_image_background_color.jpg><p>The <a href=https://docs.rs/bevy/0.14/bevy/prelude/struct.BackgroundColor.html><code>BackgroundColor</code></a> component now works for UI images instead of applying a color tint on the image itself. You can still apply a color tint by setting <code>UiImage::color</code>. For example:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    ImageBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        image<span class="z-punctuation z-separator z-rust">:</span> UiImage <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            handle<span class="z-punctuation z-separator z-rust">:</span> assets<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>logo.png<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            color<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-other z-rust">DARK_RED</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    BackgroundColor<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-other z-rust">ANTIQUE_WHITE</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust">    <span class="z-meta z-path z-rust">Outline<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span>Px<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">8.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Val<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">ZERO</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-other z-rust">CRIMSON</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=combined-winitevent>Combined WinitEvent <a class=anchor-link href=#combined-winitevent>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/UkoeHB>@UkoeHB</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12100>#12100</a></div></div><p>When handling inputs, the exact ordering of the events received is often very significant, even when the events are not the same type! Consider a simple drag-and-drop operation. When, exactly, did the user release the mouse button relative to the many tiny movements that they performed? Getting these details right goes a long way to a responsive, precise user experience.<p>We now expose the blanket <a href=https://docs.rs/bevy/0.14/bevy/winit/enum.WinitEvent.html><code>WinitEvent</code></a> event stream, in addition to the existing separated event streams, which can be read and matched on directly whenever these problems arise.<h2 id=recursive-reflect-registration>Recursive Reflect Registration <a class=anchor-link href=#recursive-reflect-registration>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a>, <a class=heading-meta__item href=https://github.com/soqb>@soqb</a>, <a class=heading-meta__item href=https://github.com/cart>@cart</a>, <a class=heading-meta__item href=https://github.com/james7132>@james7132</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/5781>#5781</a></div></div><p>Bevy uses <a href=https://docs.rs/bevy_reflect/latest/bevy_reflect/>reflection</a> in order to dynamically process data for things like serialization and deserialization. A Bevy app has a <code>TypeRegistry</code> to keep track of which types exist. Users can register their custom types when initializing the app or plugin.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-generic z-rust"><span class="z-entity z-name z-struct z-rust">Data</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>T<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span></span><span class="z-meta z-struct z-rust"> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">  <span class="z-variable z-other z-member z-rust">value</span><span class="z-punctuation z-separator z-type z-rust">:</span> T,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Blob</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">  <span class="z-variable z-other z-member z-rust">contents</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">u8</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">app
</span><span class="z-source z-rust">  <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Data<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Blob<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">  <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Blob<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">  <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">u8</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>In the code above, <code>Data&LTBlob></code> depends on <code>Blob</code> which depends on <code>Vec&LTu8></code>, which means that all three types need to be manually registered— even if we only care about <code>Data&LTBlob></code>.<p>This is both tedious and error-prone, especially when these type dependencies are only used in the context of other types (i.e. they aren't used as standalone types).<p>In 0.14, any type that derives <code>Reflect</code> will automatically register all of its type dependencies. So when we register <code>Data&LTBlob></code>, <code>Blob</code> will be registered as well (which will register <code>Vec&LTu8></code>), thus simplifying our registration down to a single line:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">register_type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Data<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Blob<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p>Note that removing the registration for <code>Data&LTBlob></code> now also means that <code>Blob</code> and <code>Vec&LTu8></code> may not be registered either, unless they were registered some other way. If those types are needed as standalone types, they should be registered separately.<h2 id=rot2-type-for-2d-rotations><code>Rot2</code> Type for 2D Rotations <a class=anchor-link href=#rot2-type-for-2d-rotations>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Jondolf>@Jondolf</a>, <a class=heading-meta__item href=https://github.com/IQuick143>@IQuick143</a>, <a class=heading-meta__item href=https://github.com/tguichaoua>@tguichaoua</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11658>#11658</a></div></div><p>Ever wanted to work with rotations in 2D and get frustrated with having to choose between quaternions and a raw <code>f32</code>? Us too!<p>We've added a convenient <a href=https://docs.rs/bevy/0.14/bevy/math/struct.Rot2.html><code>Rot2</code></a> type for you, with plenty of helper methods. Feel free to replace that helper type you wrote, and submit little PRs for any useful functionality we're missing.<p><a href=https://docs.rs/bevy/0.14/bevy/math/struct.Rot2.html><code>Rot2</code></a> is a great complement to the <a href=https://docs.rs/bevy/0.14/bevy/math/struct.Dir2.html><code>Dir2</code></a> type (formerly <code>Direction2d</code>). The former represents an angle, while the latter is a unit vector. These types are similar but not interchangeable, and the choice of representation depends heavily on the task at hand. You can rotate a direction using <code>direction = rotation * Dir2::X</code>. To recover the rotation, use <code>Dir2::X::rotation_to(direction)</code> or in this case the helper <code>Dir2::rotation_from_x(direction)</code>.<p>While these types aren't used widely within the engine yet, we <em>are</em> aware of your pain and are evaluating <a href=https://github.com/bevyengine/rfcs/pull/82>proposals</a> for how we can make working with transforms in 2D more straightforward and pleasant.<h2 id=alignment-api-for-transforms>Alignment API for Transforms <a class=anchor-link href=#alignment-api-for-transforms>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12187>#12187</a></div></div><p><strong>Bevy 0.14</strong> adds a new <a href=https://docs.rs/bevy/0.14/bevy/transform/components/struct.Transform.html#method.align><code>Transform::align</code></a> function, which is a more general form of <a href=https://docs.rs/bevy/0.14/bevy/transform/components/struct.Transform.html#method.look_to><code>Transform::look_to</code></a>, which allows you to specify any local axis you want to use for the main and secondary axes.<p>This allows you to do things like point the front of a spaceship at a planet you're heading toward while keeping the right wing pointed in the direction of another ship. or point the top of a ship in the direction of the tractor beam pulling it in, while the front rotates to match the bigger ship's direction.<p>Lets consider a ship where we're going to use the front of the ship and the right wing as local axes:<p><img alt="before calling Transform::align" src=align-before-move.jpg><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> point the local negative-z axis in the global Y axis direction
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> point the local x-axis in the global Z axis direction
</span></span><span class="z-source z-rust">transform<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">align</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">NEG_Z</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>Y<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>X<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">Vec3<span class="z-punctuation z-accessor z-rust">::</span></span>Z</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><p><code>align</code> will move it to match the desired positions as closely as possible:<p><img alt="after calling Transform::align" src=align-after-move.jpg><p>Note that not all rotations can be constructed and the <a href=https://docs.rs/bevy/0.14/bevy/transform/components/struct.Transform.html#method.align>documentation</a> explains what happens in such scenarios.<h2 id=random-sampling-of-shapes-and-directions>Random Sampling of Shapes and Directions <a class=anchor-link href=#random-sampling-of-shapes-and-directions>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/13ros27>@13ros27</a>, <a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a>, <a class=heading-meta__item href=https://github.com/lynn-lumen>@lynn-lumen</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12484>#12484</a></div></div><p>In the context of game development, it's often helpful to have access to random values, whether that's in the interest of driving behavior for NPCs, creating effects, or just trying to create variety. To help support this, a few random sampling features have been added to <code>bevy_math</code>, gated behind the <code>rand</code> feature. These are primarily geometric in nature, and they come in a couple of flavors.<p>First, one can sample random points from the boundaries and interiors of a variety of mathematical primitives: <img alt="Image of several primitives side-by-side with points randomly sampled from their interiors" src=sampling_primitives.jpg><p>In code, this can be performed in a couple different ways, using either the <code>sample_interior</code>/<code>sample_boundary</code> or <code>interior_dist</code>/<code>boundary_dist</code> APIs:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">math<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">rand<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>Rng<span class="z-punctuation z-separator z-rust">,</span> SeedableRng</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">rand_chacha<span class="z-punctuation z-accessor z-rust">::</span></span>ChaCha8Rng<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> sphere <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Sphere<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">5</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Instantiate an Rng:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> rng <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-path z-rust">ChaCha8Rng<span class="z-punctuation z-accessor z-rust">::</span></span>seed_from_u64<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">7355608</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Using these, sample a random point from the interior of this sphere:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> interior_pt<span class="z-punctuation z-separator z-rust">:</span> Vec3 <span class="z-keyword z-operator z-assignment z-rust">=</span> sphere<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_interior</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or from the boundary:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> boundary_pt<span class="z-punctuation z-separator z-rust">:</span> Vec3 <span class="z-keyword z-operator z-assignment z-rust">=</span> sphere<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_boundary</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or, if we want a lot of points, we can use a Distribution instead...
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> to sample 100000 random points from the interior:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> interior_pts<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Vec3<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> sphere<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">interior_dist</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">take</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">100000</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">collect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or 100000 random points from the boundary:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> boundary_pts<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Vec3<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> sphere<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">boundary_dist</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sample_iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">take</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">100000</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">collect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>Note that these methods explicitly require an <a href=https://docs.rs/rand/0.8.5/rand/trait.Rng.html><code>Rng</code></a> object, giving you control over the randomization strategy and seed.<p>The currently supported shapes are as follows:<p>2D: <code>Circle</code>, <code>Rectangle</code>, <code>Triangle2d</code>, <code>Annulus</code>, <code>Capsule2d</code>.<p>3D: <code>Sphere</code>, <code>Cuboid</code>, <code>Triangle3d</code>, <code>Tetrahedron</code>, <code>Cylinder</code>, <code>Capsule3d</code>, and extrusions of sampleable 2D shapes (<code>Extrusion</code>).<hr><p>Similarly, the direction types (<code>Dir2</code>, <code>Dir3</code>, <code>Dir3A</code>) and quaternions (<code>Quat</code>) can now be constructed randomly using <code>from_rng</code>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">math<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">rand<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>random<span class="z-punctuation z-separator z-rust">,</span> Rng<span class="z-punctuation z-separator z-rust">,</span> SeedableRng</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">rand_chacha<span class="z-punctuation z-accessor z-rust">::</span></span>ChaCha8Rng<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Instantiate an Rng:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> rng <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-path z-rust">ChaCha8Rng<span class="z-punctuation z-accessor z-rust">::</span></span>seed_from_u64<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">7355608</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Get a random direction:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> direction <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Dir3<span class="z-punctuation z-accessor z-rust">::</span></span>from_rng<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>rng</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Similar, but requires left-hand type annotations or inference:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> another_direction<span class="z-punctuation z-separator z-rust">:</span> Dir3 <span class="z-keyword z-operator z-assignment z-rust">=</span> rng<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">gen</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Using `random` to grab a value using implicit thread-local rng:
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> yet_another_direction<span class="z-punctuation z-separator z-rust">:</span> Dir3 <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-function z-rust">random</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=tools-for-profiling-gpu-performance>Tools for Profiling GPU Performance <a class=anchor-link href=#tools-for-profiling-gpu-performance>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/LeshaInc>@LeshaInc</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/9135>#9135</a></div></div><p>While <a href=https://github.com/bevyengine/bevy/blob/main/docs/profiling.md>Tracy</a> already lets us measure CPU time per system, our GPU diagnostics are much weaker. In Bevy 0.14 we've added support for two classes of rendering-focused statistics via the <a href=https://docs.rs/bevy/0.14/bevy/render/diagnostic/struct.RenderDiagnosticsPlugin.html><code>RenderDiagnosticsPlugin</code></a>:<ol><li><strong>Timestamp queries:</strong> how long did specific bits of work take on the GPU?<li><strong>Pipeline statistics:</strong> information about the quantity of work sent to the GPU.</ol><p>While it may sound like timestamp queries are the ultimate diagnostic tool, they come with several caveats. Firstly, they vary quite heavily from frame-to-frame as GPUs dynamically ramp up and down clock speed due to workload (idle gaps in GPU work, e.g., a bunch of consecutive barriers, or the tail end of a large dispatch) or the physical temperature of the GPU. To get an accurate measurement, you need to look at summary statistics: mean, median, 75th percentile and so on.<p>Secondly, while timestamp queries will tell you how long something takes, but it will not tell you why things are slow. For finding bottlenecks, you want to use a GPU profiler from your GPU vendor (Nvidia's NSight, AMD's RGP, Intel's GPA or Apple's XCode). These tools will give you much more detailed stats about cache hit rate, warp occupancy, and so on. On the other hand they lock your GPU's clock to base speeds for stable results, so they won't give you a good indicator of real world performance.<p><a href=https://docs.rs/bevy/0.14/bevy/render/diagnostic/struct.RenderDiagnosticsPlugin.html><code>RenderDiagnosticsPlugin</code></a> tracks the following pipeline statistics, recorded in Bevy's <a href=https://docs.rs/bevy/0.14/bevy/diagnostic/struct.DiagnosticsStore.html><code>DiagnosticsStore</code></a>: Elapsed CPU time, Elapsed GPU time, <a href=https://www.khronos.org/opengl/wiki/Vertex_Shader>Vertex shader</a> invocations, <a href=https://www.khronos.org/opengl/wiki/Fragment_Shader>Fragment shader</a> invocations, <a href=https://www.khronos.org/opengl/wiki/Compute_Shader>Compute shader</a> invocations, <a href=http://gpa.helpmax.net/en/intel-graphics-performance-analyzers-help/metrics-descriptions/extended-metrics-description/rasterizer-metrics/clipper-invocations/>Clipper invocations</a>, and <a href=http://gpa.helpmax.net/en/intel-graphics-performance-analyzers-help/metrics-descriptions/extended-metrics-description/rasterizer-metrics/post-clip-primitives/>Clipper primitives</a>.<p>You can also track individual render/compute passes, groups of passes (e.g. all shadow passes), and individual commands inside passes (like draw calls). To do so, instrument them using methods from the <a href=https://docs.rs/bevy/0.14/bevy/render/diagnostic/trait.RecordDiagnostics.html><code>RecordDiagnostics</code></a> trait.<h2 id=new-geometric-primitives>New Geometric Primitives <a class=anchor-link href=#new-geometric-primitives>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/vitorfhc>@vitorfhc</a>, <a class=heading-meta__item href=https://github.com/Chubercik>@Chubercik</a>, <a class=heading-meta__item href=https://github.com/andristarr>@andristarr</a>, <a class=heading-meta__item href=https://github.com/spectria-limina>@spectria-limina</a>, <a class=heading-meta__item href=https://github.com/salvadorcarvalhinho>@salvadorcarvalhinho</a>, <a class=heading-meta__item href=https://github.com/aristaeus>@aristaeus</a>, <a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12508>#12508</a></div></div><p>Geometric shapes find a variety of applications in game development, ranging from rendering simple items to the screen for display / debugging to use in colliders, physics, raycasting, and more.<p>For this, geometric shape primitives were <a href=https://bevy.org/news/bevy-0-13/#primitive-shapes>introduced in Bevy 0.13</a>, and work on this area has continued with Bevy 0.14, which brings the addition of <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.Triangle3d.html><code>Triangle3d</code></a> and <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.Tetrahedron.html><code>Tetrahedron</code></a> 3D primitives, along with <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.Rhombus.html><code>Rhombus</code></a>, <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.Annulus.html><code>Annulus</code></a>, <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.Arc2d.html><code>Arc2d</code></a>, <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.CircularSegment.html><code>CircularSegment</code></a>, and <a href=https://docs.rs/bevy/0.14.0/bevy/math/primitives/struct.CircularSector.html><code>CircularSector</code></a> 2D primitives. As usual, these each have methods for querying geometric information like perimeter, area, and volume, and they all support meshing (where applicable) as well as gizmo display.<h2 id=improve-point-and-rename-it-to-vectorspace>Improve <code>Point</code> and rename it to <code>VectorSpace</code> <a class=anchor-link href=#improve-point-and-rename-it-to-vectorspace>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mweatherley>@mweatherley</a>, <a class=heading-meta__item href=https://github.com/bushrat011899>@bushrat011899</a>, <a class=heading-meta__item href=https://github.com/JohnTheCoolingFan>@JohnTheCoolingFan</a>, <a class=heading-meta__item href=https://github.com/NthTensor>@NthTensor</a>, <a class=heading-meta__item href=https://github.com/IQuick143>@IQuick143</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12747>#12747</a></div></div><p>Linear algebra is used everywhere in games, and we want to make sure it's easy to get right. That's why we've added a new <code>VectorSpace</code> trait, as part of our work to make <code>bevy_math</code> more general, expressive, and mathematically sound. Anything that implements <code>VectorSpace</code> behaves like a vector. More formally, the trait requires that implementations satisfy the vector space axioms for vector addition and scalar multiplication. We've also added a <code>NormedVectorSpace</code> trait, which includes an api for distance and magnitude.<p>These traits underpin the new curve and shape sampling apis. <code>VectorSpace</code> is implemented for <code>f32</code>, the <code>glam</code> vector types, and several of the new color-space types. It completely replaces <code>bevy_math::Point</code>.<p>The splines module in Bevy has been lacking some features for a long time. Splines are extremely useful in game development, so improving them would improve everything that uses them.<p>The biggest addition is NURBS support! It is a variant of a B-Spline with much more parameters that can be tweaked to create specific curve shapes. We also added a <code>LinearSpline</code>, which can be used to put straight line segments in a curve. <code>CubicCurve</code> now acts as a sequence of curve segments to which you can add new pieces, so you can mix various spline types together to form a single path.<h2 id=2d-mesh-wireframes>2D Mesh Wireframes <a class=anchor-link href=#2d-mesh-wireframes>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/msvbg>@msvbg</a>, <a class=heading-meta__item href=https://github.com/IceSentry>@IceSentry</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12135>#12135</a></div></div><p>Wireframe materials are used to render the individual edges and faces of a mesh. They are often used as a debugging tool to visualize geometry, but can also be used for various stylized effects. Bevy supports displaying 3D meshes as wireframes, but lacked the ability to do this for 2D meshes until now.<p>To render your 2D mesh as a wireframe, add <code>Wireframe2dPlugin</code> to your app and a <code>Wireframe2d</code> component to your sprite. The color of the wireframe can be configured per-object by adding the <code>Wireframe2dColor</code> component, or globally by inserting a <code>Wireframe2dConfig</code> resource.<p>For an example of how to use the feature, have a look at the new <a href=https://github.com/bevyengine/bevy/blob/b17292f9d11cf3d3fb4a2fb3e3324fb80afd8c88/examples/2d/wireframe_2d.rs>wireframe_2d example</a>:<p><img alt="A screenshot demonstrating the new 2D wireframe material" src=./12135_Support_wireframes_for_2D_meshes.jpg><h2 id=custom-reflect-field-attributes>Custom Reflect Field Attributes <a class=anchor-link href=#custom-reflect-field-attributes>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/MrGVSV>@MrGVSV</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/11659>#11659</a></div></div><p>One of the features of Bevy's reflection system is the ability to attach arbitrary "type data" to a type. This is most often used to allow trait methods to be called dynamically. However, some users saw it as an opportunity to do other awesome things.<p>The amazing <a href=https://github.com/jakobhellermann/bevy-inspector-egui>bevy-inspector-egui</a> used type data to great effect in order to allow users to configure their inspector UI per field:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy_inspector_egui<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy_reflect<span class="z-punctuation z-accessor z-rust">::</span></span>Reflect<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect<span class="z-punctuation z-separator z-rust">,</span> Default<span class="z-punctuation z-separator z-rust">,</span> InspectorOptions</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">InspectorOptions</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Slider</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">inspector</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">min <span class="z-keyword z-operator z-rust">=</span> 0.0<span class="z-punctuation z-separator z-rust">,</span> max <span class="z-keyword z-operator z-rust">=</span> 1.0</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">value</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Taking inspiration from this, Bevy 0.14 adds proper support for custom attributes when deriving <code>Reflect</code>, so users and third-party crates should no longer need to create custom type data specifically for this purpose. These attributes can be attached to structs, enums, fields, and variants using the <code>#[reflect(@...)]</code> syntax, where the <code>...</code> can be any expression that resolves to a type implementing <code>Reflect</code>.<p>For example, we can use Rust's built-in <code>RangeInclusive</code> type to specify our own range for a field:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">std<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">ops<span class="z-punctuation z-accessor z-rust">::</span></span>RangeInclusive<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy_reflect<span class="z-punctuation z-accessor z-rust">::</span></span>Reflect<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect<span class="z-punctuation z-separator z-rust">,</span> Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Slider</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">@RangeInclusive&LTf32>::<span class="z-meta z-function-call z-rust"><span class="z-variable z-function z-rust">new</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-function-call z-rust">0.0<span class="z-punctuation z-separator z-rust">,</span> 1.0</span><span class="z-meta z-function-call z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Since this accepts any expression,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> we could have also used Rust's shorthand syntax:
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> #[reflect(@0.0..=1.0_f32)]
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-variable z-other z-member z-rust">value</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Attributes can then be accessed dynamically using <a href=https://docs.rs/bevy/latest/bevy/reflect/enum.TypeInfo.html><code>TypeInfo</code></a>:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">TypeInfo<span class="z-punctuation z-accessor z-rust">::</span></span>Struct<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>type_info</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Slider<span class="z-punctuation z-accessor z-rust">::</span></span>type_info<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-control z-rust">else</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">panic!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>expected struct<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> field <span class="z-keyword z-operator z-assignment z-rust">=</span> type_info<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">field</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>value<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> range <span class="z-keyword z-operator z-assignment z-rust">=</span> field<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">get_attribute<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">RangeInclusive<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">*</span>range<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-keyword z-operator z-range z-rust">..</span><span class="z-keyword z-operator z-assignment z-rust">=</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>This feature opens up a lot of possibilities for things built on top of Bevy's reflection system. And by making it agnostic to any particular usage, it allows for a wide range of use cases, including aiding editor work down the road.<p>In fact, this feature has already been put to use by <a href=https://github.com/viridia/bevy_reactor/blob/main/examples/complex/reflect_demo.rs><code>bevy_reactor</code></a> to power their custom inspector UI:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource<span class="z-punctuation z-separator z-rust">,</span> Debug<span class="z-punctuation z-separator z-rust">,</span> Reflect<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">TestStruct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">selected</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">bool</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">@ValueRange::&LTf32>(0.0..1.0</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span>)<span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">scale</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-storage z-type z-rust">f32</span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">color</span><span class="z-punctuation z-separator z-type z-rust">:</span> Srgba,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">position</span><span class="z-punctuation z-separator z-type z-rust">:</span> Vec3,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">unlit</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">bool</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">@ValueRange::&LTf32>(0.0..10.0</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span>)<span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">roughness</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">@<span class="z-meta z-function-call z-rust"><span class="z-variable z-function z-rust">Precision</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-function-call z-rust">2</span><span class="z-meta z-function-call z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">metallicity</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">@ValueRange::&LTf32>(0.0..1000.0</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span>)<span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-modifier z-rust">pub</span> <span class="z-variable z-other z-member z-rust">factors</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-type z-rust">f32</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p><img alt="A custom UI inspector built using the code above in bevy_reactor" src=./custom_attributes_demo.jpg><h2 id=query-iteration-sorting>Query Iteration Sorting <a class=anchor-link href=#query-iteration-sorting>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Victoronz>@Victoronz</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13417>#13417</a></div></div><p>Bevy does not make any guarantees about the order of items. So if we wish to work with our query items in a certain order, we need to sort them! We might want to display the scores of the players in order, or ensure a consistent iteration order for the sake of networking stability. In 0.13 a sort could look like this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component<span class="z-punctuation z-separator z-rust">,</span> Copy<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Deref</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Attack</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>pub <span class="z-storage z-type z-rust">usize</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">handle_enemies</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">enemies</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span>Health, <span class="z-keyword z-operator z-rust">&</span>Attack, <span class="z-keyword z-operator z-rust">&</span>Defense<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> An allocation!
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> enemies<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Vec</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> enemies<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">collect</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    enemies<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sort_by_key</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust">_<span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">atk</span><span class="z-punctuation z-separator z-rust">,</span> ..</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-keyword z-operator z-arithmetic z-rust">*</span>atk</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> enemy <span class="z-keyword z-operator z-rust">in</span> enemies <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-function z-rust">work_with</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>enemy</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>This can get especially unwieldy and repetitive when sorting within multiple systems. Even if we always want the same sort, different <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html><code>Query</code></a> types make it unreasonably difficult to abstract away as a user! To solve this, we implemented new sort methods on the <a href=https://docs.rs/bevy/0.14/bevy/ecs/query/struct.QueryIter.html><code>QueryIter</code></a> type, turning the example into:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> To be used as a sort key, `Attack` now implements Ord.
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component<span class="z-punctuation z-separator z-rust">,</span> Copy<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Deref<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> PartialOrd<span class="z-punctuation z-separator z-rust">,</span> Ord</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">Attack</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>pub <span class="z-storage z-type z-rust">usize</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">handle_enemies</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">enemies</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span>Health, <span class="z-keyword z-operator z-rust">&</span>Attack, <span class="z-keyword z-operator z-rust">&</span>Defense<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Still an allocation, but undercover.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> enemy <span class="z-keyword z-operator z-rust">in</span> enemies<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">sort<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Attack<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-function z-rust">work_with</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>enemy</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>To sort our query with the <code>Attack</code> component, we specify it as the generic parameter to <a href="https://docs.rs/bevy/0.14/bevy/ecs/query/struct.QueryIter.html?search=Component#method.sort"><code>sort</code></a>. To sort by more than one <a href=https://docs.rs/bevy/0.14/bevy/ecs/component/trait.Component.html><code>Component</code></a>, we can do so, independent of <a href=https://docs.rs/bevy/0.14/bevy/ecs/component/trait.Component.html><code>Component</code></a> order in the original <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html><code>Query</code></a> type: <code>enemies.iter().sort::<(&Defense, &Attack)>()</code><p>The generic parameter can be thought of as being a <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html#method.transmute_lens>lens</a> or "subset" of the original query, on which the underlying sort is actually performed. The result is then internally used to return a new sorted query iterator over the original query items. With the default <a href="https://docs.rs/bevy/0.14/bevy/ecs/query/struct.QueryIter.html?search=Component#method.sort"><code>sort</code></a>, the lens has to be fully <a href=https://doc.rust-lang.org/stable/std/cmp/trait.Ord.html><code>Ord</code></a>, like with <a href=https://doc.rust-lang.org/nightly/std/primitive.slice.html#method.sort><code>slice::sort</code></a>. If this is not enough, we also have the counterparts to the remaining 6 sort methods from <a href=https://doc.rust-lang.org/nightly/std/primitive.slice.html><code>slice</code></a>!<p>The generic lens argument works the same way as with <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html#method.transmute_lens><code>Query::transmute_lens</code></a>. We do not use filters, they are inherited from the original query. The <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html#method.transmute_lens><code>transmute_lens</code></a> infrastructure has some nice additional features, which allows for this:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">handle_enemies</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">enemies</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span>Health, <span class="z-keyword z-operator z-rust">&</span>Attack, <span class="z-keyword z-operator z-rust">&</span>Defense, <span class="z-keyword z-operator z-rust">&</span>Rarity<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> enemy <span class="z-keyword z-operator z-rust">in</span> enemies<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">sort_unstable<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>Entity<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-function z-rust">work_with</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>enemy</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Because we can add <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Entity.html><code>Entity</code></a> to any lens, we can sort by it without including it in the original query!<p>These sort methods work with both <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html#method.iter><code>Query::iter</code></a> and <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html#method.iter_mut><code>Query::iter_mut</code></a>! The rest of the of the iterator methods on <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.Query.html><code>Query</code></a> do not currently support sorting. The sorts return <a href=https://docs.rs/bevy/0.14/bevy/ecs/query/struct.QuerySortedIter.html><code>QuerySortedIter</code></a>, itself an iterator, enabling the use of further iterator adapters on it.<p>Keep in mind that the lensing does add some overhead, so these query iterator sorts do not perform the same as a manual sort on average. However, this <em>strongly</em> depends on workload, so best test it yourself if relevant!<h2 id=systembuilder>SystemBuilder <a class=anchor-link href=#systembuilder>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/james-j-obrien>@james-j-obrien</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13123>#13123</a></div></div><p>Bevy users <em>love</em> systems, so we made a builder for their systems so they can build systems from within systems. At runtime, using dynamically-defined component and resource types!<p>While you can use <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.SystemBuilder.html><code>SystemBuilder</code></a> as an ergonomic alternative to the <a href=https://docs.rs/bevy/0.14/bevy/ecs/system/struct.SystemState.html><code>SystemState</code></a> API for splitting the <a href=https://docs.rs/bevy/0.14/bevy/ecs/prelude/struct.World.html><code>World</code></a> into disjoint borrows, its true values lies in its dynamic usage.<p>You can choose to create a different system based on runtime branches or, more intriguingly, the queries and so on can use runtime-defined component IDs. This is another vital step towards creating an ergonomic and safe API to work with <a href=https://bevy.org/news/bevy-0-13/#dynamic-queries>dynamic queries</a>, laying the groundwork for the devs who want to integrate scripting languages or bake in sophisticated modding support for their game.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Start by creating builder from the world
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> system <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">SystemBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Various helper methods exist to add `SystemParam`.
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">resource<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">query<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Alternatively use `.param::&LTT>()` for any other `SystemParam` types.
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">param<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyParam<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Finish it all up with a call `.build`
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The parameters the builder is initialized with will appear first in the arguments.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> system <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">SystemBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>, <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">param<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyParam<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Parameters like `Query` that implement `BuildableSystemParam` can use
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> `.builder::&LTT>()` to build in place.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> system <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">SystemBuilder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">resource<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>R<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This turns our query into a `Query<&A, With&LTB>>`
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">builder<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">builder</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> builder<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">with<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>B<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">param<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>MyParam<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">build</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run_system_once</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=throttle-render-assets>Throttle Render Assets <a class=anchor-link href=#throttle-render-assets>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/robtfm>@robtfm</a>, <a class=heading-meta__item href=https://github.com/IceSentry>@IceSentry</a>, <a class=heading-meta__item href=https://github.com/mockersf>@mockersf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12622>#12622</a></div></div><p>Using a lot of assets? Uploading lots of bytes to the GPU in a short time might cause stutters due to the render world waiting for uploads to finish.<p>Often it's a more delightful experience if an application runs smoothly than if it stutters, and a few frames worth of delay before seeing an asset appear is often not even perceptible.<p>This experience is now possible:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>DefaultPlugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">RenderAssetBytesPerFrame<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1_000_000_000</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Tune to your situation by experimenting!
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>That's it! The number provided should be chosen by figuring out a nice trade-off between no stuttering and an acceptable delay.<p>This feature relies on assets knowing how many bytes they will occupy when sent to the GPU. Currently this is known by images and meshes, with more assets types expected to be able to report this in the future.<h2 id=standardmaterial-uv-channel-selection>StandardMaterial UV Channel Selection <a class=anchor-link href=#standardmaterial-uv-channel-selection>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/geckoxx>@geckoxx</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13200>#13200</a></div></div><p>Previously, StandardMaterial always defaulted to using ATTRIBUTE_UV_0 for each texture except lightmap, which isn't flexible enough for a lot of gltf files. In <strong>Bevy 0.14</strong>, a new UvChannel enum was added allowing you to select the channel to use for each texture in StandardMaterial.<p>Here's a before and after showing the support of ATTRIBUTE_UV_1 across textures:<p><img alt="UV Channel Selection" src=uv_channel_selection.jpg><h2 id=remove-limit-on-renderlayers>Remove limit on RenderLayers <a class=anchor-link href=#remove-limit-on-renderlayers>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/tychedelia>@tychedelia</a>, <a class=heading-meta__item href=https://github.com/robtfm>@robtfm</a>, <a class=heading-meta__item href=https://github.com/UkoeHB>@UkoeHB</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13317>#13317</a></div></div><p>Render layers are used to quickly toggle the visibility of sets of objects, and control which objects can be seen by which cameras. This can be useful for things like debug views, gear preview screens, toggle-able diegetic UI and so on.<p>Before Bevy 0.14 the membership was defined by a bitmask which had limited slots available. Now, there is no longer any practical limit to how many layers you can define, which is particularly helpful for creative coding applications like <a href=https://nannou.cc/>nannou</a>! We've made sure to keep the common case fast, but now use a growable mask that will allocate space for additional layers as needed. Remember, there's still a cost to check visibility per layer, but this allows for more dynamic uses where layers can be created on demand without worrying about going over a limit.<h2 id=on-unimplemented-diagnostics><code>on_unimplemented</code> Diagnostics <a class=anchor-link href=#on-unimplemented-diagnostics>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/bushrat011899>@bushrat011899</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a>, <a class=heading-meta__item href=https://github.com/Themayu>@Themayu</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13347>#13347</a></div></div><p>Bevy takes full advantage of the powerful type system Rust provides, but with that power can often come confusion when even minor mistakes are made.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyResource</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyResource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>Running the above will produce a compiler error, let's see why...<details><summary>Click to expand...</summary> <pre class="language-txt z-code" data-lang=txt><code class=language-txt data-lang=txt><span class="z-text z-plain">error[E0277]: the trait bound `MyResource: Resource` is not satisfied
</span><span class="z-text z-plain">   --> example.rs:6:32
</span><span class="z-text z-plain">    |
</span><span class="z-text z-plain">6   |     App::new().insert_resource(MyResource).run();
</span><span class="z-text z-plain">    |                --------------- ^^^^^^^^^^ the trait `Resource` is not implemented for `MyResource`
</span><span class="z-text z-plain">    |                |
</span><span class="z-text z-plain">    |                required by a bound introduced by this call
</span><span class="z-text z-plain">    |
</span><span class="z-text z-plain">    = help: the following other types implement trait `Resource`:
</span><span class="z-text z-plain">              AccessibilityRequested
</span><span class="z-text z-plain">              ManageAccessibilityUpdates
</span><span class="z-text z-plain">              bevy::a11y::Focus
</span><span class="z-text z-plain">              DiagnosticsStore
</span><span class="z-text z-plain">              FrameCount
</span><span class="z-text z-plain">              bevy::prelude::Axis&LTT>
</span><span class="z-text z-plain">              WinitActionHandlers
</span><span class="z-text z-plain">              ButtonInput&LTT>
</span><span class="z-text z-plain">            and 127 others
</span><span class="z-text z-plain">note: required by a bound in `bevy::prelude::App::insert_resource`
</span><span class="z-text z-plain">   --> /bevy/crates/bevy_app/src/app.rs:537:31
</span><span class="z-text z-plain">    |
</span><span class="z-text z-plain">537 |     pub fn insert_resource&LTR: Resource>(&mut self, resource: R) -> &mut Self {
</span><span class="z-text z-plain">    |                               ^^^^^^^^ required by this bound in `App::insert_resource`
</span></code></pre></details><p>The compiler suggests we use a different type that implements <code>Resource</code>, or that we implement the trait on <code>MyResource</code>. The former doesn't help us at all, and the latter fails to mention the available derive macro.<p>With the release of Rust 1.78, Bevy can now provide more direct messages for certain types of errors during compilation using <a href=https://blog.rust-lang.org/2024/05/02/Rust-1.78.0.html#diagnostic-attributes>diagnostic attributes</a>.<pre class="language-txt z-code" data-lang=txt><code class=language-txt data-lang=txt><span class="z-text z-plain">error[E0277]: `MyResource` is not a `Resource`
</span><span class="z-text z-plain">   --> example.rs:6:32
</span><span class="z-text z-plain">    |
</span><span class="z-text z-plain">6   |     App::new().insert_resource(MyResource).run();
</span><span class="z-text z-plain">    |                --------------- ^^^^^^^^^^ invalid `Resource`
</span><span class="z-text z-plain">    |                |
</span><span class="z-text z-plain">    |                required by a bound introduced by this call
</span><span class="z-text z-plain">    |
</span><span class="z-text z-plain">    = help: the trait `Resource` is not implemented for `MyResource`
</span><span class="z-text z-plain">    = note: consider annotating `MyResource` with `#[derive(Resource)]`
</span><span class="z-text z-plain">    = help: the following other types implement trait `Resource`:
</span><span class="z-text z-plain">              AccessibilityRequested
</span><span class="z-text z-plain">...
</span></code></pre><p>Now, the error message has a more approachable entry point, and a new <code>note</code> section pointing to the derive macro for resources. If Bevy's suggestions <em>aren't</em> the solution to your problem, the rest of the compiler error is still included just in case.<p>These diagnostics have been implemented for various traits across Bevy, and we hope to improve this experience as new features are added to Rust. For example, we'd really like to improve the experience of working with tuples of <code>Component</code>'s, but we're not quite there yet. You can read more about this change in the <a href=https://github.com/bevyengine/bevy/pull/13347>pull request</a> and associated <a href=https://github.com/bevyengine/bevy/issues/12377>issue</a>.<h2 id=motion-vectors-and-taa-for-animated-meshes>Motion Vectors and TAA for Animated Meshes <a class=anchor-link href=#motion-vectors-and-taa-for-animated-meshes>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pcwalton>@pcwalton</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13572>#13572</a></div></div><p>Back in <strong>Bevy 0.11</strong> we added <a href=/news/bevy-0-11/#temporal-anti-aliasing>Temporal Anti Aliasing (TAA)</a>, which uses Motion Vectors to determine how fast an object is moving. However, in <strong>Bevy 0.11</strong> we only added Motion Vector support for "static" meshes, meaning TAA did not work for animated meshes using skeletal animation or morph targets.<p>In <strong>Bevy 0.14</strong>, we implemented <a href=#per-object-motion-blur>Per-Object Motion Blur</a>, which <em>also</em> uses Motion Vectors and therefore would have that same limitation.<p>Fortunately in <strong>Bevy 0.14</strong> we implemented Motion Vectors for skinned meshes and meshes with morph targets, closing this gap and enabling TAA, Per-Object Motion Blur, and future Motion Vector features to work with animated meshes.<h2 id=improved-matrix-naming>Improved Matrix Naming <a class=anchor-link href=#improved-matrix-naming>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/ricky26>@ricky26</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13489>#13489</a></div></div><p>Game engines generally provide a set of matrices to perform space transformations in the game world. Commonly, the following spaces are used:<ul><li><strong>Normalized Device Coordinates</strong>: used by the graphics API directly<li><strong>Clip Space</strong>: coordinates after projection but before perspective divide<li><strong>View Space</strong>: coordinates in the camera's view<li><strong>World Space</strong>: global coordinates (this is the one we most often talk about!)<li><strong>Model Space</strong>: (or local space) coordinates relative to an entity</ul><p>A common example is the 'model view projection matrix', which is the transformation from model space to NDC space (peculiarly in this shorthand, the view matrix is often a transformation from world <em>to view</em> space, but the model matrix is a transformation <em>from model</em> (or local) space to world space). Usually, matrices are referred to as part of that shorthand, so for example, the projection matrix transforms from view coordinates to NDC coordinates.<p>In a couple of places, Bevy had a view matrix, which was the transformation from view to world space (rather than from world to view space as above). Additionally, even when used consistently, the single-word shorthands are ambiguous and can cause confusion. We felt that a clearer convention was needed.<p>From now on, matrices in Bevy are named <code>y_from_x</code>, for example <code>world_from_local</code>, which would denote the transformation from local to world-space coordinates. One tidy benefit of this is that the inverse matrices are named <code>x_from_y</code>, and when multiplying between spaces, it's easy to see that it's correct.<p>For example, instead of writing:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> model_view_projection <span class="z-keyword z-operator z-assignment z-rust">=</span> projection <span class="z-keyword z-operator z-arithmetic z-rust">*</span> view <span class="z-keyword z-operator z-arithmetic z-rust">*</span> model<span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><p>You would now write:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> clip_from_local <span class="z-keyword z-operator z-assignment z-rust">=</span> clip_from_view <span class="z-keyword z-operator z-arithmetic z-rust">*</span> view_from_world <span class="z-keyword z-operator z-arithmetic z-rust">*</span> world_from_local<span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre><h2 id=typed-gltf-labels>Typed glTF Labels <a class=anchor-link href=#typed-gltf-labels>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/mockersf>@mockersf</a>, <a class=heading-meta__item href=https://github.com/rparrett>@rparrett</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13586>#13586</a></div></div><p>If you've been using <a href=https://www.khronos.org/gltf/><code>glTF</code></a> files for your scenes or looked at an example that does you've might have seen the <em>labels</em> at the end of the asset path:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> model_pine <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/trees/pine.gltf#Scene0<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> model_hen <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/animals/hen.gltf#Scene0<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> animation_hen <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/animals/hen.gltf#Aniamtion1<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Oh no!
</span></span></code></pre><p>Notice the <code>#Scene0</code> syntax at the end. The glTF format is able to contain many things in a single file, including several scenes, animations, lights, and more.<p>These labels are a way of telling Bevy which part of the file we're loading.<p>However this is prone to user-error, and it looks like an error snuck in! The hen animation got the label <code>Aniamtion1</code> instead of <code>Animation1</code>.<p>No more! The above can now be re-written like so:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> hen <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/animals/hen.gltf<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Can re-use this more easily too
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> model_pine <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GltfAssetLabel<span class="z-punctuation z-accessor z-rust">::</span></span>Scene<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">from_asset</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>models/trees/pine.gltf<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> model_hen <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GltfAssetLabel<span class="z-punctuation z-accessor z-rust">::</span></span>Scene<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">from_asset</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>hen</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> animation_hen <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">GltfAssetLabel<span class="z-punctuation z-accessor z-rust">::</span></span>Animation<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">from_asset</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>hen</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> No typo!
</span></span></code></pre><p>Check out <a href=https://docs.rs/bevy/0.14/bevy/gltf/enum.GltfAssetLabel.html><code>glTF label docs</code></a> to know which parts you can query for.<h2 id=winit-v0-30>winit v0.30 <a class=anchor-link href=#winit-v0-30>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/pietrosophya>@pietrosophya</a>, <a class=heading-meta__item href=https://github.com/mockersf>@mockersf</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13366>#13366</a></div></div><p><a href=https://docs.rs/winit/0.30.0/winit/changelog/v0_30/index.html>Winit v0.30</a> changed its API to support a trait based architecture instead of a plain event-based one. Bevy 0.14 now implements that new architecture, making the event loop handling easier to follow.<p>It's now possible to define a custom <code>winit</code> user event, that can be used to trigger App updates, and that can be read inside systems to trigger specific behaviors. This is particularly useful to send events from outside the <code>winit</code> event loop and manage them inside Bevy systems (see the <a href=https://github.com/bevyengine/bevy/blob/release-0.14.0/examples/window/custom_user_event.rs><code>window/custom_user_event.rs</code></a> example).<p>The <code>UpdateMode</code> enum now accepts only two values: <code>Continuous</code> and <code>Reactive</code>. The latter exposes 3 new properties to enable reactivity to device, user, or window events. The previous <code>UpdateMode::Reactive</code> is now equivalent to <code>UpdateMode::reactive()</code>, while <code>UpdateMode::ReactiveLowPower</code> maps to <code>UpdateMode::reactive_low_power()</code>.<ul><li><code>Idle</code>: the loop has not started yet<li><code>Running</code> (previously called <code>Started</code>): the loop is running<li><code>WillSuspend</code>: the loop is going to be suspended<li><code>Suspended</code>: the loop is suspended<li><code>WillResume</code>: the loop is going to be resumed</ul><p>Note: the <code>Resumed</code> state has been removed since the resumed app is just <code>Running</code>.<h2 id=scene-mesh-and-material-gltf-extras>Scene, Mesh, and Material glTF Extras <a class=anchor-link href=#scene-mesh-and-material-gltf-extras>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/kaosat-dev>@kaosat-dev</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13453>#13453</a></div></div><p>The glTF 3D model file format allows passing additional user defined metadata in the <em>extras</em> properties, and in addition to the glTF extras at the primitive/node level , Bevy now has specific GltfExtras for:<ul><li>scenes: <strong>SceneGltfExtras</strong> injected at the scene level if any<li>meshes: <strong>MeshGltfExtras</strong>, injected at the mesh level if any<li>materials: <strong>MaterialGltfExtras</strong>, injected at the mesh level if any: ie if a mesh has a material that has gltf extras, the component will be injected there.</ul><p>You can now easily query for these specific extras<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">check_for_gltf_extras</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">gltf_extras_per_entity</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        Entity,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>Name<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>GltfSceneExtras<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>GltfExtras<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>GltfMeshExtras<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">        <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Option</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-keyword z-operator z-rust">&</span>GltfMaterialExtras<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-meta z-generic z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> use the extras' data 
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>id<span class="z-punctuation z-separator z-rust">,</span> name<span class="z-punctuation z-separator z-rust">,</span> scene_extras<span class="z-punctuation z-separator z-rust">,</span> extras<span class="z-punctuation z-separator z-rust">,</span> mesh_extras<span class="z-punctuation z-separator z-rust">,</span> material_extras</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        gltf_extras_per_entity<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span></code></pre><p>This makes passing information from programs such as Blender to Bevy via gltf files more spec compliant, and more practical!<h2 id=resource-entity-mapping-in-scenes>Resource Entity Mapping in Scenes <a class=anchor-link href=#resource-entity-mapping-in-scenes>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/brandon-reinhart>@brandon-reinhart</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13650>#13650</a></div></div><p>Bevy's <code>DynamicScene</code> is a collection of resources and entities that can be serialized to create collections like prefabs or savegame data. When a DynamicScene is deserialized and written into a World - such as when a saved game is loaded - the dynamic entity identifiers inside the scene must be mapped to their newly spawned counterparts.<p>Previously, this mapping was only available to Entity identifiers stored on Components. In Bevy 0.14, Resources can reflect <code>MapEntitiesResource</code> and implement the <code>MapEntities</code> trait to get access to the <code>EntityMapper</code>.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This resource reflects MapEntitiesResource and implements the MapEntities trait.
</span></span><span class="z-source z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource<span class="z-punctuation z-separator z-rust">,</span> Reflect<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust">    <span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">reflect</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Resource<span class="z-punctuation z-separator z-rust">,</span> MapEntitiesResource</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust">    <span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">TestResource</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-other z-member z-rust">entity_a</span><span class="z-punctuation z-separator z-type z-rust">:</span> Entity,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-other z-member z-rust">entity_b</span><span class="z-punctuation z-separator z-type z-rust">:</span> Entity,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> A simple and common use is a straight mapping of the old entity to the new.
</span></span><span class="z-source z-rust">    <span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">MapEntities <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">TestResource</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">        <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">map_entities</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>M<span class="z-punctuation z-separator z-rust">:</span> EntityMapper<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">entity_mapper</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> M</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>entity_a <span class="z-keyword z-operator z-assignment z-rust">=</span> entity_mapper<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">map_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>entity_a</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>entity_b <span class="z-keyword z-operator z-assignment z-rust">=</span> entity_mapper<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">map_entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span>entity_b</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=compassquadrant-and-compassoctant>CompassQuadrant and CompassOctant <a class=anchor-link href=#compassquadrant-and-compassoctant>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/BobG1983>@BobG1983</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13653>#13653</a></div></div><p>There are many instances in game development where its important to know the compass facing for a given direction. This is particularly true in 2D games that use four or eight direction sprites, or want to map analog input into discrete movement directions.<p>In order to make this easier the enums <code>CompassQuadrant</code> (for a four-way division) and <code>CompassOctant</code> (for an eight-way division) have been added with implementations to and <code>From&LTDir2></code> for ease of use.<h2 id=support-asyncseek-when-loading-assets>Support <code>AsyncSeek</code> When Loading Assets <a class=anchor-link href=#support-asyncseek-when-loading-assets>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/BeastLe9enD>@BeastLe9enD</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12547>#12547</a></div></div><p>Assets can be huge, and you don't always need all of the data contained in a single file.<p>Bevy allows you to add your <a href=https://github.com/bevyengine/bevy/blob/release-0.14.0/examples/asset/processing/asset_processing.rs>own asset loaders</a>. Starting in Bevy 0.14, you can now seek to an offset of your choice, reading partway through the file.<p>Perhaps you have the <code>.celestial</code> file format which encodes the universe, but you want to only look at lil' asteroids which always appear at some offset:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Default</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">UniverseLoader</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Asset<span class="z-punctuation z-separator z-rust">,</span> TypePath<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">JustALilAsteroid</span></span><span class="z-meta z-struct z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>[<span class="z-storage z-type z-rust">u8</span>; 128]</span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Each lil' asteroid uses this much data
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">AssetLoader <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">UniverseLoader</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">Asset</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> JustALilAsteroid<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">Settings</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">Error</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">std<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">io<span class="z-punctuation z-accessor z-rust">::</span></span>Error<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    async <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">load</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span> <span class="z-variable z-parameter z-rust">self</span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">reader</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span> <span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-generic z-rust">Reader<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>'<span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">_settings</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">        <span class="z-variable z-parameter z-rust">_load_context</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&</span><span class="z-storage z-modifier z-lifetime z-rust">'a</span> <span class="z-storage z-modifier z-rust">mut</span> <span class="z-meta z-generic z-rust">LoadContext<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>'<span class="z-keyword z-operator z-rust">_</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    </span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-meta z-generic z-rust"><span class="z-support z-type z-rust">Result</span><span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>JustALilAsteroid, <span class="z-meta z-path z-rust"><span class="z-storage z-type z-rust"><span class="z-storage z-type z-rust">Self</span><span class="z-punctuation z-accessor z-rust">::</span></span></span>Error<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> The universe is big, and our lil' asteroids don't appear until this offset
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> in the celestial file format!
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> offset_of_lil_asteroids <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">5_000_000_000_000</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Skip vast parts of the universe with the new async seek trait!
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        reader
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">seek</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">SeekFrom<span class="z-punctuation z-accessor z-rust">::</span></span>Start<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>offset_of_lil_asteroids</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> asteroid_buf <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-constant z-numeric z-integer z-decimal z-rust">0</span><span class="z-punctuation z-separator z-rust">;</span> <span class="z-constant z-numeric z-integer z-decimal z-rust">128</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        reader<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read_exact</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-modifier z-rust">mut</span> asteroid_buf</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span>await<span class="z-keyword z-operator z-rust">?</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-support z-type z-rust">Ok</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>JustALilAsteroid<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>asteroid_buf</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">extensions</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&</span><span class="z-variable z-parameter z-rust">self</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> <span class="z-keyword z-operator z-rust">&</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-storage z-type z-rust">str</span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-bitwise z-rust">&</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>celestial<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>This works because Bevy's <a href=https://docs.rs/bevy/0.14/bevy/asset/io/type.Reader.html><code>reader</code></a> type passed into the asset loader's <code>load</code> function now implements <a href=https://docs.rs/futures-io/latest/futures_io/trait.AsyncSeek.html><code>AsyncSeek</code></a>.<p>Real world use cases might for example be:<ul><li>You have packed several assets in an archive and you wish to skip to an asset within and read that<li>You are dealing with big datasets such as map data and you know where to extract some locations of interest</ul><h2 id=loadstate-failed-now-has-error-info>LoadState::Failed Now Has Error Info <a class=anchor-link href=#loadstate-failed-now-has-error-info>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/bugsweeper>@bugsweeper</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12709>#12709</a></div></div><p>Rust prides itself on its error handling, and Bevy has been steadily catching up. Previously, when checking if an asset was loaded using <a href=https://docs.rs/bevy/0.14/bevy/asset/struct.AssetServer.html#method.get_load_state><code>AssetServer::get_load_state</code></a>, all you'd get back was a data-less <a href=https://docs.rs/bevy/0.14/bevy/asset/enum.LoadState.html><code>LoadState::Failed</code></a> if something went wrong. Not very useful for debugging!<p>Now, a full <a href=https://docs.rs/bevy/0.14/bevy/asset/enum.AssetLoadError.html><code>AssetLoadError</code></a> is included, with 14 different variants telling you exactly what went wrong. Great for troubleshooting, and it opens the door to proper error handling in more complex apps.<h2 id=appexit-errors><code>AppExit</code> Errors <a class=anchor-link href=#appexit-errors>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/Brezak>@Brezak</a>, <a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13022>#13022</a></div></div><p>When running an app, there might be many reasons to trigger an exit. Maybe the user has pressed the quit button, or the render thread has encountered an error and died. You might want to distinguish between these two situations and return an appropriate <a href=https://doc.rust-lang.org/std/process/struct.ExitCode.html#impl-From%3Cu8%3E-for-ExitCode>exit code</a> from your application.<p>In <strong>Bevy 0.14</strong>, you can. The <code>AppExit</code> event is now an enum with two variants: <code>Success</code> and <code>Error</code>. The error variant also holds a non-zero code, which you're allowed to use however you wish. Since <code>AppExit</code> events now contain useful information, app runners and <code>App::run</code> now return the event that resulted in the application exiting.<p>For plugin developers, <code>App</code> has gained a new method, <code>App::should_exit</code>, which will check if any <code>AppExit</code> events were sent in the last two updates. To make sure <code>AppExit::Success</code> events won't drown out useful error information, this method will return any <code>AppExit::Error</code> events, even if they were sent after an <code>AppExit::Success</code>.<p>Finally, <code>AppExit</code> also implements the <a href=https://doc.rust-lang.org/stable/std/process/trait.Termination.html><code>Termination</code></a> trait, so it can be returned from main.<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">prelude<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-keyword z-operator z-arithmetic z-rust">*</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">exit_with_a_error_code</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">events</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventWriter<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>AppExit<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    events<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">AppExit<span class="z-punctuation z-accessor z-rust">::</span></span>from_code<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">42</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> AppExit</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MinimalPlugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Update<span class="z-punctuation z-separator z-rust">,</span> exit_with_a_error_code</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> There's no semicolon here, `run()` returns `AppExit`.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p><img alt="App returning a 42 exit code" src=exit_with_a_42.jpg><h2 id=make-dynamic-linking-a-no-op-on-wasm-targets>Make dynamic_linking a no-op on WASM targets <a class=anchor-link href=#make-dynamic-linking-a-no-op-on-wasm-targets>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/james7132>@james7132</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/12672>#12672</a></div></div><p>WASM does not support dynamic libraries that can be linked to during runtime. Before, Bevy would fail to compile if you enabled the <code>dynamic_linking</code> feature.<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">$</span></span><span class="z-meta z-function-call z-arguments z-shell"> cargo build<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>target</span> wasm32-unknown-unknown<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>features</span> bevy/dynamic_linking</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">error:</span></span><span class="z-meta z-function-call z-arguments z-shell"> cannot produce dylib for <span class="z-meta z-group z-expansion z-command z-backticks z-shell"><span class="z-punctuation z-section z-group z-begin z-shell">`</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">bevy_dylib</span></span><span class="z-meta z-function-call z-arguments z-shell"> v0.13.2</span><span class="z-punctuation z-section z-group z-end z-shell">`</span></span> as the target <span class="z-meta z-group z-expansion z-command z-backticks z-shell"><span class="z-punctuation z-section z-group z-begin z-shell">`</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">wasm32-unknown-unknown</span></span><span class="z-punctuation z-section z-group z-end z-shell">`</span></span> does not support these crate types</span>
</span></code></pre><p>Now, Bevy will fallback to static linking for all WASM targets. If you enable <code>dynamic_linking</code> for development, you no longer need to disable it for WASM.<h2 id=deprecate-dynamic-plugins>Deprecate Dynamic Plugins <a class=anchor-link href=#deprecate-dynamic-plugins>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/BD103>@BD103</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13080>#13080</a></div></div><p><code>bevy_dynamic_plugin</code> was a tool added in Bevy's original 0.1 release: intended to serve as a tool for dynamically loading / linking Rust code for use with things like modding. Unfortunately, this feature didn't see much community uptake, and as a result had a vanishingly small number of contributions to refine and document it over the years.<p>Combined with a challenging, intrinsically unsafe API that was producing <a href=https://github.com/bevyengine/bevy/issues/13073>worrying failures</a> for users, we've decided to deprecate <code>bevy_dynamic_plugin</code> and will be removing it completely in Bevy 0.15. If you were a happy user of this, simply copy the rather-small crate into your own project and proceed as before.<p>We still think that both modding and hot-reloading code for faster development times are valuable use cases that Bevy <em>should</em> help support one day. Our hope is that by removing this as a first-party crate, we can spur on third-party experiments and avoid wasting users' time as they investigate a complex potential solution before concluding that it doesn't yet meet their needs.<h2 id=bevy-working-groups>Bevy Working Groups <a class=anchor-link href=#bevy-working-groups>#</a></h2><div class=heading-meta><div><span class=heading-meta__title>Authors:</span><a class=heading-meta__item href=https://github.com/alice-i-cecile>@alice-i-cecile</a></div><div><span class=heading-meta__title>PRs:</span><a class=heading-meta__item href=https://github.com/bevyengine/bevy/pull/13162>#13162</a></div></div><p>Bevy has a ton of incredibly talented contributors, so keeping track of what's going on and making informed decisions can be a real challenge. We're experimenting with <a href=https://github.com/bevyengine/bevy/blob/main/CONTRIBUTING.md#join-a-working-group>working groups</a>: ad hoc groups tackling harder issues by creating a design document, getting sign-off from the experts, and then implementing it. If you'd like to help make complex, high-impact changes to Bevy: join or form a working group!<h2 id=what-s-next>What's Next? <a class=anchor-link href=#what-s-next>#</a></h2><p>The features above may be great, but what else does Bevy have in flight? Peering deep into the mists of time (predictions are <em>extra</em> hard when your team is almost all volunteers!), we can see some exciting work taking shape:<ul><li><strong>Better Scenes:</strong> Scenes are one of Bevy's core building blocks: designed to be a powerful tool for authoring levels and creating reusable game objects, whether they're a radio button widget or a monster. We're working on a new scene system with a new syntax that will make defining scenes in assets <em>and</em> in code more powerful and more pleasant. You can check out the(now slightly old) <a href=https://github.com/bevyengine/bevy/discussions/9538>project kickoff discussion</a> for more information. We're also very close to putting out a design document outlining our plans and the current state of the implementation.<li><strong>ECS Relations:</strong> Relations (a first-class feature for linking entities together) is wildly desired but remarkably complex, driving features and refactors to our ECS internals. The <a href=https://discord.com/channels/691052431525675048/1237010014355456115>working group</a> has been patiently laying out what we need to do and why in this <a href=https://github.com/bevyengine/rfcs/pull/79>RFC</a>.<li><strong>Better Audio:</strong> Bevy's built-in audio solution has never really hit the right notes. The <a href=https://discord.com/channels/691052431525675048/1236113088793677888>Better Audio working group</a> is plotting a path forward.<li><strong>Contributing Book:</strong> Our documentation on how to contribute is scattered to the four corners of our repositories. By gathering this together, the <a href=https://discord.com/channels/691052431525675048/1236112637662724127>Contributing Book working group</a> hopes to make it easier to discover and maintain.<li><strong>Curve Abstraction:</strong> Curves come up all of the time in game dev, and the mathmagicians that make up the <a href=https://discord.com/channels/691052431525675048/1236110755212820581>Curve Crew</a> are <a href=https://github.com/bevyengine/rfcs/pull/80>designing a trait</a> to unify and power them.<li><strong>Better Text:</strong> our existing text solution isn't up to the demands of modern UI. The "Lorem Ipsum" working group is <a href=https://discord.com/channels/691052431525675048/1248074018612051978>looking into</a> replacing it with a better solution.<li><strong>A Unified View on Dev Tools:</strong> In 0.14, we've added a stub <code>bevy_dev_tools</code> crate: a place for tools and overlays that speed up game development such as performance monitors, fly cameras, or in-game commands to spawn game objects. We're working on adding more tools, and creating a <a href=https://github.com/bevyengine/rfcs/pull/77>dev tool abstraction</a>. This will give us a unified way to enable/disable, customize and group this grab bag of tools into toolboxes to create something like Quake console or VSCode Command Palette with tools from around the ecosystem.<li><strong>Bevy Remote Protocol:</strong> Communicating with actively running Bevy games is an incredibly powerful tool for building editors, debuggers and other tools. <a href=https://github.com/bevyengine/bevy/pull/13563>We're developing</a> a reflection-powered protocol to create a solution that's ready to power a whole ecosystem.<li><strong>A Modular, Maintainable Render Graph:</strong> Bevy's existing rendering architecture is already quite good at providing reusable renderer features like <code>RenderPhases</code>, batching, and draw commands. However, the render graph interface itself is one remaining pain points. Since it's distributed across many files the control flow is hard to understand, and its heavy use of ECS resources for passing around rendering data actively works against modularity. While the exact design hasn't been finalized (and feedback is very welcome!), we've been actively working to <a href=https://github.com/bevyengine/bevy/pull/13397>redesign the render graph</a> in order to build up to a larger refactor of the renderer towards modularity and ease of use.</ul><h2 id=support-bevy>Support Bevy <a class=anchor-link href=#support-bevy>#</a></h2><p>Bevy will always be free and open-source, but it isn't free to make! Because Bevy is free, we rely on the generosity of the Bevy community to fund our efforts. If you are a happy user of Bevy or you believe in our mission, please consider <a href=/donate>donating to the Bevy Foundation</a>... every bit helps!<p><a class="button button--pink" href=/donate>Donate <img alt="heart icon" class=button__icon src=/assets/heart.svg></a><h2 id=contributors>Contributors <a class=anchor-link href=#contributors>#</a></h2><p>A huge thanks to the 256 contributors that made this release (and associated docs) possible! In random order:<ul class=contributors><li>@miroim<li>@vitorfhc<li>@13ros27<li>@andristarr<li>@mrtolkien<li>@atlv24<li>@MrGVSV<li>@SludgePhD<li>@Wuketuke<li>@AndrewDanial<li>@thebluefish<li>@waywardmonkeys<li>@VictorBulba<li>@Earthmark<li>@GitGhillie<li>@andriyDev<li>@shanecelis<li>@mintlu8<li>@bushrat011899<li>@TheCarton<li>@RobWalt<li>@NoahShomette<li>@jake8655<li>@sam-kirby<li>@Olle-Lukowski<li>@R081n<li>@adithramachandran<li>@msvbg<li>@freiksenet<li>@IQuick143<li>@AldanTanneo<li>@ricky26<li>@torsteingrindvik<li>@Chubercik<li>@Themayu<li>@umut-sahin<li>@hut<li>@JMS55<li>@hi-names-nat<li>@BobG1983<li>@gagnus<li>Fpgu<li>@dependabot[bot]<li>@Hexorg<li>@A-Walrus<li>@killercup<li>@rparrett<li>@Zeenobit<li>@Bluefinger<li>@Brezak<li>@nicoburns<li>@lee-orr<li>ebola<li>@JoshuaSchlichting<li>@mrchantey<li>@Aceeri<li>@ramirezmike<li>@mgi388<li>@LuisFigueiredo73<li>@benpinno<li>@james-j-obrien<li>@oli-obk<li>@tguichaoua<li>@SolarLiner<li>@s-puig<li>@dmlary<li>@brandon-reinhart<li>@ekropotin<li>@Victoronz<li>@janhohenheim<li>@Xzihnago<li>@infmagic2047<li>@spooky-th-ghost<li>@greytdepression<li>@philpax<li>@pablo-lua<li>@rmsthebest<li>@mockersf<li>@UkoeHB<li>@eira-fransham<li>@chompaa<li>@ghost<li>@pkupper<li>@porkbrain<li>@tychedelia<li>@Kanabenki<li>@MScottMcBee<li>@gabrielkryss<li>@EmiOnGit<li>@kristoff3r<li>@imrn99<li>@moonlightaria<li>@geekvest<li>@sampettersson<li>@JoJoJet<li>@JeanMertz<li>@arcashka<li>@Testare<li>@Davier<li>@SkiFire13<li>@ArthurBrussee<li>@IceSentry<li>@zuiyu1998<li>@snendev<li>@MiniaczQ<li>@soqb<li>Alice Cecile<li>@Gingeh<li>@Weibye<li>@viridia<li>@MarcoMeijer<li>@lambertsbennett<li>@doonv<li>@DGriffin91<li>@BD103<li>@forgemo<li>@StephenTurley<li>@kaosat-dev<li>@mnmaita<li>@Maximetinu<li>@eidloi<li>@yrns<li>@daxpedda<li>@Kurble<li>@findmyhappy<li>@inodentry<li>@TimJentzsch<li>@alice-i-cecile<li>@eero-lehtinen<li>@OneFourth<li>@pcwalton<li>@MonaMayrhofer<li>@jgayfer<li>@blukai<li>@vertesians<li>@geckoxx<li>@james7132<li>@theredfish<li>@nzhao95<li>@StrikeForceZero<li>@spectria-limina<li>@ChristopherBiscardi<li>@gavlig<li>@Multirious<li>@mweatherley<li>@TheNullicorn<li>@lukaschod<li>@salvadorcarvalhinho<li>@ua-kxie<li>@stinkytoe<li>@Aztro-dev<li>@bcolloran<li>@awwsmm<li>@TheRawMeatball<li>@tomara-x<li>@orzogc<li>@matiqo15<li>@TimLeach635<li>@uwuPyxl<li>@Soulghost<li>@benfrankel<li>@kornelski<li>@paolobarbolini<li>@notmd<li>@mamekoro<li>Franklin<li>@simbleau<li>@NixyJuppie<li>@coolreader18<li>@feyokorenhof<li>@eerii<li>@AmionSky<li>@jkb0o<li>@Shatur<li>@stowmyy<li>@chescock<li>@hymm<li>@ShadowMitia<li>@pietrosophya<li>@jnhyatt<li>@Jondolf<li>@jdm<li>@TrialDragon<li>@Remi-Godin<li>@Friz64<li>@dmyyy<li>@rib<li>@juliohq<li>@stepancheg<li>@nbielans<li>@komadori<li>@djeedai<li>@ManevilleF<li>@mghildiy<li>@BeastLe9enD<li>@JohnTheCoolingFan<li>@kettle11<li>@emilyselwood<li>@cBournhonesque<li>@aristaeus<li>@chrisjuchem<li>@allsey87<li>@nicopap<li>@tjamaan<li>@gibletfeets<li>@floppyhammer<li>@honungsburk<li>@CatThingy<li>@jakobhellermann<li>@aevyrie<li>@jirisvd<li>@CptPotato<li>@NiklasEi<li>@lynn-lumen<li>@AxiomaticSemantics<li>@Azorlogh<li>@zeux<li>@agiletelescope<li>@Elabajaba<li>@RobinKellnerVector<li>@iiYese<li>@ycysdf<li>@Waridley<li>@coreh<li>@yyogo<li>@targrub<li>@marcelchampagne<li>@tygyh<li>@unknownue<li>@TheNeikos<li>@Vrixyz<li>@MTFT-Games<li>@SpecificProtagonist<li>@Zoomulator<li>@afonsolage<li>@NthTensor<li>@cart<li>@maboesanman<li>@IWonderWhatThisAPIDoes<li>@re0312<li>@66OJ66<li>@theon<li>@robtfm<li>@NiseVoid<li>Lukas Chodosevicius<li>@superdump<li>@oyasumi731<li>@ameknite<li>@franklinblanco<li>@bugsweeper<li>@Zeophlite<li>@xStrom<li>@ItsDoot<li>@LeshaInc<li>@maniwani<li>@ickshonpe</ul><h2 id=full-changelog>Full Changelog <a class=anchor-link href=#full-changelog>#</a></h2><p>The changes mentioned above are only the most appealing, highest impact changes that we've made this cycle. Innumerable bug fixes, documentation changes and API usability tweaks made it in too. For a complete list of changes, check out the PRs listed below.<h3 id=accessibility-rendering>Accessibility + Rendering <a class=anchor-link href=#accessibility-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13828><p>Add first person view model example</p> </a></ul><h3 id=accessibility-windowing>Accessibility + Windowing <a class=anchor-link href=#accessibility-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12784><p>Move accessibility setup to accessibility module</p> </a></ul><h3 id=animation>Animation <a class=anchor-link href=#animation>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11707><p>Rework animation to be done in two phases.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12014><p>Fix docs for quaternion interpolation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11989><p>Implement the <code>AnimationGraph</code>, allowing for multiple animations to be blended together.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12931><p>fix find_current_keyframe panic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13067><p>Expose mutable Animation Clips</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12996><p>new example: sprite animation in response to an event</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13736><p>Make the component types of the new animation players clonable.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14104><p>Added <code>get_main_animation</code> for <code>AnimationTransitions</code></p> </a></ul><h3 id=animation-assets>Animation + Assets <a class=anchor-link href=#animation-assets>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13202><p>fix <code>bevy_gltf</code> crate build</p> </a></ul><h3 id=animation-color-math-rendering>Animation + Color + Math + Rendering <a class=anchor-link href=#animation-color-math-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12575><p>Color maths 4</p> </a></ul><h3 id=animation-color-rendering>Animation + Color + Rendering <a class=anchor-link href=#animation-color-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12614><p><code>Animatable</code> for colors</p> </a></ul><h3 id=animation-rendering>Animation + Rendering <a class=anchor-link href=#animation-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14065><p>don't put previous skin/morph in the morphed_skinned_mesh_layout</p> </a></ul><h3 id=app>App <a class=anchor-link href=#app>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/9202><p>Refactor App and SubApp internals for better separation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/9530><p>Added add_group to PluginGroupBuilder</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12640><p>Move PanicHandlerPlugin into bevy_app</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13022><p>Make <code>AppExit</code> more specific about exit reason.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13074><p>Simplify runner app exit code.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12761><p>Update <code>App:is_plugin_added</code> to work inside <code>Plugin::finish</code> and <code>Plugin::clean</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13215><p>Fix <code>custom_loop</code> example to include plugin finalization</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13080><p>Deprecate dynamic plugins</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13532><p>Fix bevy_app not compiling without default features</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13674><p>Forward exit codes in default app runner</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13779><p>Let init_non_send_resource require FromWorld instead of Default</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13833><p>Add missing plugins to doc of DefaultPlugins</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13817><p>Fix is_plugin_added::&LTSelf>() being true during build</p> </a></ul><h3 id=app-ecs>App + ECS <a class=anchor-link href=#app-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13637><p>Move state installation methods from <code>bevy_app</code> to <code>bevy_state</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13842><p>Ensure that events are updated even when using a bare-bones Bevy App (#13808)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13939><p>Move <code>StateTransitionSteps</code> registration to states plugin</p> </a></ul><h3 id=assets>Assets <a class=anchor-link href=#assets>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11961><p>Qualify embedded_asset expansion with $crate::</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12003><p>Fix example docs on embedded_asset macro</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12028><p>Parse missing mime types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12022><p>Create imported_assets directory with full path</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12060><p>Improve file watcher error msg</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12088><p>Add a way to get a strong handle from an AssetId</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12102><p>Normalise root path in file_watcher</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11986><p>Remove the UpdateAssets and AssetEvents schedules</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12127><p>Add to_bits and from_bits functions to <code>AssetIndex</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12023><p>Add methods to directly load assets from World</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12166><p>add note about unloading assets from ram in wasm</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11824><p>Add extra_asset_source example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12350><p>Use <code>.register_asset_source()</code> in <code>extra_asset_source</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12389><p>Move AssetEvents to Last</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11105><p>Fix doc comment on AssetActionMinimal</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12459><p>send Unused event when asset is actually unused</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12550><p>Use async-fn in traits rather than BoxedFuture</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12605><p>Make <code>AssetAction::Ignore</code> not copy assets to <code>imported_assets</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12636><p>Add path function to ProcessContext</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12655><p>Removed Into&LTAssedId&LTT>> for Handle&LTT> as mentioned in #12600</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12638><p>Fix get_asset_paths not properly deleting empty folders (& recursive async functions)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12134><p>Fix fetching assets in Web Workers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12759><p>Allow converting mutable handle borrows to AssetId.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12547><p>Add <code>AsyncSeek</code> trait to <code>Reader</code> to be able to seek inside asset loaders</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12828><p>Ignore query parameters in AssetPaths when determining the extension</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12709><p>Error info has been added to LoadState::Failed</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12882><p>Add example for using .meta files</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13004><p>Fix a copy-paste typo doc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13005><p>Fix extensionless image loading panic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13243><p>Fix unfinished sentence in a comment in asset_settings example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13177><p>Make <code>AssetMetaCheck</code> a field on the asset plugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13281><p>bevy_asset: Add missing web-sys feature and cleanup unused ones</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13382><p>Misc asset code quality and docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13399><p>Use <code>load_with_settings</code> instead of manually overriding srgbness in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13415><p>Add more load_direct implementations</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13465><p>Make LoadContext use the builder pattern for loading dependent assets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13051><p>Allow <code>AssetServer::load</code> to acquire a guard item.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13548><p>Add docs to bevy_gltf about loading parts of a Gltf asset</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13586><p>glTF labels: add enum to avoid misspelling and keep up-to-date list documented</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13272><p>Improvement of AssetServer::load documentation to help find a way to load from file with hash in filename</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13506><p>Avoid a panic when loading labelled assets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13558><p>Add labels to Gltf Node and Mesh assets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13700><p>Allow loading assets with custom async behavior</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13715><p>Provide more information when a filewatcher failure is hit.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13745><p>Improve error handling for <code>AssetServer::add_async</code></p> </a></ul><h3 id=assets-diagnostics>Assets + Diagnostics <a class=anchor-link href=#assets-diagnostics>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12988><p>Instrument asset loading and processing.</p> </a></ul><h3 id=assets-ecs>Assets + ECS <a class=anchor-link href=#assets-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12086><p>Use immutable key for <code>HashMap</code> and <code>HashSet</code></p> </a></ul><h3 id=assets-reflection>Assets + Reflection <a class=anchor-link href=#assets-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12264><p><code>#[reflect(Default)]</code> for Handle/Mesh2dHandle</p> </a></ul><h3 id=assets-rendering>Assets + Rendering <a class=anchor-link href=#assets-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11935><p>revert PointLightBundle to DirectionalLightBundle change made to asset_loading example between 0.12.1 and 0.13.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11854><p>Gltf loader now shows which file is missing pre baked tangents</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12355><p>Fix <code>ImageLoader</code> not being initialized with <code>webp</code> or <code>pnm</code> features</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12302><p>Allow setting RenderAssetUsages for gLTF meshes & materials during load</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12894><p>Fixed a bug where skybox ddsfile would crash from wgpu</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12863><p>Created loading screen example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12827><p>Consolidate Render(Ui)Materials(2d) into RenderAssets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13002><p>Added deref trait for Mesh2dHandle</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13396><p>fix normals computation for gltf</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13575><p>Add ImageFormatSetting::Guess to image loader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13609><p>unload unused images that are RenderAssetUsages::RENDER_WORLD</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13453><p>add handling of all missing gltf extras: scene, mesh & materials</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14038><p>Improve MeshletMesh::from_mesh performance</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14038><p>Improve MeshletMesh::from_mesh performance further</p> </a></ul><h3 id=audio>Audio <a class=anchor-link href=#audio>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12316><p>don't depend directly on oboe</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12338><p>Contribution guidelines for <code>bevy_audio</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12407><p>Fix leftover references to children when despawning audio entities</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12765><p>updated audio_source.rs documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12774><p>Programmed soundtrack example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12998><p>Adding explanation for loading additonal audio formats to example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13612><p>Update to <code>rodio</code> 0.18</p> </a></ul><h3 id=build-system>Build-System <a class=anchor-link href=#build-system>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11900><p>Add a <code>[lints]</code> entry for workspace members missing it</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12037><p>Fix taplo CI - toml fmt</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12103><p>Check <code>cfg</code> during CI and fix feature typos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12036><p>Add <code>typos</code> - Source code spell checker</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12133><p>CI: run long tasks on new macOS runners</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11130><p>add cancel in progress support to automated CI checks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12178><p>Update cargo deny</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12230><p>Explicitly run <code>+nightly</code> for <code>-Zcheck-cfg</code> pass in ci.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12293><p>Fix failures of typos and check-cfg</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12242><p>Quality-of-life updates for running CI locally</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12309><p>Fix duplicate dependencies on raw-window-handle</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12370><p>Fix minimal plugins in ci</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12385><p>CI testing: don't crash if screenshot manager resource is not available</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12440><p>Fix CI desktop mode patch</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12456><p>change file location for showcase patch for light</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12518><p>make align deterministic with a seeded random</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12515><p>make alien_cake_addict deterministic with a seeded random</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12457><p>check that patches are not broken</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12519><p>make example font_atlas_debug deterministic with a seeded random</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12623><p>Fix Ci failing over dead code in tests</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12682><p>Remove redundant doc_auto_config</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12808><p>Add repository field to bevy_utils_proc_macros</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12832><p>Fix wrong dependency in weekly ci</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12906><p>Fix strings not interpolating in weely ci run</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12841><p>Small CI tool improvements</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12923><p>tools: Refactor CI to use <code>argh</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12850><p>Create custom action for installing Linux dependencies</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12964><p>fail when an example doesn't set doc-scrape-examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13037><p>Remove unused nightly toolchain environmental variable</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13061><p>Bump crate-ci/typos from 1.20.8 to 1.20.9</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12609><p>Improve output of example showcase patches CI workflow</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13060><p>Small CI improvements</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13077><p>install rust target for arm ios simulator</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12672><p>Make dynamic_linking a no-op on wasm targets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13101><p>Restructure <code>ci</code> modules</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13131><p>Bump crate-ci/typos from 1.20.9 to 1.20.10</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13137><p>Small changes to <code>ci</code> tool</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13088><p>Example setup for tooling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13154><p>new format for ci config file</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13245><p>Update compile test to use ui_test 0.23</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13256><p>Bump crate-ci/typos from 1.20.10 to 1.21.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13278><p>Don't deploy docs when working on a fork</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13286><p>Fix <code>asset-source-website.patch</code> line number</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13274><p>Update release workflow pr body</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13280><p>Add <code>cargo ci</code> alias for <code>ci</code> tool</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13513><p>Refactor <code>ci_testing</code> and separate it from <code>DevToolsPlugin</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13655><p>Regenerate light cluster patch file</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13908><p>Shader code paths</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14035><p>example showcase: keep the order of the shaders imported</p> </a></ul><h3 id=build-system-cross-cutting>Build-System + Cross-Cutting <a class=anchor-link href=#build-system-cross-cutting>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12763><p>Check CI against Rust beta each week</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12810><p>Switch to ui_test in compile fail tests.</p> </a></ul><h3 id=build-system-dev-tools>Build-System + Dev-Tools <a class=anchor-link href=#build-system-dev-tools>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12371><p>move ci testing to dev_tools</p> </a></ul><h3 id=build-system-ecs-reflection>Build-System + ECS + Reflection <a class=anchor-link href=#build-system-ecs-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13196><p>Move compile fail tests</p> </a></ul><h3 id=build-system-meta>Build-System + Meta <a class=anchor-link href=#build-system-meta>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11928><p>Add bevy_gizmos/macros to publish script</p> </a></ul><h3 id=build-system-rendering>Build-System + Rendering <a class=anchor-link href=#build-system-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13180><p>Fix CI error on new color grading example</p> </a></ul><h3 id=color>Color <a class=anchor-link href=#color>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12196><p>minor oklab/oklch doc nitpicks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12526><p>Solve some oklaba inconsistencies</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12649><p>Implement maths and <code>Animatable</code> for <code>Srgba</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13209><p>move wgsl color operations from bevy_pbr to bevy_render</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13276><p>Add color conversions #13224</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13307><p>Remove <code>ClampColor</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13285><p>Implement Color Operations for <code>Color</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13237><p>Added a Grey trait, and implementations on baked-in colors. Fixes #13206</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13759><p>Adds back in way to convert color to u8 array, implemented for the two RGB color types, also renames Color::linear to Color::to_linear.</p> </a></ul><h3 id=color-gizmos>Color + Gizmos <a class=anchor-link href=#color-gizmos>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12915><p>Use <code>impl Into&amplt;Color&ampgt;</code> for <code>gizmos.primitive_3d(...)</code></p> </a></ul><h3 id=color-gizmos-rendering-text-ui>Color + Gizmos + Rendering + Text + UI <a class=anchor-link href=#color-gizmos-rendering-text-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12163><p>Migrate from <code>LegacyColor</code> to <code>bevy_color::Color</code></p> </a></ul><h3 id=color-rendering>Color + Rendering <a class=anchor-link href=#color-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12067><p>bevy_color: adding 'palettes' module.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12072><p><code>bevy_color</code>: Created a private trait <code>StandardColor</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12079><p><code>bevy_color</code>: Added <code>Xyza</code> Colour Space</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12082><p>Simplified <code>bevy_color</code> <code>Srgba</code> hex string parsing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12105><p>Made <code>bevy_color</code> a dependency of <code>bevy_render</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12116><p>Port <code>bevy_core_pipeline</code> to <code>LinearRgba</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12114><p><code>bevy_color</code>: Added <code>Hsva</code> and <code>Hwba</code> Models</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12115><p><code>bevy_color</code>: Add <code>Laba</code> to support Lab Color Model</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12147><p><code>bevy_color</code>: Added Color Conversion Mermaid Diagram</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12158><p>Define a prelude for bevy_color, and add it to bevy_internal</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12171><p><code>bevy_color::Color</code> convenience methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12168><p><code>bevy_color</code>: Add Oklch Color Space</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12172><p>Re-export <code>basic</code> color palette via <code>css</code> color palette</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12173><p><code>bevy_color</code>: Add <code>sequence_dispersed</code> to <code>Hsla</code>, <code>Lcha</code>, <code>Oklcha</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12528><p>Reflect default in colorspaces in <code>bevy_color</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12080><p>bevy_color: Add Tailwind palette</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12583><p>Fix <code>Oklab</code> and <code>Oklch</code> color space inconsistency</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12399><p>Add hue traits</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13352><p>Emissive is now LinearRgba on StandardMaterial</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13502><p>fix emissive value in StandardMaterial after swith to LinearRgba</p> </a></ul><h3 id=color-rendering-ui>Color + Rendering + UI <a class=anchor-link href=#color-rendering-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12013><p>Upstreaming bevy_color.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12069><p>Rename <code>bevy_render::Color</code> to <code>LegacyColor</code></p> </a></ul><h3 id=core>Core <a class=anchor-link href=#core>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11115><p>Explain Camera2dBundle.projection needs to be set carefully</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13291><p>bevy_core: Derive useful traits on FrameCount</p> </a></ul><h3 id=cross-cutting>Cross-Cutting <a class=anchor-link href=#cross-cutting>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12696><p>Set the logo and favicon for all of Bevy's published crates</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12707><p>Remove unnecessary executable flags from Rust source files</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12684><p>Forbid unsafe in most crates in the engine</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12817><p>Remove redundant imports</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12858><p>Clean up some low level dependencies</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12927><p>Fix some nightly Clippy lints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12961><p>Fix some doc warnings</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12980><p>Fix beta lints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13033><p>Fix uses of "it's" vs "its".</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13030><p>Fix Clippy lints on WASM</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13059><p>Switch monolithic lib to module re-exports</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13083><p>chore: fix some comments</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13100><p>Remove <code>version</code> field for non-publish crates and update descriptions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13136><p>Improve <code>config_fast_builds.toml</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13184><p>Add <code>README.md</code> to all crates</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13211><p>Determine msrv for every standalone bevy_* crate.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13413><p>Revert "Add <code>on_unimplemented</code> Diagnostics to Most Public Traits"</p> </a></ul><h3 id=cross-cutting-dev-tools-gizmos>Cross-Cutting + Dev-Tools + Gizmos <a class=anchor-link href=#cross-cutting-dev-tools-gizmos>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12948><p>Fix crates not building individually</p> </a></ul><h3 id=cross-cutting-ecs>Cross-Cutting + ECS <a class=anchor-link href=#cross-cutting-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12993><p>Implement clone for most bundles.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13414><p>Unrevert (vert?) "Add <code>on_unimplemented</code> Diagnostics to Most Public Traits"</p> </a></ul><h3 id=dev-tools>Dev-Tools <a class=anchor-link href=#dev-tools>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12382><p>Fps overlay</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12586><p>Always spawn fps_overlay on top of everything</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12737><p>rename <code>debug_overlay</code> to <code>ui_debug_overlay</code> in bevy_dev_tools</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12859><p>remove close_on_esc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13198><p>Use folder for example showcase reports and add show logs flag</p> </a></ul><h3 id=dev-tools-diagnostics>Dev-Tools + Diagnostics <a class=anchor-link href=#dev-tools-diagnostics>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12584><p>Make SystemInfo a Resource</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13693><p>Poll system information in separate tasks</p> </a></ul><h3 id=dev-tools-diagnostics-rendering>Dev-Tools + Diagnostics + Rendering <a class=anchor-link href=#dev-tools-diagnostics-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/9135><p>Add pipeline statistics</p> </a></ul><h3 id=dev-tools-ecs-networking>Dev-Tools + ECS + Networking <a class=anchor-link href=#dev-tools-ecs-networking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12829><p>Add methods <code>iter_resources</code> and <code>iter_resources_mut</code></p> </a></ul><h3 id=dev-tools-gizmos-ui>Dev-Tools + Gizmos + UI <a class=anchor-link href=#dev-tools-gizmos-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11237><p>Add a gizmo-based overlay to show UI node outlines (Adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12568><p>fix: correctly handle UI outline scale</p> </a></ul><h3 id=dev-tools-reflection>Dev-Tools + Reflection <a class=anchor-link href=#dev-tools-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13102><p>iter_with_data</p> </a></ul><h3 id=dev-tools-windowing>Dev-Tools + Windowing <a class=anchor-link href=#dev-tools-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12855><p>Move <code>close_on_esc</code> to <code>bevy_dev_tools</code></p> </a></ul><h3 id=diagnostics>Diagnostics <a class=anchor-link href=#diagnostics>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12046><p>Remove unnecessary wildcards from <code>LogPlugin</code> and convert warnings to errors.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12164><p>Make sysinfo diagnostic plugin optional</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12254><p>Replace bevy_log's tracing reexport with bevy_utils'</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12045><p>Add access to <code>App</code> within <code>LogPlugin::update_subscriber</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12373><p>Remove "features" feature</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12305><p>Simplified backtraces</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12421><p>fix deprecations from toml_edit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12633><p>Handle NaNs in diagnostics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12743><p>Fix unhandled null characters in Android logs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13252><p>Remove bevy log's usage of non send resource</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13159><p>Improve tracing layer customization</p> </a></ul><h3 id=diagnostics-ecs>Diagnostics + ECS <a class=anchor-link href=#diagnostics-ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12950><p>Remove the system task span</p> </a></ul><h3 id=diagnostics-rendering>Diagnostics + Rendering <a class=anchor-link href=#diagnostics-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/4964><p>Add error when extract resource build fails</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12977><p>fix shadow pass trace</p> </a></ul><h3 id=ecs>ECS <a class=anchor-link href=#ecs>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11952><p>Update documentation for WorldQuery and filters</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11959><p>Stepping disabled performance fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12030><p>Fix <code>SystemTypeSet::system_type</code> being out of sync with <code>System::type_id</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11861><p>bevy_ecs address trivial cases of <code>unsafe_op_in_unsafe_fn</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12073><p>Loosen lifetime requirements for single-threaded <code>Scope::spawn</code> to match the multi-threaded version.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12076><p>Fix SimpleExecutor crash</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11823><p>Immediately apply deferred system params in System::run</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12111><p>Update docstrings for some Commands to use the correct type</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12119><p>Add Archetype::component_count</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11759><p>Implements conversion from <code>SystemId</code> to <code>Entity</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12151><p>Remove downcast-rs as a dependency from bevy_ecs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10756><p>Component Lifecycle Hooks and a Deferred World</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12244><p>Replace init_component_info with register_component_hooks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12249><p>Document instability of Entity's internal representation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12234><p>Move commands module into bevy::ecs::world</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12083><p>Use NonMaxUsize for non-component SparseSets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12295><p>Improve components hooks docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12289><p>bevy_ecs: Fix up docs for <code>World::run_system</code> and <code>World::run_system_with_input</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11141><p>Rewrite part of Commands rustdoc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12311><p>Remove ComponentStorage and associated types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12307><p>Remove initialize_resource&LTT> and friends</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12269><p>Clean up pointer use in BundleSpawner/BundleInserter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12406><p>Implement MutUntyped::from(mut_typed)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12400><p>Mention in docs about the query iteration order and result uniqueness.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11535><p>Query Joins</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12436><p>SystemId should manually implement <code>Eq</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12466><p>Make a note about the performance of Query::is_empty</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12469><p>Fix inconsistency between Debug and serialized representation of Entity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12435><p>Split ScheduleGraph::process_configs function (adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12474><p>Remove archetype_component_access from QueryState</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12419><p>Add into_ methods for EntityMut and EntityWorldMut that consume self.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12551><p>Remove WorldCell</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12595><p>Update ecs query docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11019><p>Allow Commands to register systems</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12578><p>Adding some docs for archetype internals</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12657><p>Update safety comment for bundle removal</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12573><p>Added an <code>init_bundle</code> method to <code>World</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12722><p>Add Debug to Has Query type</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12398><p>Implement QueryData for &Archetype and EntityLocation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12777><p>Implement Clone for ManualEventReader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12776><p>Add QueryState::contains, document complexity, and make as_nop pub(crate)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12476><p>Store only the IDs needed for Query iteration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12812><p>Fix typos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12812><p>Fix typos in insert_or_spawn_batch/spawn_batch methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12815><p>Add <code>RemovedComponentEvents::iter</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12844><p>Remove unnecessary branch in query iteration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12842><p>Add <code>EntityWorldMut::remove_by_id</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12847><p>Remove stepping from default features</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12846><p>Cluster small table/archetype into single Task in parallel iteration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12896><p>Implement <code>From&amplt;&ampamp;&amp#x27;w mut EntityMut&ampgt;</code> for <code>EntityMut&amplt;&amp#x27;w&ampgt;</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12947><p>Add archetypal to Access Debug impl</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12936><p>Optimize Event Updates</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12919><p>Update docs of <code>set_if_neq</code> and <code>replace_if_neq</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12969><p>Cleanup the multithreaded executor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13000><p>fix: use try_insert instead of insert in bevy_ui to prevent panics when despawning ui nodes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13044><p>Make SystemParam::new_archetype and QueryState::new_archetype unsafe functions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13049><p>Fix doc when state is missing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12554><p>Parallel event reader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12904><p>Improve par_iter and Parallel</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13081><p>Use <code>ptr::from_ref</code> and <code>ptr::addr_eq</code> in macro</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12984><p>Add <code>#[track_caller]</code> to <code>Query</code> methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13090><p>Better SystemId to Entity conversions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13174><p>add schedule docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11426><p>Computed State & Sub States</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13193><p>Schedule resource mutation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13201><p>Make one-shot example more noob friendly</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13188><p>Separate unrelated code to submodules in compute/sub-state examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13216><p>Separate state crate</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13322><p>State example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13343><p>constrain WorldQuery::get_state to only use &Components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13338><p>Implement <code>WorldQuery</code> and <code>QueryData</code> on <code>Mut</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13417><p>implement the full set of sort methods on QueryIter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13458><p>Fix doc for Added, Changed</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13123><p>Implement a SystemBuilder for building SystemParams</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13475><p>Further improve docs for component hooks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13476><p>simple Debug impls for query iterators</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13249><p>Refactor command application for more consistency</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13554><p>Fix unsoundness in <code>FilteredEntity{Ref,Mut}</code> various <code>get</code> methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13442><p>constrain WorldQuery::init_state argument to ComponentInitializer</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13578><p>Update docs for NextState</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13594><p>Unify transition names to <code>exited</code> and <code>entered</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13588><p>Add ability to clear all components on an entity via EntityWorldMut</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13616><p>Simplify state transitions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13626><p>Combine transition systems of <code>Substates</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13638><p>Clean up substate code a bit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13662><p>Add <code>on_unimplemented</code> Diagnostics to Most Public Traits</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13662><p>Add <code>on_unimplemented</code> Diagnostics to Most Public Traits (#13347)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13649><p>Move utilities from examples to <code>bevy_state</code> and add concept of state-scoped entities</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13579><p>Generalize <code>StateTransitionEvent&amplt;S&ampgt;</code> to allow identity transitions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13584><p>Add dynamic slice based variants of get_many_entities methods</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13722><p>Update crate metadata for bevy state</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13737><p>Clear messed up feature flag on AppExitStates impl</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13774><p>Fix EntityCommands::despawn docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13763><p>Add more granular system sets for state transition schedule ordering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13772><p>fix docs around <code>StateTransition</code> and remove references to `apply_sta…</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13740><p>Update serialize flag for bevy_ecs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13762><p>Remove extra call to clear_trackers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13804><p>Revert "constrain WorldQuery::init_state argument to ComponentInitial…</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13812><p>Fix minor typos in query join docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13848><p>Restore overwrite capabilities of <code>insert_state</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13873><p>Generalised ECS reactivity with Observers (#10839)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13862><p>remove inaccurate warning from <code>in_state</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13877><p>Warn about missing <code>StatesPlugin</code> when installing states</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13884><p>observers example doesn't follow standards</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13886><p>Update observer archetype flags for sparse components</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14009><p>feat(bevy_app): expose an API to perform updates for a specific sub-app.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14011><p>Don't show <code>.to_bits</code> in <code>Display</code> impl for <code>Entity</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14014><p>Fixing par_read targetting 0.14 branch</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14013><p>AnyOf soundness fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14028><p>Emit a warning if the result of <code>EntityCommand::with_entity</code> is not used</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14040><p>add missing sort_unstable_by_key to QueryIter</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14051><p>Add missing StaticSystemParam::queue implementation.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14027><p>Fix error in AnyOf</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14109><p>Fix <code>push_children</code> inserting a <code>Children</code> component even when no children are supplied</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14108><p>add missing mention of sort_unstable_by_key in QuerySortedIter docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14114><p>Backport #14083 (deregister events) to 0.14 branch</p> </a></ul><h3 id=ecs-networking>ECS + Networking <a class=anchor-link href=#ecs-networking>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13525><p>Add Hash for Tick</p> </a></ul><h3 id=ecs-networking-scenes>ECS + Networking + Scenes <a class=anchor-link href=#ecs-networking-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13630><p>Make <code>SceneEntityMapper</code> constructor/destructor public</p> </a></ul><h3 id=ecs-pointers>ECS + Pointers <a class=anchor-link href=#ecs-pointers>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12893><p>Document the lifetime requirement of <code>byte_offset</code> and <code>byte_add</code></p> </a></ul><h3 id=ecs-reflection>ECS + Reflection <a class=anchor-link href=#ecs-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12136><p>Replace <code>FromWorld</code> requirement on <code>ReflectResource</code> and reflect <code>Resource</code> for <code>State&amplt;S&ampgt;</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12895><p>Make some <code>ReflectComponent</code>/<code>ReflectBundle</code> methods work with <code>EntityMut</code> too</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12499><p>Make <code>from_reflect_or_world</code> also try <code>ReflectDefault</code> and improve some comments and panic messages</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13149><p>Add Reflect derive to Events and contained types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13549><p>Generalize component reflection to operate on <code>FilteredEntityRef</code> and <code>FilteredEntityMut</code>, not <code>EntityRef</code> and <code>EntityMut</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13648><p>feat: Reflection implementations on Identifier</p> </a></ul><h3 id=ecs-rendering>ECS + Rendering <a class=anchor-link href=#ecs-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11974><p>Remove APIs deprecated in 0.13</p> </a></ul><h3 id=ecs-tasks>ECS + Tasks <a class=anchor-link href=#ecs-tasks>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12004><p>Update async-channel to 2.2.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11906><p>Run the multi-threaded executor at the end of each system task.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12997><p>multi_threaded feature rename</p> </a></ul><h3 id=ecs-utils>ECS + Utils <a class=anchor-link href=#ecs-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12772><p>Moves intern and label modules into bevy_ecs</p> </a></ul><h3 id=editor>Editor <a class=anchor-link href=#editor>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11341><p>Add bevy_dev_tools crate</p> </a></ul><h3 id=editor-gizmos>Editor + Gizmos <a class=anchor-link href=#editor-gizmos>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12211><p>Add coordinate axes gizmo</p> </a></ul><h3 id=editor-reflection>Editor + Reflection <a class=anchor-link href=#editor-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11659><p>bevy_reflect: Custom attributes</p> </a></ul><h3 id=gizmos>Gizmos <a class=anchor-link href=#gizmos>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11916><p>Move gizmos examples in the separate folder</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12034><p>make gizmo groups ordering stable when rendering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11988><p>Add Grid gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12228><p>Add basic light gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12299><p>Example for axes gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12375><p>Fix gizmos panicking given bad output from <code>GlobalTransform::to_scale_rotation_translation</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12335><p>Improve gizmo axes example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12252><p>Gizmo line joints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12401><p>Gizmos: Replace PositionItem with Vec3</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12430><p>Gizmo 3d grids</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12486><p>order systems in axes example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12394><p>Gizmo line styles</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12135><p>Support wireframes for 2D meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12854><p>Changed the order of arguments for the Arc gizmo docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12914><p>Add tetrahedron gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11890><p>Add double end arrow to gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10973><p>Contextually clearing gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13326><p>gizmos: take normal of normal on plane 3d before rotation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11948><p>Add Rounded box gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13401><p>De-clutter <code>2d_gizmos</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13438><p>Inconsistent segments/resolution naming</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13534><p>Make gizmos take primitives by ref</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13261><p>More gizmos builders</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12334><p>Add axes_2d gizmo.</p> </a></ul><h3 id=gizmos-math>Gizmos + Math <a class=anchor-link href=#gizmos-math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12563><p>pick nits from example bounding_2d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13233><p>Add <code>Annulus</code>-gizmos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13482><p>New circular primitives: <code>Arc2d</code>, <code>CircularSector</code>, <code>CircularSegment</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13504><p>Add <code>Triangle3d</code> / <code>Tetrahedron</code> to render_primitives example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13501><p>Implement Rhombus 2D primitive.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13610><p>Implemented GizmoPrimitive2d for <code>Arc2d</code>, <code>CircularSegment</code>, <code>CircularSector</code>, and make arc_2d use counter-clockwise angle.</p> </a></ul><h3 id=gizmos-reflection>Gizmos + Reflection <a class=anchor-link href=#gizmos-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12104><p>Reflect <code>GizmoConfigStore</code></p> </a></ul><h3 id=gizmos-rendering>Gizmos + Rendering <a class=anchor-link href=#gizmos-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12128><p>Use LinearRgba in <code>bevy_gizmos</code> internals</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13756><p>view.inverse_clip_from_world should be world_from_clip</p> </a></ul><h3 id=hierarchy>Hierarchy <a class=anchor-link href=#hierarchy>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12733><p>Add entity id to hierarchy propagation error message</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12943><p>fix bevy_hierarchy crate optional feature <code>bevy_app</code></p> </a></ul><h3 id=hierarchy-scenes>Hierarchy + Scenes <a class=anchor-link href=#hierarchy-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12710><p>Update the <code>Children</code> component of the parent entity when a scene gets deleted</p> </a></ul><h3 id=input>Input <a class=anchor-link href=#input>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/7743><p>also look in just_pressed touches for position</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10126><p>Add table showing complexity of methods for Input</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11872><p>Prevent panic when multiple Enter inputs received in <code>text_input</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12048><p>only update <code>Touches</code> resource when needed</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12096><p>Fix missing renaming of Input -> ButtonInput</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12092><p>Make Gilrs a normal resource on non-Wasm targets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12100><p>Add WinitEvent aggregate event for synchronized window event reading</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12284><p>Update <code>Input</code> to <code>ButtonInput</code> in a couple places at keyboard input docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12424><p>Send GamepadEvent for gamepads connected at startup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12661><p>Clarify documentation regarding just_released and just_pressed inputs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12818><p>Remove unused <code>ImePreedit</code> component from <code>text_input</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12556><p>fix previous_position / previous_force being discarded too early</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13047><p>ButtonInput docs - performance cost adjustment</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13046><p>Added <code>ButtonInput</code> docs usage example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13660><p>rename touchpad to gesture, and add new gestures</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13696><p>Fix phantom key presses in winit on focus change (#13299)</p> </a></ul><h3 id=input-math>Input + Math <a class=anchor-link href=#input-math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13653><p>Added CompassQuadrant and CompassOctant as per #13647</p> </a></ul><h3 id=input-windowing>Input + Windowing <a class=anchor-link href=#input-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12367><p>Document ButtonInput behavior regarding window focus</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12868><p>Deprecate <code>ReceivedCharacter</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13678><p>flush key_input cache when Bevy loses focus (Adopted)</p> </a></ul><h3 id=math>Math <a class=anchor-link href=#math>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11934><p>Add single-f32 constructors for a few (very few) primitives</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12018><p>Add <code>Direction3dA</code> and move direction types out of <code>primitives</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10701><p>Cubic splines overhaul</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12189><p>Rename <code>Direction2d&amp#x2F;3d</code> to <code>Dir2&amp#x2F;3</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12276><p>Implement <code>Mul</code> between <code>f32</code> and direction types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12278><p>Improve error messages for denormalized directions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11681><p>Support transforming bounding volumes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12315><p>Add note about rotations for <code>Aabb3d</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11658><p>Add <code>Rotation2d</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12142><p>Add <code>scale_around_center</code> method to <code>BoundingVolume</code> trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12482><p>change doc for SphereKind::Ico to reflect that the triangles are equa…</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12484><p>Uniform point sampling methods for some primitive shapes.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12516><p>Add methods to return the inner value for direction types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12594><p>Add a from Dir2 impl for Vec2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12574><p>Make cardinal splines include endpoints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12508><p>Add <code>Triangle3d</code> primitive to <code>bevy_math::primitives</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12748><p>Math tests fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12754><p>Implement <code>From&amplt;Vec2&ampgt;</code> for <code>AspectRatio</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12747><p>Move <code>Point</code> out of cubic splines module and expand it</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12766><p>Fix <code>Triangle2d</code>/<code>Triangle3d</code> interior sampling to correctly follow triangle</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12796><p>Remove VectorSpace impl on Quat</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12688><p>Add <code>Tetrahedron</code> primitive to <code>bevy_math::primitives</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12865><p>fixing line comment in 2d_shapes.rs example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12867><p>Change <code>Tetrahedron</code> default origin to <code>(0, 0, 0)</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12857><p>Random sampling of directions and quaternions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12686><p>Meshing for <code>Triangle3d</code> primitive</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13020><p>Math primitives cleanup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13065><p>Additional doc aliases for <code>WindingOrder</code> in <code>bevy_math</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13087><p>Use Vec3A for 3D bounding volumes and raycasts</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12757><p>Update glam version requirement from 0.25 to 0.27</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13025><p>Ellipse functions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13267><p>replace std::f32::EPSILON with f32::EPSILON</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13305><p>Add <code>AXES</code> iterators for <code>Dir</code> types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13293><p>Add copy, clone, and debug derives to cubic spline structs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13365><p>Allow shapes to be constructed with zero values</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13430><p>Tetrahedron sampling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13451><p>Add slerp function for Dir2, Dir3, Dir3A</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13315><p>Add <code>Distribution</code> access methods for <code>ShapeSample</code> trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13471><p>Annulus sampling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13467><p>Add triangle_math tests and fix Triangle3d::bounding_sphere bug</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13483><p>Mention of Vec normalization for Dir::new</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13507><p>Example for random sampling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13519><p>Create a primitive sampling showcase example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13568><p>Clarify cone position</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13567><p>Implement <code>ShapeSample</code> for <code>Extrusion&amplt;T&ampgt;</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13581><p>Add wireframe toggle to 2d and 3d shapes example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13636><p>Add compass direction constants to <code>Dir2</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13670><p><code>Dir2</code> -> <code>Rotation2d</code> conversions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13346><p>Extrusion bounded</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13676><p>Meshable extrusions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13676><p>Meshable extrusions - Part 2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13684><p>Allow creation of random <code>Rotation2d</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13688><p>Allow <code>Bounded3d</code> implementations for custom primitives</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13694><p>Rename <code>Rotation2d</code> to <code>Rot2</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13719><p>Extrusion</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13719><p>Add segments to <code>ExtrusionBuilder</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13795><p>Custom primitives example</p> </a></ul><h3 id=math-reflection>Math + Reflection <a class=anchor-link href=#math-reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13348><p>Add reflect impls for bevy_math curve structs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13520><p>Move <code>bevy_math</code> <code>Reflect</code> impls</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13537><p>Implemented <code>Reflect</code> for (almost) all <code>bevy_math</code> types</p> </a></ul><h3 id=math-rendering>Math + Rendering <a class=anchor-link href=#math-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12706><p>Add <code>Annulus</code> primitive to <code>bevy_math::primitives</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12734><p>Meshing for <code>Annulus</code> primitive</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12426><p>separating finite and infinite 3d planes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11820><p>Add meshing for <code>Cone</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13411><p>Common <code>MeshBuilder</code> trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13380><p>Fix normals during mesh scaling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13463><p>Tetrahedron mesh</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11819><p>Add meshing for <code>ConicalFrustum</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13605><p>Additional options to mesh primitives</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13580><p>Add subdivisions to PlaneMeshBuilder</p> </a></ul><h3 id=math-transform>Math + Transform <a class=anchor-link href=#math-transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12986><p>Make <code>Transform::rotate_axis</code> and <code>Transform::rotate_local_axis</code> use <code>Dir3</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13264><p>Use <code>Dir3</code> for local axis methods in <code>GlobalTransform</code></p> </a></ul><h3 id=math-utils>Math + Utils <a class=anchor-link href=#math-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12711><p>Fix <code>Ord</code> and <code>PartialOrd</code> differing for <code>FloatOrd</code> and optimize implementation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12732><p>Move FloatOrd into bevy_math</p> </a></ul><h3 id=math-windowing>Math + Windowing <a class=anchor-link href=#math-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12840><p>Implement basic traits for <code>AspectRatio</code></p> </a></ul><h3 id=meta>Meta <a class=anchor-link href=#meta>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11983><p>Replace references to old book with quick start guide</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12020><p>Bump Version after Release</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12041><p>Add a release step, add links to the github release note</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12425><p>Update funding link</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12879><p>document how to publish patches</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13163><p>Add note on partial reviews</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13161><p>Add paragraph on requesting reviews</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13166><p>Add Testing section to the PR template</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13160><p>Add guidance on closing PRs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13164><p>Reorganize issue labels</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13162><p>Add a process for working groups</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13718><p>Document the Release Candidate process</p> </a></ul><h3 id=modding>Modding <a class=anchor-link href=#modding>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12029><p>Document all members of <code>bevy_dynamic_plugin</code></p> </a></ul><h3 id=pointers>Pointers <a class=anchor-link href=#pointers>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12391><p>Add more comprehensive crate level docs for bevy_ptr</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13498><p>add Debug for ptr types</p> </a></ul><h3 id=reflection>Reflection <a class=anchor-link href=#reflection>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/5781><p>bevy_reflect: Recursive registration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11840><p>Add method for querying whether a given short type path is ambiguous</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12024><p>reflect: treat proxy types correctly when serializing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12124><p>Added reflect support for std::HashSet, BTreeSet and BTreeMap.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12146><p>Remove unnecessary <code>impl_reflect_for_btree_map</code> macro</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12314><p>Clean up type registrations</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12433><p>bevy_reflect: Remove <code>U32Visitor</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12495><p>Add reflect for type id</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12503><p>add reflect for BinaryHeap</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12596><p>reflect: remove manual Reflect impls which could be handled by macros</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12721><p>bevy_reflect: Rename <code>UntypedReflectDeserializer</code> to <code>ReflectDeserializer</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13182><p>Implement Reflect for Result&LTT, E> as enum</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13220><p>examples: Add <code>Dynamic Types</code> reflection example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13269><p>Rename <code>bevy_reflect_derive</code> folder to <code>derive</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12646><p>Finish the work on <code>try_apply</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13303><p>bevy_reflect: Remove <code>ContainerAttributes::merge</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13271><p>Avoid bevy_reflect::List::iter wrapping in release mode</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13424><p>bevy_reflect: <code>enum_utility</code> cleanup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13592><p>Add some missing reflect for volumetric fog types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13691><p>hashing error in bevy_reflect now includes the type (bevyengine#13646)</p> </a></ul><h3 id=reflection-rendering>Reflection + Rendering <a class=anchor-link href=#reflection-rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12132><p>Make <code>TemporalJitter</code> and <code>MipBias</code> reflectable</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12580><p>Reflect default in some types on <code>bevy_render</code></p> </a></ul><h3 id=reflection-scenes>Reflection + Scenes <a class=anchor-link href=#reflection-scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12464><p>Fix: deserialize <code>DynamicEnum</code> using index</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12715><p>Fix TypeRegistry use in dynamic scene</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13650><p>Map entities from a resource when written to the world.</p> </a></ul><h3 id=reflection-time>Reflection + Time <a class=anchor-link href=#reflection-time>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13263><p>Make <code>bevy_time</code> optionally depend on <code>bevy_reflect</code></p> </a></ul><h3 id=reflection-utils>Reflection + Utils <a class=anchor-link href=#reflection-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12971><p>impl <code>Reflect</code> for <code>EntityHashSet</code></p> </a></ul><h3 id=rendering>Rendering <a class=anchor-link href=#rendering>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/9924><p>Per-Object Motion Blur</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10164><p>Meshlet rendering (initial feature)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11962><p>Fix dds feature dependencies in bevy_core_pipeline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11966><p>Add the serde feature to bitflags for bevy_render.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11939><p>rename Camera3dBundle's 'dither' field to 'deband_dither' to align with Camera2dBundle</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10506><p>Implement Debug for SpriteBundle and SpriteSheetBundle</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11804><p>Allow Mesh-related queue phase systems to parallelize</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11999><p>Save 16 bytes per MeshUniform in uniform/storage buffers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11968><p>Fix MSAA writeback when 3 or more cameras have the same target.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11904><p>Add support for KHR_texture_transform</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12012><p>Move AlphaMode into bevy_render</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12032><p>Make Globals visible in vertex shaders</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12047><p>Fixed Ui Image slicing</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12052><p>FIX: iOS Simulator not rendering due to missing CUBE_ARRAY_TEXTURES</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12053><p>Make more things pub in the renderer</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12051><p>set pipeline to queued when shader is not yet available</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12074><p>fix typo: converstion -> conversion</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12065><p>make reflection probe example frame rate independent</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12078><p>Pad SkyUniforms to 16 bytes for WASM</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12099><p>Adding "fluent" methods to modify color channels.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11698><p>Prefer <code>UVec2</code> when working with texture dimensions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12084><p>Cleanup: Use Parallel in extract_meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11982><p>Increase 3D Lighting example's light intensity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12113><p>Early-exit bloom node if <code>intensity == 0.0</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12110><p>Fix WebGL not rendering <code>StandardMaterial</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12117><p>sort alpha masked pipelines by pipeline & mesh instead of by distance</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11766><p>Fix <code>CameraProjectionPlugin</code> not implementing <code>Plugin</code> in some cases</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11956><p>Add random shader utils, fix cluster_debug_visualization</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11979><p>Use <code>spawn_batch</code> in <code>many_lights</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12021><p>Improve lighting in more examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12137><p>Impl ShaderType for LinearRgba</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12155><p>compute shader game of life example: use R32Float instead of Rgba8Unorm</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12167><p>Register <code>fxaa::Sensitivity</code> and derive <code>Debug</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12220><p>bloom: use emissive instead of base_color for emissive</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12216><p>Intern mesh vertex buffer layouts so that we don't have to compare them over and over.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12247><p>Update <code>wgpu</code> to v0.19.3 and unpin <code>web-sys</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12250><p>Batching: replace GpuArrayBufferIndex::index with a u32</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12266><p>PBR: use attenuation instead of base_color for attenuation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12265><p>fix example lightmaps after color migration</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12059><p>Slicing support for texture atlas</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12248><p>update comment on <code>emissive</code> field of <code>StandardMaterial</code> struct to mention large color channel values</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12323><p>Use floats mathed from 8-bit values in basic color palette</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12342><p>Fix directional light shadow frustum culling near clip plane to infinity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11981><p>Improve Bloom 3D lighting</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12396><p>try_insert NoAutomaticBatching</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12369><p>Extracting ambient light from light.rs, and creating light directory</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12505><p>stop retrying removed assets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12525><p>Add trait for clamping colors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12513><p>fast-fail in as_bind_group</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12538><p>Add setting to enable/disable shadows to MaterialPlugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12619><p>Implement <code>Mix</code> for <code>Hsva</code> and <code>Hwba</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12641><p>Interpolating hues should use rem_euclid.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12559><p>Remove needless color specializaion for <code>SpritePipeline</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12656><p>Moving structs PointLight, SpotLight, and DirectionalLight out of light/mod.rs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12683><p>fix: make WebGPU shader work again</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12694><p>Add iOS to synchronous_pipeline_compilation docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12730><p>Fix CI for wasm atomics</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12458><p>Update image requirement from 0.24 to 0.25</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12744><p>Make PersistentGpuBufferable a safe trait</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12783><p>Pack the <code>StandardMaterialKey</code> into a single scalar instead of a structure.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12781><p>Torus benchmark</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12453><p>Improve performance by binning together opaque items instead of sorting them.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12797><p>Vectorize reset_view_visibility</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12775><p>Added a small comment to post_processing example with instructions on how to make it work for 2d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12542><p>Fix crash on Linux Nvidia 550 driver</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12811><p>remove <code>DeterministicRenderingConfig</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12833><p>Normalize warning messages with Nvidia drivers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12826><p>Fix UV coords in <code>generate_custom_mesh</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12791><p>Micro-optimize <code>queue_material_meshes</code>, primarily to remove bit manipulation.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12363><p>many_cubes: Add no automatic batching and generation of different meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12742><p>Add the annulus shape to the <code>2d_shapes</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12862><p>Disable RAY_QUERY and RAY_TRACING_ACCELERATION_STRUCTURE by default</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12866><p>Relax BufferVec's type constraints</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12874><p>Added method to get waiting pipelines IDs from pipeline cache.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12845><p>fix msaa shift with irradiance volumes in mesh pipeline key</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12872><p>Fix broken link in mesh docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12888><p>Fix skybox wrong alpha</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12606><p>more robust gpu image use</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12902><p>Add previous_view_uniforms.inverse_view</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12585><p>Fix potential out-of-bounds access in pbr_functions.wgsl</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12877><p>Add gpu readback example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12897><p>Fix example game of life</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12773><p>Generate <code>MeshUniform</code>s on the GPU via compute shader where available.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12917><p>flipping texture coords methods has been added to the StandardMaterial</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12910><p>Implement percentage-closer filtering (PCF) for point lights.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12582><p>Divide the single <code>VisibleEntities</code> list into separate lists for 2D meshes, 3D meshes, lights, and UI elements, for performance.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12945><p>Fix rendering of sprites, text, and meshlets after #12582.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12957><p>Don't examine every entity when extracting <code>SpriteSource</code>s.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12629><p>Fixed crash when transcoding one- or two-channel KTX2 textures</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12922><p>Fix 2D BatchedInstanceBuffer clear</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12970><p>Implement alpha to coverage (A2C) support.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12769><p>Normalization anchor for sprite slice in dimensions of this slice</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12738><p>fix: incorrect sprite size for aabb when sprite has rect and no custom_size</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13008><p>Add missing Default impl to ExtendedMaterial.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13012><p>Document Camera coordinate space</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12962><p>Run <code>CheckVisibility</code> after all the other visibility system sets have…</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12954><p>Expose <code>desired_maximum_frame_latency</code> through window creation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13034><p>Use WireframeColor to override global color</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13015><p>use a u64 for MeshPipelineKey</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13056><p>Clarify comment about camera coordinate system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13076><p>Remove unused push constants</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12755><p>Meshlet continuous LOD</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11477><p>Fix custom pipeline in mesh2d_manual rendering other meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12622><p>Throttle render assets</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13026><p>Cleanup extract_meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11808><p>Fix <code>CameraProjection</code> panic and improve <code>CameraProjectionPlugin</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13112><p>asset throttling: don't be exhausted if there is no limit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12898><p>Meshlet LOD-compatible two-pass occlusion culling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13124><p>Restore dragons to their seat of power</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12889><p>Implement GPU frustum culling.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13141><p>Fix typo in <code>bevy_render&amp#x2F;src&amp#x2F;batching&amp#x2F;gpu_preprocessing.rs</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13144><p>Don't ignore unbatchable sorted items.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13121><p>Implement filmic color grading.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13169><p>Use BindGroupLayoutEntryBuilder in texture_binding_array example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12916><p>Implement visibility ranges, also known as hierarchical levels of detail (HLODs).</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13199><p>Add BufferVec, an higher-performance alternative to StorageBuffer, and make GpuArrayBuffer use it.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12792><p>Implement Auto Exposure plugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13223><p>Re-export IntoDynamicImageError as public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13125><p>Meshlet remove per-cluster data upload</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13140><p>Doc custom CameraProjection requires use of plugin</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13176><p>Example with repeated texture</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13242><p>Only create changed buffer if it already exists</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13031><p>Implement clearcoat per the Filament and the <code>KHR_materials_clearcoat</code> specifications.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13251><p>Modulate the emissive texture by the emissive color again.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13266><p>Extract mesh view layouts logic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13210><p>Fix the WebGL 2 backend by giving the <code>visibility_ranges</code> array a fixed length.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12982><p>Clean up 2d render phases</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13006><p>Headless renderer example has been added</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13099><p>Fix motion blur on wasm</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13344><p>remove unused warnings in release</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13283><p>Fix incorrect workgroupBarrier and OOB array access in auto_exposure</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13200><p>Add UV channel selection to StandardMaterial</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13009><p>Implement fast depth of field as a postprocessing effect.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13355><p>Add docs for <code>PointLight</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13250><p>Apply uv transform in the prepass</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13158><p>Skip redundant mesh_position_local_to_world call in vertex prepass shader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13378><p>Fix ClearColor in 2d pipelines</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13374><p>Enable depth of field on webgpu</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13387><p>Add <code>Debug</code> derive for <code>ScreenSpaceAmbientOcclusionSettings</code> struct</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13379><p>Fix transmission by setting the correct value for transmissive_lighting_input.F_ab</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13333><p>Support calculating normals for indexed meshes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13333><p>Revert "Support calculating normals for indexed meshes" (#12716) and add support for calculating smooth normals</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13317><p>#12502 Remove limit on RenderLayers.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13057><p>Implement volumetric fog and volumetric lighting, also known as light shafts or god rays.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13394><p>Remove unnecessary .view_layouts</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13398><p>example render_to_texture: remove extra light</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13350><p>Add emissive_exposure_weight to the StandardMaterial</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13402><p>Make the prepass shader compile when lightmaps are present.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13410><p>Remove another .view_layouts</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13388><p>Fixed incorrect behaviour of headless_renderer depending on image dimensions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13444><p>Fix lints on beta Rust</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13277><p>Make render phases render world resources instead of components.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13449><p>fix lava emissive strength in depth of field example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13440><p>Fix 2D looking blurry at odd window sizes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13480><p>Fix lighting example following emissive material changes in #13350</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13495><p>Update render graph docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13516><p>add glsl feature for bevy_pbr</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13418><p>Implement opt-in sharp screen-space reflections for the deferred renderer, with improved raymarching code.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13539><p>revert reflections PR changes to the meshlet example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13544><p>use ssr dynamic offset in volumetric fog bind group</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13262><p>add tonemapping LUT bindings for sprite and mesh2d pipelines</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13562><p>Set the default target exposure to the minimum value, not 0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13574><p>Run motion blur before TAA to reduce artifacts</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13573><p>Fix: Motion blur should sample onscreen fragments with no depth</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13323><p>disable gpu preprocessing on android with Adreno 6xx GPU</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13589><p>color_grading: update UI when camera settings changed</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13604><p>Fix docs for <code>RenderLayers</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13572><p>Implement motion vectors and TAA for skinned meshes and meshes with morph targets.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13551><p>Use correct minimal version of meshopt</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13617><p>Add Skybox Motion Vectors</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13003><p>Meshlet single pass depth downsampling (SPD)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13238><p>More idiomatic texture atlas builder</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13628><p>Extra info on Image debug assertions</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13640><p>Move clustering-related types and functions into their own module.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13489><p>Normalise matrix naming</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13642><p>Update ruzstd requirement from 0.6.0 to 0.7.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13450><p>Implement PBR anisotropy per <code>KHR_materials_anisotropy</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13349><p>document need to update Aabb in Mesh::(with_)insert_attribute</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13654><p>Rename "point light" to "clusterable object" in cluster contexts.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13667><p>Add <code>binding()</code> helper function to <code>BufferVec</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13423><p>Implement subpixel morphological antialiasing, or SMAA.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13668><p>Use <code>BufferVec</code> for <code>gpu_readback</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13679><p>Skip tonemapping in case it is none</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13710><p>Made <code>Mesh::merge</code> take a reference of <code>Mesh</code>.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13705><p>Misc meshlet changes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13716><p>Use TBN in apply_normal_mapping in pbr_prepass</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13419><p>Allow mix of hdr and non-hdr cameras to same render target</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12720><p>2D top-down camera example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13752><p>Remove unused mip_bias parameter from apply_normal_mapping</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13761><p>Meshlet misc</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13766><p>Clarify error message due to missing shader file</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13775><p>Fix meshlet vertex attribute interpolation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13791><p>Add <code>from_color</code> to <code>StandardMaterial</code> and <code>ColorMaterial</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13803><p>Make FOG_ENABLED a shader_def instead of material flag</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13803><p>Revert "Make FOG_ENABLED a shader_def instead of material flag (#13783)"</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13540><p>Use dynamic uniform buffer in post processing example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13186><p>Wgpu 0.20</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13913><p>Make meshlet processing deterministic</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13816><p>Fix meshlet interactions with regular shading passes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14016><p>Fix MeshletMesh material system ordering</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14020><p>don't crash without features <code>bevy_pbr</code>, <code>ktx2</code>, <code>zstd</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13780><p>Print warning when using llvmpipe</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14037><p>typo</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14037><p>Fix typo in CPU adapter warning</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14042><p>Fix incorrect computation of mips for cluster occlusion lookup</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14029><p>Allow phase items not associated with meshes to be binned.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14081><p>Fix compile failure in WASM without <code>wgpu</code> backend</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13310><p>Support operations for render layers and fix equality comparisons</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14075><p>Clarify the difference between default render layers and <code>none</code> render layers</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14048><p>Added feature switch to default Standard Material's new anisotropy texture to off</p> </a></ul><h3 id=rendering-transform>Rendering + Transform <a class=anchor-link href=#rendering-transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12991><p>Add comment to example about coordinate system</p> </a></ul><h3 id=rendering-ui>Rendering + UI <a class=anchor-link href=#rendering-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12218><p>Deprecate <code>SpriteSheetBundle</code> and <code>AtlasImageBundle</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11165><p>Decouple <code>BackgroundColor</code> from <code>UiImage</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12429><p>Fix blurry text</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12725><p>Fix UI border artifacts caused by incorrect blending</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13462><p>Fix UI elements randomly not appearing after #13277.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13814><p>reduce the antialias strength</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13990><p>fix panic: invalid SlotMap key used</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14017><p>Make default behavior for <code>BackgroundColor</code> and <code>BorderColor</code> more intuitive</p> </a></ul><h3 id=rendering-utils>Rendering + Utils <a class=anchor-link href=#rendering-utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12666><p>FIX12527: Changes to make serde optional for bevy_color</p> </a></ul><h3 id=rendering-windowing>Rendering + Windowing <a class=anchor-link href=#rendering-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12010><p>Update <code>split_screen</code> example with 4 cameras</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12055><p>configure_surface needs to be on the main thread on iOS</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12978><p>Introduce a <code>WindowWrapper</code> to extend the lifetime of the window when using pipelined rendering</p> </a></ul><h3 id=scenes>Scenes <a class=anchor-link href=#scenes>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11938><p>scene example: remove unnecessary reflect(FromWorld)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12645><p>Fix typo in <code>SceneBundle</code> docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12778><p>Remove <code>InstanceId</code> when Scene Despawn</p> </a></ul><h3 id=tasks>Tasks <a class=anchor-link href=#tasks>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12169><p>Add an index argument to parallel iteration helpers in bevy_tasks</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12205><p>Get Bevy building for WebAssembly with multithreading</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13062><p>Bump async-task</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13071><p>Remove async-task as a dependency</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13699><p>async_compute example: don't block in the task</p> </a></ul><h3 id=tasks-windowing>Tasks + Windowing <a class=anchor-link href=#tasks-windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12913><p>Fix beta CI</p> </a></ul><h3 id=text>Text <a class=anchor-link href=#text>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11936><p>text2d example: animate_scale no longer unnecessarily performs the same translation at each Update</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11663><p>Calculate AABBs to enable text2d culling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13846><p>fix non-exact text h-alignment</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13858><p>text position: use size instead of bounds</p> </a></ul><h3 id=time>Time <a class=anchor-link href=#time>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13441><p>Adds doc note that Timer and Stopwatch must be progressed manually</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13879><p>Make time_system public</p> </a></ul><h3 id=transform>Transform <a class=anchor-link href=#transform>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12187><p>Alignment API for Transforms</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12530><p>Use <code>Dir3</code> in <code>Transform</code> APIs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13259><p>Refactor align example to use <code>Dir3</code> random sampling</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13599><p>bevy_transform split up to allow feature gate modularity</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13533><p>Allow bevy_transform to be used as a barebones dependency</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13704><p>Fix links to <code>Transform</code> in <code>Transform</code> and <code>GlobalTransform</code> docs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13935><p>Use a ship in Transform::align example</p> </a></ul><h3 id=transform-ui>Transform + UI <a class=anchor-link href=#transform-ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12802><p>[bevy_ui/layout] Update tests to get GlobalTransform properly</p> </a></ul><h3 id=ui>UI <a class=anchor-link href=#ui>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/8022><p>Add doc comments explaining the different behaviours of alignment and Anchor with text_2d</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11875><p>Simplify and improve <code>overflow_debug</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11876><p>Remove custom window size from <code>flex_layout</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11901><p>Add tinting to the border in <code>ui_texture_slice</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12183><p>ui materials respect target camera</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12213><p>Avoid panicking with non-UI nodes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12268><p>Fix #12255 Updating TargetCamera on multi camera scenes not allowing layout to be calculated</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12306><p>remove background color from UI example image</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12321><p>Fix <code>with_scale_factor_override</code> improperly setting <code>scale_factor_override</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12361><p>Fix incorrect link in UiMaterial documentation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12366><p>Add "all-features = true" to docs.rs metadata for most crates</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12395><p>don't attempt to set cursor relative position for zero sized nodes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12384><p>correctly set up background color in mobile example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12413><p>Reduce steady-state allocations in ui_stack_system</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12487><p>Add <code>with_left</code>, <code>with_right</code>, <code>with_top</code>, <code>with_bottom</code> to <code>UiRect</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12533><p>Compute texture slices after layout</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12532><p>feat: derive some common traits on some UI types</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12500><p>Add border radius to UI nodes (adopted)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12592><p>UI: allow border radius to be optional for images and background</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12599><p>UI: don't multiply color channels by alpha</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12601><p>UI: rounded border should use camera instead of windows</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12630><p>Update <code>borders</code> example to match <code>rounded_borders</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12602><p>rounded border: remove dead code in shader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12698><p>Restore pre 0.13.1 Root Node Layout behavior</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12567><p>Add padding to new text in <code>ui</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12801><p>[bevy_ui/layout] Extract UiSurface to its own file</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12999><p>grammar fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12816><p>Correctly handle UI hierarchy without a camera</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13096><p>Added vmin and vmax to the gridtrack impls, repeatedgridtrack impls</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12839><p>UI: pass the untransformed node size to the shader</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10690><p>Upgrade to Taffy 0.4</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13452><p>Rename <code>Rect</code> <code>inset()</code> method to <code>inflate()</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13470><p>Optimize the values for <code>EMPTY</code> rect.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13523><p>Fix various bugs with UI rounded borders</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13541><p>fix rounded borders on buttons</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13546><p>Fix UI in WebGPU: call <code>textureSample</code> from outside the if</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13555><p>Fix image measure function to apply inherent aspect ratio to style sizes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13603><p>Updates default Text font size to 24px</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13697><p>make UI text rendering camera driven</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13921><p>bug: Fix 9-slice textures with asymmetric borders.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14055><p>add PartialEq to Outline</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14115><p>fix remaining issues with background color in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14121><p>Fix border color in <code>ui_texture_slice</code> and <code>ui_texture_atlas_slice</code> examples.</p> </a></ul><h3 id=utils>Utils <a class=anchor-link href=#utils>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/7348><p>refactor: Extract parallel queue abstraction</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12308><p>bevy_utils: Add <code>BuildHasher</code> parameter to <code>bevy_utils::Entry</code> type alias</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12313><p>Disentangle bevy_utils/bevy_core's reexported dependencies</p> </a></ul><h3 id=windowing>Windowing <a class=anchor-link href=#windowing>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12238><p>Add <code>size</code> and <code>physical_size</code> to <code>window</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11278><p>Fix fit_canvas_to_parent</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12197><p>Add the ability to request a redraw from an external source</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12239><p>Fix winit control flow when re-focusing game</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12428><p>Make <code>CreateWindowParams</code> type and <code>create_windows</code> system public</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12450><p>Expose Winit's <code>with_skip_taskbar</code> on window creation</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12749><p>Clean up WinitWindows::remove_window</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12787><p>Add Clone to WinitSettings</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12861><p>Fixes #12000: When viewport is set to camera and switched to SizedFul…</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12983><p>Remove unecessary lint <code>#[allow(...)]</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12669><p>fix: rewrite winit loop</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13151><p>Simplify winit runner exit code reporting</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13236><p>Ensure clean exit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13366><p>fix: upgrade to winit v0.30</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13686><p>make sure windows are dropped on main thread</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13744><p>13743 app exit hang</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13942><p>Correctly check physical size when updating winit</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13967><p>apply window scale to window size when creating it</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13949><p>Have WindowPosition::Centered take scale_factor_override into account</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14023><p>only run one update per frame drawn</p> </a></ul><h3 id=no-area-label>No area label <a class=anchor-link href=#no-area-label>#</a></h3><ul class=pr-list><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11949><p>Use <code>is</code> method instead of <code>downcast_ref::&amplt;T&ampgt;().is_some()</code> in <code>App::is_plugin_added</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11973><p>Update to toml_edit 0.22</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/11921><p>Use the scroll wheel to control the camera speed in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12038><p>fix some typos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12101><p>remove unnecessary mut in query in ui_texture_slice example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12112><p>Fixed iOS documentation typo for xcrun command</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10673><p>examples/ecs/iter_combinations: Initialize velocity using fixed timestep</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/10404><p>Update tracing-log requirement from 0.1.2 to 0.2.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12165><p>include links in error messages</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12174><p>Add a colon to error message link</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12217><p>Various improvements to the <code>contributors</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12223><p>Build dev docs like docs.rs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12257><p>Add nightly hint to config.toml</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12253><p>Update engine_style_guide with guideline to link to the error code when using bevy engine error codes</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12270><p>remove repetitive code</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12291><p>Bump crate-ci/typos from 1.18.2 to 1.19.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12303><p>remove comment in typos.toml</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12325><p>Fix docs for atlas + slicing support</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12328><p>Fix green colors becoming darker in various examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12333><p>Fix "dark grey" colors becoming lighter in various examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12339><p>Fix ios simulator support</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12331><p>We must have googly eyes (new Game example)</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12343><p>Fix dim emissive values in <code>lighting</code> example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12416><p>Update ruzstd requirement from 0.5.0 to 0.6.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12437><p>low_power example: pick nits</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12439><p>Fix <code>z</code> scale being <code>0.0</code> in breakout example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12477><p>Breakout refactor</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12535><p>Fix typo in bevy_internal/Cargo.toml</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12512><p>Update to fixedbitset 0.5</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12531><p>remove link to inexistent example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12348><p>Beautify example showcase site URLs</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12552><p>Update base64 requirement from 0.21.5 to 0.22.0</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12451><p>Fix pink colors in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12557><p>refactor: separate out <code>PanicHandlerPlugin</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12626><p>typo: 'plateform' -> 'platform'</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12644><p>Switch to portable RNG in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12642><p>Make <code>feature(doc_auto_cfg)</code> work</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12593><p>Adding explanation to seeded rng used in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12753><p>fix example mesh2d_manual in wasm/webgl2</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12780><p>Fix ambiguities causing a crash</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12608><p>Fix example showcase wasm window settings patch</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12907><p>Bump crate-ci/typos from 1.19.0 to 1.20.4</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12918><p>Enable <code>clippy::ref_as_ptr</code></p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12972><p>Bump crate-ci/typos from 1.20.4 to 1.20.8</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/12989><p>Add <code>Cascades</code> to the type registry, fixing lights in glTF.</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13085><p>Update and clarify a Maintainer merge rule</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13205><p>Give alt text to Bevy logo</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13342><p>headless_renderer comments typo fix</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13526><p>Update itertools requirement from 0.12 to 0.13</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13542><p>small improvements on the color_grading example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13531><p>Set ambient_intensity to 0.0 in volumetric_fog example, correct doc comment</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13566><p>Swapping back to using From&LTColor> for StandardMaterial in examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13583><p>Use standard instruction text / position in various examples</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13624><p>Handle wgsl errors in the game of life example</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13404><p>Fix a few typos</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13732><p>rename the crate bevy_state_macros_official back to its original name</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/13954><p>Make Observer::with_event (and other variants) unsafe</p> </a><li class=pr-list__item><a href=https://github.com/bevyengine/bevy/pull/14033><p>fix examples color_grading and mobile after BackgroundColor changes</p> </a></ul></div><script type=module>import{enable_image_compare as a}from"/components.js";document.addEventListener(`DOMContentLoaded`,(()=>{a()}))</script></div></div></div></main><footer class=print:hidden><div class=footer__social-container><a class=footer__social href=https://github.com/bevyengine/bevy title=GitHub> <img alt="GitHub logo" height=24 src=/assets/github-mark-white.svg width=24> </a><a class=footer__social href=https://discord.gg/bevy title=Discord> <img alt="Discord logo" height=24 src=/assets/discord.svg width=24> </a><a class=footer__social href=https://bsky.app/profile/bevy.org title=Bluesky> <img alt="Bluesky logo" height=24 src=/assets/bluesky.svg width=24> </a><a class=footer__social href=https://mastodon.social/@bevy title=Mastodon> <img alt="Mastodon logo" height=24 src=/assets/mastodon-logo-purple.svg width=24> </a><a class=footer__social href=https://www.reddit.com/r/bevy/ title=Reddit> <img alt="Reddit logo" height=24 src=/assets/reddit.svg width=24> </a><a class=footer__social href=https://itch.io/games/tag-bevy title=itch.io> <img alt="itch.io logo" height=24 src=/assets/itchio-textless.svg width=24> </a><a title="Bevy news feed" class=footer__social href=/atom.xml> <img alt="Bevy news feed" height=24 src=/assets/feed.svg width=24> </a></div></footer></div><script>const search_params=new URLSearchParams(window.location.search);if(search_params.has(`show_drafts`)||document.cookie.indexOf(`show_drafts`)>=0){let a=`show_drafts`;if(search_params.get(a)===`0`){document.cookie=`show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC`}else{document.cookie=`show_drafts=1;path=/`;document.body.classList.add(a)}}</script>